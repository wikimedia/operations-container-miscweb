<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 1150 &ndash; previous edits can disappear if a user edits the same page twice</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="https://old-bugzilla.wikimedia.org/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=1150&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=1150">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=1150">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=1150">



    
    <link href="skins/standard/global.css?1389015166"
          rel="alternate stylesheet" 
          title="Classic"><link href="js/yui/assets/skins/sam/autocomplete.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="js/yui/assets/skins/sam/calendar.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/global.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/show_bug.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="extensions/Voting/web/style.css?1389015166" rel="stylesheet"
        type="text/css" ><!--[if lte IE 7]>
      


  <link href="skins/standard/IE-fixes.css?1389015166" rel="stylesheet"
        type="text/css" >
<![endif]-->

    <link href="skins/contrib/Wikimedia/global.css?1402013050" rel="stylesheet"
        type="text/css" title="Wikimedia"><link href="skins/contrib/Wikimedia/show_bug.css?1402441020" rel="stylesheet"
        type="text/css" title="Wikimedia">

      <link rel="stylesheet" href="skins/contrib/Wikimedia/vector.css?1403109885" media="screen"
            title="Wikimedia" />


    

    

    
<script type="text/javascript" src="js/yui/yahoo-dom-event/yahoo-dom-event.js?1389015166"></script><script type="text/javascript" src="js/yui/cookie/cookie-min.js?1389015166"></script><script type="text/javascript" src="js/yui/datasource/datasource-min.js?1389015166"></script><script type="text/javascript" src="js/yui/connection/connection-min.js?1389015166"></script><script type="text/javascript" src="js/yui/json/json-min.js?1389015166"></script><script type="text/javascript" src="js/yui/autocomplete/autocomplete-min.js?1389015166"></script><script type="text/javascript" src="js/yui/calendar/calendar-min.js?1389015166"></script><script type="text/javascript" src="js/global.js?1389015166"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 15
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 1150 – previous edits can disappear if a user edits the same page twice",  
                             "show_bug.cgi?id=1150" );
        document.title = "Bug 1150 – previous edits can disappear if a user edits the same page twice";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 1150 – previous edits can disappear if a user edits the same page twice", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script type="text/javascript" src="js/util.js?1389015166"></script><script type="text/javascript" src="js/field.js?1389015166"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico" >
  </head>



  <body onload=""
        class="old-bugzilla-wikimedia-org bz_bug bz_status_RESOLVED bz_product_MediaWiki bz_component_Page_editing bz_bug_1150 yui-skin-sam">



<!-- If custom Wikimedia skin -->
   <div id="page-base" class="noprint"></div>
                <div id="head-base" class="noprint"></div>
                <!-- content -->
                <div id="content-container" >
                        <a id="top"></a>
                        <!-- bodyContent -->
                        <div id="bodyContent">
      <p class="header_addl_info">Last modified: 2010-05-15 15:33:44 UTC</p>

 <!-- If custom Wikimedia skin -->
<h1>Wikimedia Bugzilla is closed!</h1><div id="message" style="text-align: center; color: black">Wikimedia has <a href="https://www.mediawiki.org/wiki/Phabricator/versus_Bugzilla">migrated from Bugzilla to Phabricator</a>. Bug reports should be created and updated in <a href="https://phabricator.wikimedia.org">Wikimedia Phabricator</a> instead. Please <a href="https://www.mediawiki.org/wiki/Phabricator/Help#Creating_your_account">create an account in Phabricator and add your Bugzilla email address</a> to it.<br>Wikimedia Bugzilla is read-only. If you try to edit or create any bug report in Bugzilla you will be shown an intentional error message.<br>In order to access the Phabricator task corresponding to a Bugzilla report, just remove "static-" from its URL.<br>You could still run searches in Bugzilla or access your <a href="https://old-bugzilla.wikimedia.org/page.cgi?id=voting%2Fuser.html">list of votes</a> but bug reports will obviously not be up-to-date in Bugzilla.</div>

<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>
<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2010-05-15 15:33:44">
  <input type="hidden" name="longdesclength" value="39">
  <input type="hidden" name="id" value="1150">
  <input type="hidden" name="token" value="1419358511-I-wOtP8NWlZnJyW3Ybu-ZW6Gs4hil8IvPWPuQ52e258">
<div class="bz_alias_short_desc_container edit_form">
     <a href="show_bug.cgi?id=1150"><b>Bug&nbsp;1150</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">previous edits can disappear if a user edits the same page twice</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>
</label>
</th>
          <td>previous edits can disappear if a user edits the same page twice
          </td>
        </tr>
      </table>
    </div>
  </div>
  <script type="text/javascript">
    hideAliasAndSummary('previous edits can disappear if a user edits the same page twice', '');
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >MediaWiki</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr>
    
    <td class="field_label">
      <label for="component">
        <a href="describecomponents.cgi?product=MediaWiki">
        Component:</a>
      </label>
    </td>
    
    <td>Page editing
    
    (<a href="buglist.cgi?component=Page%20editing&product=MediaWiki&resolution=---"
      target="new_window">Other open bugs</a>)
    
    </td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>
</label>
</th>
        <td>1.4.x
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">All
       All
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>High
       critical<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=1150">23 
            votes</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=1150#vote_1150">vote</a>)
  </span>
      </td>
    </tr>

      <tr>
        <th class="field_label">
          <label for="target_milestone">
            <a href="page.cgi?id=fields.html#target_milestone">
            Target&nbsp;Milestone</a></label>:
        </th><td>---
  </td>
      </tr>            
          
          <tr>
      <th class="field_label">
        <a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">Anders Wegge Jakobsen</span>
</span>
      </td>
    </tr>

    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'wikibugs-l\x40lists.wikimedia.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
  
    <tr><th class="field_label "
    id="field_label_status_whiteboard">

    <label for="status_whiteboard" accesskey="w">

  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>
</label>
</th><td colspan="2">  
  </td>
    </tr>
  
    <tr>
      <th class="field_label">
        <label for="keywords" accesskey="k">
          <a href="describekeywords.cgi"><u>K</u>eywords</a></label>:
      </th>
      <td class="field_value" colspan="2">testme
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label for="duplicates">Duplicates</label>:
    </th>
    <td class="field_value" colspan="2">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Edit locks not happening for logged in users"
   href="show_bug.cgi?id=2712">2712</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Edit conflict resolution fails when one user edits multiple times"
   href="show_bug.cgi?id=3604">3604</a> 
      </span>
      (<a href="buglist.cgi?bug_id=2712,3604">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr>
    <th>&nbsp;</th>
  
    <td colspan="2" align="left" id="show_dependency_tree_or_graph">
      Show dependency <a href="showdependencytree.cgi?id=1150&amp;hide_resolved=1">tree</a>
  
        /&nbsp;<a href="showdependencygraph.cgi?id=1150">graph</a>
    </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2004-12-23 01:31 UTC by <span class="vcard"><span class="fn">elian</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2010-05-15 15:33 UTC 
      (<a href="show_activity.cgi?id=1150">History</a>)
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>9 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="andreengels">andreengels</option>
                <option value="aschulz4587">aschulz4587</option>
                <option value="ayg">ayg</option>
                <option value="conway">conway</option>
                <option value="qleah">qleah</option>
                <option value="river">river</option>
                <option value="rowan.collins">rowan.collins</option>
                <option value="ui2t5v002">ui2t5v002</option>
                <option value="wikibugs-l">wikibugs-l</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         <tr><th class="field_label "
    id="field_label_cf_browser">


  <a 
      title="Please set this if the described problem seems to happen only in a specific web browser."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_browser"
  >Web browser:</a>

</th>
  <td class="field_value "
      id="field_container_cf_browser"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_platform">


  <a 
      title="The Mobile Platform the described problem was experienced on."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_platform"
  >Mobile Platform:</a>

</th>
  <td class="field_value "
      id="field_container_cf_platform"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_hugglebeta">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_hugglebeta"
  >Assignee Huggle Beta Tester:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_hugglebeta"  colspan="2">---</td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>



  <tr class="bz_attach_footer">
    <td colspan="2">
        <a href="attachment.cgi?bugid=1150&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>

  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js?1389015166" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>




<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">elian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-12-23 01:31:22 UTC
        </span>
      </div>



<pre class="bz_comment_text" >A user on german wikinews came across the following behaviour twice:
he edited the page, saved it, clicked in his browser on &quot;stop loading&quot; and
edited the page another time. 

On this second edit previous edits get deleted.
The first time it deleted the two previous comments from other users:
<a href="http://de.wikinews.org/w/index.php?title=Wikinews:Pressestammtisch&amp;diff=8121&amp;oldid=8117">http://de.wikinews.org/w/index.php?title=Wikinews:Pressestammtisch&amp;diff=8121&amp;oldid=8117</a>

the second time it just deleted one previous edit:
<a href="http://de.wikinews.org/w/index.php?title=Wikinews:Pressestammtisch&amp;diff=8477&amp;oldid=8476">http://de.wikinews.org/w/index.php?title=Wikinews:Pressestammtisch&amp;diff=8477&amp;oldid=8476</a>

description in german:
<a href="http://de.wikinews.org/wiki/Wikinews:Pressestammtisch#Der_.22Zensurbug.22_ist_reproduzierbar">http://de.wikinews.org/wiki/Wikinews:Pressestammtisch#Der_.22Zensurbug.22_ist_reproduzierbar</a></pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Daniel Arnold</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-01-08 23:35:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I noticed this bug again this time in the english wikipedia. Her a link to the diff (note the two subsequent edits of user Nichalp,   
which where related to that problem):   
<a href="http://en.wikipedia.org/w/index.php?title=Wikipedia:Village_pump_%28proposals%29&amp;diff=9159759&amp;oldid=9155917">http://en.wikipedia.org/w/index.php?title=Wikipedia:Village_pump_%28proposals%29&amp;diff=9159759&amp;oldid=9155917</a>   
   
The user wrote on my personal talk page after this edit: &quot;The fault lies with Wikipedia. Apparently I was trying to reply to a  
posted message, and my browser didn't give me any confirmation so I pressed the &quot;Save Page&quot; repeatedly.&quot;   
   
Daniel Arnold (Arnomane) </pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Zigger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-01-09 06:58:42 UTC
        </span>
      </div>



<pre class="bz_comment_text" >All the examples were edits within a couple of minutes of each other.
This might be due to database replication lags, causing the edit text-box to be
loaded with an older revision from a database slave, resulting in the missing
edit being lost when saved.

If you notice this, please repeat the missing edit to the article, crediting the
original author in the edit summary.
</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Daniel Arnold</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-01-09 20:48:06 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Well I think it is also important to note the small changes in the timestamp of the signatures. This means in the last example: 
User:Nichalp had overwritten his text (which he saved previously and which was the same despite the ~~~~ wich got expanded to 
another timestamp) and the text of User:Aromane (me). 
It must have happend this way: 
a) User Nichalp opened a section of the page for editing 
b) After that user Arnomane also opened another section of the page for editing and saved the edit after a short time 
c) User Nichalp saved his edit and since there was no edit conflict between the two section edits there didn't show up one and so 
user nichalps cange was saved first time. 
d) User Nichalp didn't get any feedback in the browser so he pressed again &quot;save page&quot; And now strangely not only the section but 
the whole article got overwritten by the version from the point when he began editing plus his edit. And since it was a later time 
his timestamp changed. 
 
With the other two edits it was similar. </pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Daniel Arnold</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-02-06 21:15:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Finally user Avatar in German Wikipedia showed me an easy way how to reproduce this bug. It has nothing to do with reload issues and 
delays in browser display as I assumed first. It is much simpler: 
 
1) 
I created two sections in an article (sandbox in German Wikipedia), called &quot;Sektion 1&quot; and &quot;Sektion 2&quot; and gave them a small text 
&quot;1: Hallo&quot; and &quot;2: Hallo&quot;: 
<a href="http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;oldid=4387945">http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;oldid=4387945</a> 
 
2) 
I opened &quot;Sektion 1&quot; for editing (section edit) in a new Window (window 1) 
 
3) 
I opened &quot;Sektion 2&quot; for editing (section edit) in a second new window (window 2) 
 
4) 
I removed the &quot;1: Hallo&quot; text in &quot;Sektion 1&quot; in window 1 and saved it. 
So this ist the diff as expected: <a href="http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;diff=4387960&amp;oldid=4387945">http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;diff=4387960&amp;oldid=4387945</a> 
 
5) 
I added &quot;3: Hallo&quot; in &quot;Sektion 2&quot; in window 2 and saved it. 
And now here is the mysterious diff with the bug: 
<a href="http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;diff=4388174&amp;oldid=4387960">http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;diff=4388174&amp;oldid=4387960</a> 
 
You see the &quot;1: Hallo&quot; text is falsely readded to the text and so the previous edit got reverted by software although I did edit a 
complete different section and only wrote &quot;3: Hallo&quot;. 
 
So I hope with this easy way of reproduction it is now possible that this nasty bug can be found and fixed in source code. </pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Richard J. Holton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-02-06 23:34:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I'm not sure exactly how the section editing resolution is done, but this bug
seems to be directly related to the fact that edit conflicts between the same
user are explicitly ignored in the code. If a user saves twice from the same
loaded version of a page, the second save will wipe out the first. This is to
allow a user to save an edit, hit &quot;back&quot; in the browser, and make a different
change (presumably correcting the first change) without having an edit conflict.
We may need to rethink this particular feature...</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Daniel Arnold</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-02-07 10:41:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Okay it has something to do with with so susequent edits of the same user. With a trick I can now reproduce how you can   
also delete edits of others by accident:   
   
1)   
Again two sections:   
<a href="http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;oldid=4394445">http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;oldid=4394445</a>   
   
2)   
Open the &quot;Sektion 2&quot; section with browser A as logged in user for editing. (in this case KDE Konqueror browser and logged in me as  
user Arnomane)   
   
3)   
Open the &quot;Sektion 1&quot; section with browser B as logged in user for editing. (in this case Mozilla browser anonymous so not logged in  
at the same computer)   
   
4)   
Remove the &quot;test 1&quot; text in &quot;Sektion 1&quot; in browser B as anoymous user and save it, until now everything is okay; here is the diff:   
<a href="http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;diff=4394459&amp;oldid=4394445">http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;diff=4394459&amp;oldid=4394445</a>   
   
5)   
Add &quot;test 3&quot; text in &quot;Section 2&quot; in browser A as logged in user (here Arnomane) and save it. Now this time here is everything okay   
it doesn't overwrite the previous edit; see diff to previous version:   
<a href="http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;diff=4394462&amp;oldid=4394459">http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;diff=4394462&amp;oldid=4394459</a>   
   
6)   
Now press the backwards button in browser A so that you get again the edit box (here still logged in as Arnomane) and add &quot;test 4&quot;   
text and save it. And finally here the bug deletes the edit of the second user which was done in between (in browser B) and adds   
falsely again the &quot;test 1&quot; text in the first section:   
<a href="http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;diff=4394476&amp;oldid=4394462">http://de.wikipedia.org/w/index.php?title=Wikipedia:Spielwiese&amp;diff=4394476&amp;oldid=4394462</a>   
   
So here the software thinks that there is only an edit conflict with the user itself and thus explicitely ignores the change of the   
second user and overwrites it.   
   
So I think the basic idea behind that you ignore an edit conflict of the user with himself is a good thing but the actual solution   
only works if you only edit the entire article, but with section editing it doesn't work. I think there is also a merge problem   
with section edits. I hope this bug can be fixed very soon, as it is a lager problem in Wikipedia and has lead to many many bad  
words of users that thought someone is censoring their edits (thats why I gave this bug the maximum vote)... </pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Daniel Arnold</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-02-07 12:12:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Some more thoughts:   
I think I know what the exact problem might be (without looking at the code):   
*If two different users edit different sections their edits get normally merged since they don't conflict with each other.   
*But if one user makes two subsequent edits they don't get merged but the second overwrites the first edit.   
*So if there is a merge of the subsequent edits of one user as with the two different users and then ignoring a potential edit   
conflicts of the user with himself there should be no unwanted deletion. </pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">mdonn
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-16 04:27:45 UTC
        </span>
      </div>



<pre class="bz_comment_text" >On en.wikipedia I am &quot;Too Old&quot;. I added text to Talk:TradeStation. I saved edit.
 I re-edited, adding text to first edit.  I saved edit. Now I see only first
version of text if I am logged in, but entire text  if I am logged out. 
Clearing my cache makes no difference.  Restarting my browser makes no
difference.  My browser gives following &quot;about&quot; information: &quot;Mozilla/5.0
(Windows; U; Windows NT 5.1; en-US; rv: 1.7.8) Gecko/20050511 Firefox/1.0.4&quot;  --
<a href="mailto:mdonn&#64;harbornet.com">mdonn&#64;harbornet.com</a></pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Anders Wegge Jakobsen</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-24 21:03:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" >We need to check if this is also a problem in HEAD. If it is, we should mark
this as a blocker agains the 1.5 release. I'll give it a shot, but I'm away for
the next two weeks. So if someone could take a before, it would be fine.</pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Anders Wegge Jakobsen</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-24 21:10:31 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Why doesn't bugzilla do what it is told?</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-24 21:59:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Is this just section edit conflict resolution, the same as <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WORKSFORME - Section editing may revert previous edits"
   href="show_bug.cgi?id=1601">bug 1601</a>?

The descriptions don't seem to indicate any *disappearing* or *overwritten* edits, just new section 
edits saved based from the wrong prior version.</pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Daniel Arnold</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-24 22:30:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Yes #1601 is definitly a duplicate of this bug. The &quot;deletion&quot; and the &quot;revert&quot; to previous &quot;version&quot; are the same thing. 
 
You name it as deletion of a previous edit in a talk page where you have separated blocks of edits (e.g. a vote with comment on 
vote pages) or as a &quot;revert&quot; to a previous version in an article if you inserted or rearranged some stuff. Only the diff looks 
because of the different edit structure a little bit different at the first view but it's the same bug. </pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rowan Collins [IMSoP]</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-25 20:26:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >[Removing block on database replication tracker as the bug doesn't seem to need
lag as such.]

It's worth noting that this bug *doesn't* require section editting to be
involved - consider the following sequence:
1) user A starts editting a page
2) user B saves an edit adding to the bottom of the page
3) user A adds something to the top of the page and saves; diff3 merges the edits
4) user A resubmits the same edit; now the current version is by user A, so
diff3 isn't called, and the edits at steps 2 and 3 are ignored

The problem with trying to merge the two edits by the same user is easiest to
see if step (4) is instead &quot;user A submits a slightly modified edit&quot;, in which
case the merge would fail - AFAIK, diff3 can't merge some chunks and ignore
others, so the only resort would be to have an edit conflict with yourself. Just
clicking the button twice *ought* not to produce an unmergable edit, but I'm not
100% sure that would always be the case. Even then, whether losing the ability
to go &quot;save - oh, whoops, forgot to sign - stop, type, save again&quot; without
getting a conflict screen is an acceptable price to pay, I'm not sure; Brion
says in <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - page or section content duplication on edit conflict with self"
   href="show_bug.cgi?id=275#c6">bug 275 comment 6</a> that &quot;we got a lot of complaints about that back in
the day&quot;.

Nor would it help, as I first thought, to check whether someone else has editted
*as well as* &quot;yourself&quot; since you clicked the edit link, because of the
possibility of editting two sections in different windows/tabs - indeed, if you
turned merging for edits by the same user on, users A and B in the example could
actually be the *same* user!

It seems to me that, unless someone comes up with a different technique, that we
have to choose between fixing this bug and retaining the ability not to
edit-conflict with yourself.</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rowan Collins [IMSoP]</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-25 20:27:43 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WORKSFORME - Section editing may revert previous edits"
   href="show_bug.cgi?id=1601">Bug 1601</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Anders Wegge Jakobsen</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-28 14:26:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1150#c11">comment #11</a>)
<span class="quote">&gt; Is this just section edit conflict resolution, the same as <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WORKSFORME - Section editing may revert previous edits"
   href="show_bug.cgi?id=1601">bug 1601</a>?</span >

No, it's actually two different bugs. The section editing conflict is one part,
but there is also a problem with the same user submitting an edit twice. In this
case, any conflict resolution performed on the first edit is silently discarded.</pre>
    </div><div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rowan Collins [IMSoP]</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-29 18:21:17 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1150#c15">comment #15</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=1150#c11">comment #11</a>)
&gt; &gt; Is this just section edit conflict resolution, the same as <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WORKSFORME - Section editing may revert previous edits"
   href="show_bug.cgi?id=1601">bug 1601</a>?
&gt; 
&gt; No, it's actually two different bugs. The section editing conflict is one part,
&gt; but there is also a problem with the same user submitting an edit twice. In this
&gt; case, any conflict resolution performed on the first edit is silently discarded.</span >

I don't think it's two bugs; a more accurate statement is that section editting
is one way of *triggering* this bug, but not the only way. In fact, it's neither
&quot;sufficient&quot; (you have to conflict with yourself *as well*) nor &quot;necessary&quot; (you
can create the same effect by manually editting different parts of the article);
in other words, it's something of a red herring - it's just the most likely way
of encoutering this bug &quot;in the wild&quot;.

If you can give examples of situations which don't fit my basic steps in <a href="show_bug.cgi?id=1150#c13">comment
13</a>, I will of course stand corrected.</pre>
    </div><div id="c17" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Anders Wegge Jakobsen</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-29 20:56:44 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1150#c16">comment #16</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=1150#c15">comment #15</a>)
&gt; &gt; (In reply to <a href="show_bug.cgi?id=1150#c11">comment #11</a>)
&gt; &gt; &gt; Is this just section edit conflict resolution, the same as <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WORKSFORME - Section editing may revert previous edits"
   href="show_bug.cgi?id=1601">bug 1601</a>?
&gt; &gt; 
&gt; &gt; No, it's actually two different bugs. The section editing conflict is one part,
&gt; &gt; but there is also a problem with the same user submitting an edit twice. In this
&gt; &gt; case, any conflict resolution performed on the first edit is silently discarded.
&gt; 
&gt; I don't think it's two bugs; a more accurate statement is that section editting
&gt; is one way of *triggering* this bug, but not the only way. In fact, it's neither
&gt; &quot;sufficient&quot; (you have to conflict with yourself *as well*) nor &quot;necessary&quot; (you
&gt; can create the same effect by manually editting different parts of the article);
&gt; in other words, it's something of a red herring - it's just the most likely way
&gt; of encoutering this bug &quot;in the wild&quot;.
&gt; 
&gt; If you can give examples of situations which don't fit my basic steps in comment
&gt; 13, I will of course stand corrected.</span >

I cannot give you a way of reproducing it right now. However, I've seen some
real strange results by not skipping the conflict check, even if the same user
is the last editor. At one point I managed to get the entire page pasted into
one section, so there is something wrong with section editing as well.

On the matter of resubmitting an edit twice, I think that the easiest way of
solving the problem, is to pass a token with the edit form that can be used for
one submission only. This will at least fix the problem of editors using their
browser history to resubmit something instead of making a new edit. </pre>
    </div><div id="c18" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">River Tarnell</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-29 21:00:45 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1150#c17">comment #17</a>) 
<span class="quote">&gt; On the matter of resubmitting an edit twice, I think that the easiest 
&gt; way of solving the problem, is to pass a token with the edit form that 
&gt; can be used for one submission only. This will at least fix the 
&gt; problem of editors using their browser history to resubmit something 
&gt; instead of making a new edit.  </span >
 
this will break if the user makes an edit, clicks back to correct a 
mistake, and resaves. </pre>
    </div><div id="c19" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Anders Wegge Jakobsen</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-29 21:45:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1150#c18">comment #18</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=1150#c17">comment #17</a>) 
&gt; &gt; On the matter of resubmitting an edit twice, I think that the easiest 
&gt; &gt; way of solving the problem, is to pass a token with the edit form that 
&gt; &gt; can be used for one submission only. This will at least fix the 
&gt; &gt; problem of editors using their browser history to resubmit something 
&gt; &gt; instead of making a new edit.  
&gt;  
&gt; this will break if the user makes an edit, clicks back to correct a 
&gt; mistake, and resaves. </span >

I know, but this user behaviour is precisely the problem in the first place. 

</pre>
    </div><div id="c20" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rowan Collins [IMSoP]</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-29 21:46:43 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1150#c17">comment #17</a>)
<span class="quote">&gt; I cannot give you a way of reproducing it right now. However, I've seen some
&gt; real strange results by not skipping the conflict check, even if the same user
&gt; is the last editor. At one point I managed to get the entire page pasted into
&gt; one section, so there is something wrong with section editing as well.</span >

This sounds suspiciously similar to <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - page or section content duplication on edit conflict with self"
   href="show_bug.cgi?id=275">bug 275</a> - probably the most irritating, most
intermittent, and least well-defined and diagnosed bug in the whole of
MediaWiki's history. For all I know, that bug and this are very closely related,
but given that we seem to have a pretty tight definition of *a* particular bug
on this page, I'd favour keeping to that one issue here rather than confusing
the issue with events that clearly *aren't* the same.</pre>
    </div><div id="c21" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rowan Collins [IMSoP]</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-29 21:52:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1150#c19">comment #19</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=1150#c18">comment #18</a>)
&gt; &gt; this will break if the user makes an edit, clicks back to correct a 
&gt; &gt; mistake, and resaves. 
&gt; 
&gt; I know, but this user behaviour is precisely the problem in the first place. </span >

Again, I refer you to <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - page or section content duplication on edit conflict with self"
   href="show_bug.cgi?id=275#c6">bug 275 comment 6</a>, where Brion states:
<span class="quote">&gt; The purpose is so that someone who saves an edit, clicks &quot;back&quot;, makes another</span >
change, and clicks &quot;save&quot; again 
<span class="quote">&gt; won't receive an edit conflict message. We got a lot of complaints about that</span >
back in the day.

So this isn't, per se, the problem (it is, quite literally, not a bug but a
feature) but as I said in <a href="show_bug.cgi?id=1150#c13">comment #13</a>:
<span class="quote">&gt; It seems to me that, unless someone comes up with a different technique, we
&gt; have to choose between fixing this bug and retaining the ability not to
&gt; edit-conflict with yourself.</span >

</pre>
    </div><div id="c22" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">dragonmaynard
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-06-22 15:34:57 UTC
        </span>
      </div>



<pre class="bz_comment_text" >hello,

i am quite suspicious that i have noticed a new bug, but i found this bugreport
which at least deals with the same issues and has gotten recent activity.
therefore, i start here and will be happy to open a new fellow as soon as i am
prompted to do so.

this morning i made a minor edit to a page that i had last edited last week.
that prior edit (not a minor edit) was the most recent edit to the page. after
completing today's edit, my contributions page shows two separate edits, one
from 2005 june 16, and one from 2005 june 22.
[<a href="http://en.wikipedia.org/w/index.php?title=Special:Contributions&amp;target=Burgher">http://en.wikipedia.org/w/index.php?title=Special:Contributions&amp;target=Burgher</a>]

however, the history of the edited page shows only one edit, with the date and
tag of my recent minor edit.
[<a href="http://en.wikipedia.org/w/index.php?title=Berry&amp;action=history">http://en.wikipedia.org/w/index.php?title=Berry&amp;action=history</a>]

if you choose the diff for the edit listed on the history page, you get the
changes from both of my edits together. if you choose the diff for either edit
listed on my contributions page, you get the diff you would expect.

here is where it really starts to hurt my head. if you go to the history page,
where it erroneously lists just the one edit, and get that diff where it shows
the changes from both edits, _and then_ move two pages back in the edit history
followed by one page forward again, you see the mysterious hidden edit from 2005
june 16.

ow, my head.

help!

(obviously this is relatively minor, but just as obviously it must be some sort
of microbe.)</pre>
    </div><div id="c23" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">dragonmaynard
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-06-22 15:38:53 UTC
        </span>
      </div>



<pre class="bz_comment_text" >er, you only have to go back one and then forward one to get the mysterious edit
to disappear. i think this means that the error is with the history page code...</pre>
    </div><div id="c24" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">dragonmaynard
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-06-22 15:39:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >s/disappear/appear/</pre>
    </div><div id="c25" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alphax</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-06-22 16:45:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1150#c22">comment #22</a>)
<span class="quote">&gt; this morning i made a minor edit to a page that i had last edited last week.
&gt; that prior edit (not a minor edit) was the most recent edit to the page. after
&gt; completing today's edit, my contributions page shows two separate edits, one
&gt; from 2005 june 16, and one from 2005 june 22.
&gt; [<a href="http://en.wikipedia.org/w/index.php?title=Special:Contributions&amp;target=Burgher">http://en.wikipedia.org/w/index.php?title=Special:Contributions&amp;target=Burgher</a>]
&gt; 
&gt; however, the history of the edited page shows only one edit, with the date and
&gt; tag of my recent minor edit.
&gt; [<a href="http://en.wikipedia.org/w/index.php?title=Berry&amp;action=history">http://en.wikipedia.org/w/index.php?title=Berry&amp;action=history</a>]
&gt; 
&gt; if you choose the diff for the edit listed on the history page, you get the
&gt; changes from both of my edits together. if you choose the diff for either edit
&gt; listed on my contributions page, you get the diff you would expect.
&gt; 
&gt; here is where it really starts to hurt my head. if you go to the history page,
&gt; where it erroneously lists just the one edit, and get that diff where it shows
&gt; the changes from both edits, _and then_ move two pages back in the edit history
&gt; followed by one page forward again, you see the mysterious hidden edit from 2005
&gt; june 16.
&gt; 
&gt; ow, my head.
&gt; 
&gt; help!
&gt; 
&gt; (obviously this is relatively minor, but just as obviously it must be some sort
&gt; of microbe.)</span >

It's database lag. Check it again. ~~~~</pre>
    </div><div id="c26" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Zigger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-06-24 18:07:30 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1150#c22">comment #22</a>)
<span class="quote">&gt; i am quite suspicious that i have noticed a new bug, but i found this bugreport
&gt;...</span >
This particular issue (missing most recent history) is different from the main
topic of this bug, and has already been reported as <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED INVALID - Edits in articles omitted from history or contribs"
   href="show_bug.cgi?id=1286">bug 1286</a>.  As Alphax states
in <a href="show_bug.cgi?id=1150#c25">comment 25</a>, missing most recent history is a transient problem due to
database lag.  The history for that page looks okay now.</pre>
    </div><div id="c27" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">River Tarnell</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-07-05 18:50:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Edit locks not happening for logged in users"
   href="show_bug.cgi?id=2712">Bug 2712</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c28" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Robert Rohde</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-07-07 01:26:09 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Yesterday, I submitted a hypothesis and potential simple fix to <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - page or section content duplication on edit conflict with self"
   href="show_bug.cgi?id=275">bug 275</a>.  Since this bug comes from 
basically the same part of the code, I thought I would think about it as well.  (Not to mention the fact 
that I got bugged by this just this morning.)

Most of the comments here seem to be right on the money.  The problem is that when checking for an edit 
conflict with oneself there are no other checks for edit conflicts with other material added since the 
editor started.

In other words, when I am editting, all my edits are made in reference to the version I opened for editting 
(call it version 1).  Then while I am editting someone else makes some changes and saves as version 2.  Now 
when I save the first time, it notices that someone else has made an edit and tries to merge them.  If this 
succeeds, then we arrive at version 3A.  Now, being dumb, I notice that I misspelled &quot;celebration&quot;, so I hit 
the back button, quickly fix it and save again.  This time the software notices version 3A, sees that I also 
made that edit and consequently, it cancels all edit conflicts.  Since I used the back button, my edit is 
still based on version 1.  So this time when it saves, the conflict with version 2 is ignored.  Hence, 
whatever changes which were made in that version are dropped from the new version 3B.

For the curious, this all happens in EditPage.php:editForm

So how can it be fixed?  Well rather than simply canceling the edit conflict if the last user to edit was 
the same user as is saving now, it needs to query the database for any edits by users that are not me that 
occured later than the time I opened the edit form, and respond appropriately.

If this set is empty (i.e. no one has been editting but me), then everything is good and it is okay to 
cancel the conflict.  Otherwise, you need to deal with those other edits.  Notice that 3A in the sequence 
above was created just fine by a merge on 2.  This suggest to me that the best approach is simply to take 
the most recent version of the article creating by someone else and treat that as the current version of the 
article.  Let the software attempt to merge on that.  If it does, then everything should be fine.  If not, 
then it will throw an edit conflict window between the last non-me edit and my present edit.

So, to outline my suggested strategy, when checking for a self edit conflict in 

EditPage.php:editForm:
if ( ( 0 != $userid ) &amp;&amp; ( $this-&gt;mArticle-&gt;getUser() == $userid ) ) {...}

The response should be to then query the database for the most recent revision to this article made after 
$this-&gt;edittime by anyone who is not $userid.  If no such revision exists, then everything is fine, cancel 
the conflict and continue at will.  If such a revision is found then it should replace the contents of $this-
<span class="quote">&gt;mArticle and the branch for merging / edit conflict resolution should be tried.</span >


I believe this will solve the bug.  I have no idea how easy it would be to implement.

Best wishes.

-DF

w:en:User:Dragons flight</pre>
    </div><div id="c29" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rowan Collins [IMSoP]</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-08-15 22:33:15 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Editing two sections of same page in multiple windows destroys first edit"
   href="show_bug.cgi?id=3059">Bug 3059</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c30" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andre Engels</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-16 07:47:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >In <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Edit conflict resolution fails when one user edits multiple times"
   href="show_bug.cgi?id=3604">Bug 3604</a>, I submitted the same bug, with a hand-made example of a page that
goes wrong</pre>
    </div><div id="c31" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rowan Collins [IMSoP]</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-16 15:19:03 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Edit conflict resolution fails when one user edits multiple times"
   href="show_bug.cgi?id=3604">Bug 3604</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c32" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tom Preuss</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-07 00:06:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1150#c28">comment #28</a>)
<span class="quote">&gt; In other words, when I am editting, all my edits are made in reference to the</span >
version I opened for editting 
<span class="quote">&gt; (call it version 1).  Then while I am editting someone else makes some changes</span >
and saves as version 2.  Now 
<span class="quote">&gt; when I save the first time, it notices that someone else has made an edit and</span >
tries to merge them.  If this 
<span class="quote">&gt; succeeds, then we arrive at version 3A.  Now, being dumb, I notice that I</span >
misspelled &quot;celebration&quot;, so I hit 
<span class="quote">&gt; the back button, quickly fix it and save again.  This time the software</span >
notices version 3A, sees that I also 
<span class="quote">&gt; made that edit and consequently, it cancels all edit conflicts.  Since I used</span >
the back button, my edit is 
<span class="quote">&gt; still based on version 1.  So this time when it saves, the conflict with</span >
version 2 is ignored.  Hence, 
<span class="quote">&gt; whatever changes which were made in that version are dropped from the new</span >
version 3B.

I can confirm this behavior.  I was able to exactly duplicate this testcase on
the following:
* MediaWiki: 1.5.3
* PHP: 4.3.11 (apache)
* MySQL: 4.0.25-standard
* Linux 2.4.21-4.ELsmp</pre>
    </div><div id="c33" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-22 04:18:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Restored from flood attack.</pre>
    </div><div id="c34" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brian Klug</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-20 21:34:22 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I can reproduce on MediaWiki 1.5.8.

I cannot reproduce on Wikipedia -- instead of overwriting changes, a conflict
screen shows up.

Has this bug been fixed?</pre>
    </div><div id="c35" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andre Engels</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-28 09:20:27 UTC
        </span>
      </div>



<pre class="bz_comment_text" >No, not been fixed. On 27 April, Ugur Basak Bot got this problem on [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=en%3AWhite%0AHouse">en:White
House</a>]].</pre>
    </div><div id="c36" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rory</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-26 21:46:53 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It works fine for me. 
<a href="http://en.wikipedia.org/w/index.php?title=User%3ARory096%2Fsandbox&amp;diff=55322755&amp;oldid=55198547">http://en.wikipedia.org/w/index.php?title=User%3ARory096%2Fsandbox&amp;diff=55322755&amp;oldid=55198547</a>

<a href="http://en.wikipedia.org/w/index.php?title=User%3ARory096%2Fsandbox&amp;diff=55323269&amp;oldid=55322755">http://en.wikipedia.org/w/index.php?title=User%3ARory096%2Fsandbox&amp;diff=55323269&amp;oldid=55322755</a>

<a href="http://en.wikipedia.org/w/index.php?title=User%3ARory096%2Fsandbox&amp;diff=55323301&amp;oldid=55323269">http://en.wikipedia.org/w/index.php?title=User%3ARory096%2Fsandbox&amp;diff=55323301&amp;oldid=55323269</a>

And it didn't readd the &quot;blah&quot; in the first section.  Also, I frequently get
edit conflicts with myself (though not there, because it's a different section). </pre>
    </div><div id="c37" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andre Engels</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-21 09:09:54 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Rory: I don't know what you have tested, but I DO get the problem:

<a href="http://nl.wikipedia.org/w/index.php?title=Gebruiker:Andre_Engels/Test&amp;diff=4965810&amp;oldid=4804009">http://nl.wikipedia.org/w/index.php?title=Gebruiker:Andre_Engels/Test&amp;diff=4965810&amp;oldid=4804009</a>
<a href="http://nl.wikipedia.org/w/index.php?title=Gebruiker:Andre_Engels/Test&amp;diff=4965817&amp;oldid=4965810">http://nl.wikipedia.org/w/index.php?title=Gebruiker:Andre_Engels/Test&amp;diff=4965817&amp;oldid=4965810</a>
<a href="http://nl.wikipedia.org/w/index.php?title=Gebruiker:Andre_Engels/Test&amp;diff=4965820&amp;oldid=4965817">http://nl.wikipedia.org/w/index.php?title=Gebruiker:Andre_Engels/Test&amp;diff=4965820&amp;oldid=4965817</a>

The third edit should have reverted only the second one (or raised some edit
conflict warning), but it actually did revert the first one as well.</pre>
    </div><div id="c38" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1150#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Schulz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-13 14:48:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Fixed in <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/42034" title="revision 42034 in SVN">r42034</a></pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>

    <hr><div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=1150&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=1150">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=1150">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=1150">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>        


<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>

<br>
<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="head" class="noprint">
			<!-- /search -->
			<div id="p-search">
				<h5><label for="searchInput">Search</label></h5>
				<form id="searchform" action="buglist.cgi" method="get"
				 onsubmit="if (this.quicksearch.value == '')
				 { alert('Please enter one or more search terms first.');
				 return false; } return true;">
					<input type='hidden' name="title" value="Special:Search"/>
					<div id="simpleSearch">
						<input id="searchInput" name="quicksearch" type="text" title="Search Bugzilla [alt-f]" accesskey="f" value="" />
						<button id="searchButton" type='submit' name='button' title="Search Bugzilla for this text">&nbsp;</button>
					</div>
				</form>
			</div>
			<!-- /search -->
			<!-- personal -->
			<div id="p-personal" class="">
				<h5>Personal tools</h5>
				<ul >
							<li id="new_account_container">
								<a href="createaccount.cgi">New&nbsp;Account</a>
							</li>
						<li id="mini_login_container">
  <span class="separator">| </span>
  <a id="login_link" href="show_bug.cgi?id=1150&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('')">Log In</a>

  
  <form action="show_bug.cgi?id=1150" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login"
        onsubmit="return check_mini_login_fields( '' );"
  >
    <input id="Bugzilla_login" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('')"
    >
    <input class="bz_password" 
           id="Bugzilla_password" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy" value="password"
           title="Password"
           onfocus="mini_login_on_focus('')"
    >
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "email address",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('')">[x]</a>
  </form>
</li>
<li id="forgot_container">
  <span class="separator">| </span>
  <a id="forgot_link" href="show_bug.cgi?id=1150&amp;GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form"
        class="mini_forgot bz_default_hidden">
    <label for="login">Login:</label>
    <input type="text" name="loginname" size="20" id="login">
    <input id="forgot_button" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token" name="token" value="1419358511-BAEDthT634MONBOMof2DEEJF8sHSJkfPZCWWfzf4-s4">
    <a href="#" onclick="return hide_forgot_form('')">[x]</a>
  </form>
</li>

				</ul>
			</div>
			<!-- /personal -->
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="panel" class="noprint">
				<!-- logo -->
				<div id="p-logo"><a style="background-image: url(skins/contrib/Wikimedia/images/bugzilla-logo.png);" href="./"  title="Visit the main page"></a></div>
				<!-- /logo -->
				<!-- navigation -->
				<div class="portal">
					<h5>Navigation</h5>
					<div class="body">
						<ul><li><a href="query.cgi?format=specific">Search bugs</a></li>
			<li><a href="query.cgi?format=advanced">Advanced search</a></li>
			<li><a href="describecomponents.cgi">Browse projects</a></li>
			<li><a href="enter_bug.cgi">Enter a new bug</a></li>
                        <li>
                                <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
                        </li>	
						</ul>
					</div>
				</div>
				<!-- /navigation -->
				<!-- interaction -->
				<!-- /interaction -->
				<!-- toolbox -->
				<div class="portal">
					<h5>Links</h5>
					<div class="body">
						<ul><li><a href="report.cgi">Reports</a></li>
			<li><a href="weekly-bug-summary.cgi?tops=10&days=7">Weekly Summary</a></li>
				<li>
						<a href="request.cgi">Requests</a>
				</li>
						</ul>
					</div>
				</div>
				<!-- /toolbox -->
			</div>
		<!-- /panel -->		

		<!-- footer -->
		<div id="footer" >
			<ul id="footer-info">
				<li>Bugzilla version 4.4.5</li>
			</ul>

			<ul id="footer-places">
				<li><a href="https://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Bug_management/Bugzilla_etiquette" title="Bug management/Bugzilla etiquette">Bugzilla etiquette</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:About" title="Project:About">About MediaWiki.org</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:General_disclaimer" title="Project:General disclaimer">Disclaimers</a></li>
			</ul>
			<ul id="footer-icons" class="noprint">
				<li id="footer-icon-poweredby"><a href="http://www.bugzilla.org/"><img src="skins/contrib/Wikimedia/images/bugzilla-badge.png" height="31" width="88" alt="Powered by Bugzilla" /></a></li>
			</ul>
			<div style="clear:both"></div>
		<div class="outro"></div>
		</div>
		<!-- /footer -->
	</body>
</html>