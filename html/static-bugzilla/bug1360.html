<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 1360 &ndash; Auto-login / Auto-account-creation by hostname for intranet MediaWikis</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="https://old-bugzilla.wikimedia.org/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=1360&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=1360">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=1360">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=1360">



    
    <link href="skins/standard/global.css?1389015166"
          rel="alternate stylesheet" 
          title="Classic"><link href="js/yui/assets/skins/sam/autocomplete.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="js/yui/assets/skins/sam/calendar.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/global.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/show_bug.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="extensions/Voting/web/style.css?1389015166" rel="stylesheet"
        type="text/css" ><!--[if lte IE 7]>
      


  <link href="skins/standard/IE-fixes.css?1389015166" rel="stylesheet"
        type="text/css" >
<![endif]-->

    <link href="skins/contrib/Wikimedia/global.css?1402013050" rel="stylesheet"
        type="text/css" title="Wikimedia"><link href="skins/contrib/Wikimedia/show_bug.css?1402441020" rel="stylesheet"
        type="text/css" title="Wikimedia">

      <link rel="stylesheet" href="skins/contrib/Wikimedia/vector.css?1403109885" media="screen"
            title="Wikimedia" />


    

    

    
<script type="text/javascript" src="js/yui/yahoo-dom-event/yahoo-dom-event.js?1389015166"></script><script type="text/javascript" src="js/yui/cookie/cookie-min.js?1389015166"></script><script type="text/javascript" src="js/yui/datasource/datasource-min.js?1389015166"></script><script type="text/javascript" src="js/yui/connection/connection-min.js?1389015166"></script><script type="text/javascript" src="js/yui/json/json-min.js?1389015166"></script><script type="text/javascript" src="js/yui/autocomplete/autocomplete-min.js?1389015166"></script><script type="text/javascript" src="js/yui/calendar/calendar-min.js?1389015166"></script><script type="text/javascript" src="js/global.js?1389015166"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 15
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 1360 – Auto-login \/ Auto-account-creation by hostname for intranet MediaWikis",  
                             "show_bug.cgi?id=1360" );
        document.title = "Bug 1360 – Auto-login \/ Auto-account-creation by hostname for intranet MediaWikis";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 1360 – Auto-login \/ Auto-account-creation by hostname for intranet MediaWikis", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script type="text/javascript" src="js/util.js?1389015166"></script><script type="text/javascript" src="js/field.js?1389015166"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico" >
  </head>



  <body onload=""
        class="old-bugzilla-wikimedia-org bz_bug bz_status_RESOLVED bz_product_MediaWiki bz_component_User_login_and_signup bz_bug_1360 yui-skin-sam">



<!-- If custom Wikimedia skin -->
   <div id="page-base" class="noprint"></div>
                <div id="head-base" class="noprint"></div>
                <!-- content -->
                <div id="content-container" >
                        <a id="top"></a>
                        <!-- bodyContent -->
                        <div id="bodyContent">
      <p class="header_addl_info">Last modified: 2010-05-15 15:32:59 UTC</p>

 <!-- If custom Wikimedia skin -->
<h1>Wikimedia Bugzilla is closed!</h1><div id="message" style="text-align: center; color: black">Wikimedia has <a href="https://www.mediawiki.org/wiki/Phabricator/versus_Bugzilla">migrated from Bugzilla to Phabricator</a>. Bug reports should be created and updated in <a href="https://phabricator.wikimedia.org">Wikimedia Phabricator</a> instead. Please <a href="https://www.mediawiki.org/wiki/Phabricator/Help#Creating_your_account">create an account in Phabricator and add your Bugzilla email address</a> to it.<br>Wikimedia Bugzilla is read-only. If you try to edit or create any bug report in Bugzilla you will be shown an intentional error message.<br>In order to access the Phabricator task corresponding to a Bugzilla report, just remove "static-" from its URL.<br>You could still run searches in Bugzilla or access your <a href="https://old-bugzilla.wikimedia.org/page.cgi?id=voting%2Fuser.html">list of votes</a> but bug reports will obviously not be up-to-date in Bugzilla.</div>

<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>
<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2010-05-15 15:32:59">
  <input type="hidden" name="longdesclength" value="24">
  <input type="hidden" name="id" value="1360">
  <input type="hidden" name="token" value="1419358831-9e0MF9F-YLfz94IAwDphHzk4-kTQ20wfgajYkI0l-0U">
<div class="bz_alias_short_desc_container edit_form">
     <a href="show_bug.cgi?id=1360"><b>Bug&nbsp;1360</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">Auto-login / Auto-account-creation by hostname for intranet MediaWikis</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>
</label>
</th>
          <td>Auto-login / Auto-account-creation by hostname for intranet MediaWikis
          </td>
        </tr>
      </table>
    </div>
  </div>
  <script type="text/javascript">
    hideAliasAndSummary('Auto-login \/ Auto-account-creation by hostname for intranet MediaWikis', '');
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          WONTFIX
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >MediaWiki</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr>
    
    <td class="field_label">
      <label for="component">
        <a href="describecomponents.cgi?product=MediaWiki">
        Component:</a>
      </label>
    </td>
    
    <td>User login and signup
    
    (<a href="buglist.cgi?component=User%20login%20and%20signup&product=MediaWiki&resolution=---"
      target="new_window">Other open bugs</a>)
    
    </td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>
</label>
</th>
        <td>1.4.x
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">All
       All
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>Lowest
       enhancement<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=1360">3 
            votes</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=1360#vote_1360">vote</a>)
  </span>
      </td>
    </tr>

      <tr>
        <th class="field_label">
          <label for="target_milestone">
            <a href="page.cgi?id=fields.html#target_milestone">
            Target&nbsp;Milestone</a></label>:
        </th><td>---
  </td>
      </tr>            
          
          <tr>
      <th class="field_label">
        <a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">T. Gries</span>
</span>
      </td>
    </tr>

    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'wikibugs-l\x40lists.wikimedia.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
  
    <tr><th class="field_label "
    id="field_label_status_whiteboard">

    <label for="status_whiteboard" accesskey="w">

  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>
</label>
</th><td colspan="2">  
  </td>
    </tr>
  
    <tr>
      <th class="field_label">
        <label for="keywords" accesskey="k">
          <a href="describekeywords.cgi"><u>K</u>eywords</a></label>:
      </th>
      <td class="field_value" colspan="2">patch
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - new User() objects see undefined $wgContLang due to early call of loadfromsession() in Setup.php"
   href="show_bug.cgi?id=1805">1805</a> 
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr>
    <th>&nbsp;</th>
  
    <td colspan="2" align="left" id="show_dependency_tree_or_graph">
      Show dependency <a href="showdependencytree.cgi?id=1360&amp;hide_resolved=1">tree</a>
  
        /&nbsp;<a href="showdependencygraph.cgi?id=1360">graph</a>
    </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2005-01-19 08:16 UTC by <span class="vcard"><span class="fn">T. Gries</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2010-05-15 15:32 UTC 
      (<a href="show_activity.cgi?id=1360">History</a>)
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>5 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="bruno">bruno</option>
                <option value="dax">dax</option>
                <option value="marcus">marcus</option>
                <option value="sroutier">sroutier</option>
                <option value="wikibugs-l">wikibugs-l</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         <tr><th class="field_label "
    id="field_label_cf_browser">


  <a 
      title="Please set this if the described problem seems to happen only in a specific web browser."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_browser"
  >Web browser:</a>

</th>
  <td class="field_value "
      id="field_container_cf_browser"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_platform">


  <a 
      title="The Mobile Platform the described problem was experienced on."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_platform"
  >Mobile Platform:</a>

</th>
  <td class="field_value "
      id="field_container_cf_platform"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_hugglebeta">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_hugglebeta"
  >Assignee Huggle Beta Tester:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_hugglebeta"  colspan="2">---</td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_image_png bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=290"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Flowchart (PNG) of the core of the algorithm in User:loadFromSession()</span></b></a>

          <span class="bz_attach_extra_info">
              (165.50 KB,
                image/png)

            <br>
            <a href="#attach_290"
               title="Go to the comment associated with the attachment">2005-02-16 06:58 UTC</a>,

            <span class="vcard"><span class="fn">T. Gries</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=290&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_x-csrc bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=297"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">sniplet for User.php of Mediawiki 1.3.7</span></b></a>

          <span class="bz_attach_extra_info">
              (4.52 KB,
                text/x-csrc)

            <br>
            <a href="#attach_297"
               title="Go to the comment associated with the attachment">2005-02-18 22:05 UTC</a>,

            <span class="vcard"><span class="fn">T. Gries</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=297&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=332"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">fixed a bug. Sniplet is for user.pgp, specialpreferences.php of mediawiki 1.3.7; probably easy to adapt for other version</span></b></a>

          <span class="bz_attach_extra_info">
              (4.82 KB,
                text/plain)

            <br>
            <a href="#attach_332"
               title="Go to the comment associated with the attachment">2005-03-03 21:32 UTC</a>,

            <span class="vcard"><span class="fn">T. Gries</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=332&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_image_png">
        <td valign="top">
            <a href="attachment.cgi?id=385"
               title="View the content of the attachment">
          <b>flow chart (PNG 300 KB) for Auto-Login / Auto-Account creation based on either hostname (by gethostbyaddr() ) or logged-in user ( NTLM authentication)</b></a>

          <span class="bz_attach_extra_info">
              (294.96 KB,
                image/png)

            <br>
            <a href="#attach_385"
               title="Go to the comment associated with the attachment">2005-03-25 14:02 UTC</a>,

            <span class="vcard"><span class="fn">T. Gries</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=385&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=394"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">generic autologin patch</span></b></a>

          <span class="bz_attach_extra_info">
              (2.31 KB,
                patch)

            <br>
            <a href="#attach_394"
               title="Go to the comment associated with the attachment">2005-03-28 15:48 UTC</a>,

            <span class="vcard"><span class="fn">Bruno Browning</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=394&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a6" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=398"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Version 1.0-alpha: generic patch for Auto-Login / Auto-account-creation - see flowchart - for Mediawiki 1.4</span></b></a>

          <span class="bz_attach_extra_info">
              (12.45 KB,
                patch)

            <br>
            <a href="#attach_398"
               title="Go to the comment associated with the attachment">2005-04-02 21:31 UTC</a>,

            <span class="vcard"><span class="fn">T. Gries</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=398&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a7" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=399"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Patch V1.1</span></b></a>

          <span class="bz_attach_extra_info">
              (14.26 KB,
                patch)

            <br>
            <a href="#attach_399"
               title="Go to the comment associated with the attachment">2005-04-03 15:28 UTC</a>,

            <span class="vcard"><span class="fn">T. Gries</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=399&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a8" class="bz_contenttype_text_plain bz_patch">
        <td valign="top">
            <a href="attachment.cgi?id=400"
               title="View the content of the attachment">
          <b>Patch V1.1 with a further comment (where to call LDAP server, if you wish)</b></a>

          <span class="bz_attach_extra_info">
              (14.40 KB,
                patch)

            <br>
            <a href="#attach_400"
               title="Go to the comment associated with the attachment">2005-04-03 15:41 UTC</a>,

            <span class="vcard"><span class="fn">T. Gries</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=400&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="2">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (6)
        </span>
        <a href="attachment.cgi?bugid=1360&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>

  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js?1389015166" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>




<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-01-19 08:16:29 UTC
        </span>
      </div>



<pre class="bz_comment_text" >For small intranet MediaWikis, I have written a very short patch which does what
I call auto-login with auto-account-creation by the detected hostname. It uses
php gethostbyaddr()) for intranet MediaWikis in Setup.php and some few lines of
code in user.php and Special:Userlogin and Special:Userlogout.

This patch means, that users are automatically logged-in into their accounts (if
existing) or that such an account is created on-the-fly, when a user visits the
wiki.

A short table such as a plain text file holds a look-up table for
correspondences between hostnames (e.g. IP addresses, personal staff numbers or
something else depending on the intranet structure), full names and perhaps the
email address in the intranet.

The special:login and logout functions are disabled to prevent logging into a
certain user account with other methods than the auto-login. The login and
logout links in the skins are removed, but should a user come across the special
functions by special knowledge, s/he sees a short notice &quot;disabled ...&quot; and is
redirected to the Main_page .

This patch can be enabled or disabled by a global Admin option
$wgHostnameAutoLogin in LocalSettings.php and is potentially useful for
MediaWikis, which run in safe intranet environments: users do not have to learn
how to set up or create user accounts, they are logged-in as they visited the
wiki URL.

Should the hostname detection fail or the hostname being not listed in the
lookup-table, then the visiting  user is treated as anonymous user and whitelist
or blacklist options apply according to the wiki installation parameters as before.</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-02-16 06:23:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1360#c0">comment #0</a>)
<span class="quote">&gt; For small intranet MediaWikis, I have written a very short patch which does what
&gt; I call auto-login with auto-account-creation by the detected hostname. It uses
&gt; php gethostbyaddr()) for intranet MediaWikis in Setup.php and some few lines of
&gt; code in user.php and Special:Userlogin and Special:Userlogout.
&gt; 
&gt; This patch means, that users are automatically logged-in into their accounts (if
&gt; existing) or that such an account is created on-the-fly, when a user visits the
&gt; wiki.
&gt; 
&gt; A short table such as a plain text file holds a look-up table for
&gt; correspondences between hostnames (e.g. IP addresses, personal staff numbers or
&gt; something else depending on the intranet structure), full names and perhaps the
&gt; email address in the intranet.</span >

This patch is available on request of the community.
Tom</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-02-16 06:58:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=290" name="attach_290" title="Flowchart (PNG) of the core of the algorithm in User:loadFromSession()">attachment 290</a> <a href="attachment.cgi?id=290&amp;action=edit" title="Flowchart (PNG) of the core of the algorithm in User:loadFromSession()">[details]</a></span>
Flowchart (PNG) of the core of the algorithm in User:loadFromSession()

Flowchart (PNG) of the core of the algorithm in User:loadFromSession(). It is
called in any of these case, where the original code of loadFromSession() would
return &quot;false&quot;, i.e. the priorities are currently:

1. loadFromSession()
if userid and password-hash of the cookies match the database entries, then
log-in to that user.

otherwise:
2. goto Auto-Login flowchart

3. if gethostbyaddr() (in Setup.php) failed to deliver a hostname which matches
one of the lookup-table -&gt; then the user stays anonymous (exit B in the
flowchart)

otherwise log-in or create an account for username(hostname) according to the
flwochart.

In companies and cases where there are two staff members with exact the same
name &quot;Givenname Familyname&quot;, the first visiting the wiki gets his name as user
accoutnname, the second and third and so on gets &quot;Givenname Familyname
(userid)&quot;, as account name. Those with the same name will surely have different
staff ids/hostnames in a company.

The table layout:
My &quot;table&quot; looks like hostname|name|emailaddress

 &quot;hostname&quot; as seen by a gethostbyaddr() command in Setup.php
 &quot;name&quot; in UTF-8(preferred) or ISO-88859-1 according to the coding of your
wiki.
 &quot;emailaddress&quot; for the user with accoutnanme &quot;name&quot;

Example:

 <a href="https://gerrit.wikimedia.org/r/#q,AEA12345,n,z" title="Git commit AEA12345">AEA12345</a>|Albert Einstein|<a href="mailto:aeinstein&#64;xyz.com">aeinstein&#64;xyz.com</a>

one entry per line, character encoding must correspond to wiki encoding; use
command &quot;iconv -f xxxxx -t yyyyyy&quot; if needed to convert the file once.

The IP address of the user is translated to the hostname (here: AE12345) which
is for example your staff identity code in a company. Then my auto-login  /
auto-create logs you immediately into your account (or creates it) with account
name (=wiki user account) &quot;Albert Einstein&quot; - if no valid cookie for the
corresponding userid is detected from the session (see explanation above)</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Marcus Kazmierczak</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-02-16 16:47:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >
Excellent work Tom. The flowchart helps explains things.
I would like to see the patch for this to be posted. 
The community can then verify so it can then be included.</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-02-17 07:21:21 UTC
        </span>
      </div>



<pre class="bz_comment_text" >In my original posting I forgot:

The existing database field user_real_name - the fieldname is misleading here -
in table user is now used for storing a user's unique &quot;userid&quot; (e.g. personal
staff number or a similar string as detected by gethostbyaddr() ), so that there
is no need to modify tables.

To avoid abuse, the switch $wgAllowRealName is set to false in
DefaultSettings.php, user_real_name cannot be set by the users any longer: they
are filled during auto-account-creation, see flowchart.

With the patch applied, the fields in the table user become the following meanings:

user_id:                   user_id (unchanged; mediawiki's internal userid)
user_name/accountname(*):  &quot;Givenname Familyname&quot; = function(*) of lookup-table
LUT(user_real_name)
user_real_name:            hostname of the computer as detected by
gethostbyaddr() = staff number or similar unique string
user_email:                user e-mail address = function of LUT(user_real_name)

(*) Conflict resolution for distinct persons, having exactly the same &quot;Givenname
Familyname&quot; in a company (and in the LUT):

The first user coming to the wiki gets &quot;Givenname Familyname&quot; as user_name (this
is the mediawiki accountname as shown on pages, recent changes and so on); all
further wiki visitor(s) get &quot;Givenname Familyname (user_real_name)&quot; as
accountname to make the account disctinct from each other.

[The patch will be published in a couple of days or mail me]</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-02-18 22:05:56 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=297" name="attach_297" title="sniplet for User.php of Mediawiki 1.3.7">attachment 297</a> <a href="attachment.cgi?id=297&amp;action=edit" title="sniplet for User.php of Mediawiki 1.3.7">[details]</a></span>
sniplet for User.php of Mediawiki 1.3.7

This is the program code implementing the algorithm as shown in the flowchart
of this bugzilla. 

The lookup-table is very simple, for each allowed user, create a line with
three field separated by a vertical pipe bar &quot;|&quot;

The Fullname is usually &quot;Givenname Familyname&quot; such as &quot;Albert X. Einstein&quot;:

hostname | Full Name | email-address

AE12345|Albert X. Einstein|<a href="mailto:aeinstein&#64;domain.tld">aeinstein&#64;domain.tld</a>
and so on

Remember: within this patch the &quot;hostname&quot; is permanently saved in the database
table user in field user_real_name , which must be disabled for use in Default-
or LocalSettings.php

$wgAllowRealName=false;

as explained above.</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Marcus Kazmierczak</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-03-03 20:03:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Is the patch still available for this fix?
I think it would be very useful for the community
especially for integrating into intranets.</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-03-03 21:32:54 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=332" name="attach_332" title="fixed a bug. Sniplet is for user.pgp, specialpreferences.php of mediawiki 1.3.7; probably easy to adapt for other version">attachment 332</a> <a href="attachment.cgi?id=332&amp;action=edit" title="fixed a bug. Sniplet is for user.pgp, specialpreferences.php of mediawiki 1.3.7; probably easy to adapt for other version">[details]</a></span>
fixed a bug. Sniplet is for user.pgp, specialpreferences.php of mediawiki 1.3.7; probably easy to adapt for other version

In Specialpreferences.php, setting of the realname field is skipped if
$wgHostnameAutoLogin method is enabled.

This patch works fine with Mediawiki 1.3.7 and can perhaps easy be adapted for
other versions. I'll check how this patch works with 1.3.11 and 1.4 tonight; if
it's fine, then I'll probably ask to integrate the method into CVS.

Tom</pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-03-05 11:44:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Brion listening ?
Brion: I could imagine of having this tiny code in the CVS HEAD version, as it
is an optional code. It is admittedly not suited for Wikipedia, but for
small/medium/large scale intranet mediawiki implementations.

On your request I can add some short installer code for config/ . The Auto-login
code as presented herein _is_ already configurable: a new global switch
$wgHostnameAutoLogin enables or disables the whole.

Summary of this patch:

Based on a detected hostname gethostbyaddr(), the wiki automagically logs into
(or creates) an account with that name - the hostname may be translated to a
username by a look-up table.

The LUT translates the unique hostname to a users natural name (Givenname
Familiyname) and his/her primary email address, the natural name used as the
wiki account name. A conflict resolution for persons with the same natural name
is built in: in such cases, the second and further persons with the same name
get their unique hostnames added in parentheses to their account name.

The program is short, easy and works since 6 weeks in my company without
problems. It saves users to create an account.

The normal create/login/logoff account functions can be disabled fully, as they
are not needed when using this patch. If the developers request, I can supply a
replacement code for these routines, too.</pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-03-16 00:22:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The patch can easily be enhanced with NTLM authentication.

This detects in Windows networks the logged-in user by using NTLM HTTP
Authentication, see [1-4] . Basically, instead of reading the host name with
gethostbyaddr(), one can use $_SERVER['REMOTE_USER'] which is supplied by the
Apache Server with the logged-in user name after NTLM authentication via the
browser.

A patch can be published on request.

---
[1] <a href="http://en.wikipedia.org/wiki/NTLM">http://en.wikipedia.org/wiki/NTLM</a> background info and links
[2] <a href="http://www.thebluesmokeband.com/mod_ntlm.php">http://www.thebluesmokeband.com/mod_ntlm.php</a> nice reading
[3] <a href="http://modntlm.sourceforge.net">http://modntlm.sourceforge.net</a> Official mod_ntlm
[4] <a href="http://modntlm.jamiekerwick.co.uk/">http://modntlm.jamiekerwick.co.uk/</a> Inofficial mod_ntlm</pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-03-25 14:02:33 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=385" name="attach_385" title="flow chart (PNG 300 KB) for Auto-Login / Auto-Account creation based on either hostname (by gethostbyaddr() ) or logged-in user ( NTLM authentication)">attachment 385</a> <a href="attachment.cgi?id=385&amp;action=edit" title="flow chart (PNG 300 KB) for Auto-Login / Auto-Account creation based on either hostname (by gethostbyaddr() ) or logged-in user ( NTLM authentication)">[details]</a></span>
flow chart (PNG 300 KB) for Auto-Login / Auto-Account creation based on either hostname (by gethostbyaddr() ) or logged-in user ( NTLM authentication)</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Bruno Browning</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-03-28 15:46:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1360#c9">comment #9</a>)

Appreciate the patch: lack of autologin is one of the things that's kept us from
using MediaWiki for course wikis. Still, we need to use HTTP Basic authentication
(behind pubcookie) so I had to rework it a bit. Seemed a good idea to separate the
site-specific stuff from code that any autologin method will want.

So I'm posting a trivial udiff patch against MediaWiki 1.4.0. With it, if
$wgAutoLogin
is true, User.php will call $wgAuth-&gt;AutoLogin() as appropriate and if it exists. 
Thus anyone can write an extension implementing autologin via
lookuptable/ntlm/http/whatever 
by subclassing AuthPlugin.

Can provide a (slightly-site-specific) HttpBasicAuthPlugin.php if anyone is
interested.</pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Bruno Browning</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-03-28 15:48:18 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=394" name="attach_394" title="generic autologin patch">attachment 394</a> <a href="attachment.cgi?id=394&amp;action=edit" title="generic autologin patch">[details]</a></span>
generic autologin patch

generic autologin code for mediawiki 1.4.0 to be used with site-specific
autologin extension</pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-02 21:31:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=398" name="attach_398" title="Version 1.0-alpha: generic patch for Auto-Login / Auto-account-creation - see flowchart - for Mediawiki 1.4">attachment 398</a> <a href="attachment.cgi?id=398&amp;action=edit" title="Version 1.0-alpha: generic patch for Auto-Login / Auto-account-creation - see flowchart - for Mediawiki 1.4">[details]</a></span>
Version 1.0-alpha: generic patch for Auto-Login / Auto-account-creation - see flowchart - for Mediawiki 1.4

Version 1.0-alpha: generic patch for Auto-Login / Auto-account-creation for
Mediawiki 1.4; please see flowchart to understand, how it works.

This version has one remaining problem: when you want to save a page, it shows
you a preview. I need more time to find this problem - any help is welcome !
Tom</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-03 15:28:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=399" name="attach_399" title="Patch V1.1">attachment 399</a> <a href="attachment.cgi?id=399&amp;action=edit" title="Patch V1.1">[details]</a></span>
Patch V1.1

1. Session problem appears to be solved
2. Everything seems to work as expected
3. Login/Logout links are suppressed in Monobook and Classic
If anyone has suggestions, please let me know. 

From my point of view, the patch is okay and ready. A code peer-review from
team of developers is highly recommended.
See again my remarks filed separately w.r.t to problem in setup.php</pre>
    </div><div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-03 15:41:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=400" name="attach_400" title="Patch V1.1 with a further comment (where to call LDAP server, if you wish)">attachment 400</a> <a href="attachment.cgi?id=400&amp;action=edit" title="Patch V1.1 with a further comment (where to call LDAP server, if you wish)">[details]</a></span>
Patch V1.1 with a further comment (where to call LDAP server, if you wish)</pre>
    </div><div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dax Kelson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-09-06 19:15:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Any chance of getting this patch against v1.5?</pre>
    </div><div id="c17" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-09-06 20:31:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1360#c16">comment #16</a>)
<span class="quote">&gt; Any chance of getting this patch against v1.5?</span >

Yes, of course, it is ready and integrated in EnotifWiki for MediaWiki1.5rc4 see
<a href="http://www.enotifwiki.org">http://www.enotifwiki.org</a> (download, CVS and helpdesk page on the BerliOS Open
Source server - I moved away from Sourceforge, because this is so slow).</pre>
    </div><div id="c18" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-09-06 22:39:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >If you'd like to package an extension for it, great. It's not useful for 
MediaWiki's core target base however.</pre>
    </div><div id="c19" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Udo Adametz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-06 15:00:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1360#c9">comment #9</a>)
<span class="quote">&gt; The patch can easily be enhanced with NTLM authentication..... A patch can be published on request.---[1]</span >

I'm interessed in this solution, please can you publish this patch ?
</pre>
    </div><div id="c20" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Udo Adametz</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-07 08:30:17 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1360#c19">comment #19</a>)
<span class="quote">&gt; I'm interessed in this solution, please can you publish this patch ?</span >

Sorry, I'm not very familiar with PHP. Possibly the patch i asked for (NTLM Auth) is already included in patch v1.1 ?



</pre>
    </div><div id="c21" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Yuri Astrakhan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-04 02:40:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It would be highly desirable to reopen this bug, but not necessarily to include
NTLM authentication into the code base - just an ability to write such extension
without modifying the main code (similar to authentication plug-in)</pre>
    </div><div id="c22" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T. Gries</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-04 07:30:34 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1360#c21">comment #21</a>)
<span class="quote">&gt; It would be highly desirable to reopen this bug, but not necessarily to include
&gt; NTLM authentication into the code base - just an ability to write such extension
&gt; without modifying the main code (similar to authentication plug-in)</span >

There is no dependency on NTLM authentication - the Auto-Login/Auto-Creation
relies only on a unique and authenticated value in the environment/server
variable REMOTE_USER . The flowchart (
<a href="http://bugzilla.wikimedia.org/attachment.cgi?id=385&amp;action=view">http://bugzilla.wikimedia.org/attachment.cgi?id=385&amp;action=view</a> ) shows NTLM
authentication as an example for a scheme, which delivers this value. But see
also the following box &quot;optionally: try other authentication methods&quot; in the
flowchart.

_Any_ scheme will work which places i.e. an userid or logon user name into that
value REMOTE_USER; 

Remark: the current version of <a href="http://www.enotifwiki.org">http://www.enotifwiki.org</a> has this patch applied
and can be switched by setting $wgAutoLogin = true ; see
<a href="http://cvs.berlios.de/cgi-bin/viewcvs.cgi/enotifwiki/enotifwiki/includes/DefaultSettings.php">http://cvs.berlios.de/cgi-bin/viewcvs.cgi/enotifwiki/enotifwiki/includes/DefaultSettings.php</a>
lines 1467 seq.

You can easily download EnotifWiki, which currently is MediaWiki1.5rc4 and will
be upgraded soon, from the BerliOS server.</pre>
    </div><div id="c23" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1360#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Yuri Astrakhan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-17 02:22:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1360#c22">comment #22</a>)
<span class="quote">&gt; Remark: the current version of <a href="http://www.enotifwiki.org">http://www.enotifwiki.org</a> has this patch applied
&gt; and can be switched by setting $wgAutoLogin = true ; see</span >
&gt;
<a href="http://cvs.berlios.de/cgi-bin/viewcvs.cgi/enotifwiki/enotifwiki/includes/DefaultSettings.php">http://cvs.berlios.de/cgi-bin/viewcvs.cgi/enotifwiki/enotifwiki/includes/DefaultSettings.php</a>
<span class="quote">&gt; lines 1467 seq.
&gt; 
&gt; You can easily download EnotifWiki, which currently is MediaWiki1.5rc4 and will
&gt; be upgraded soon, from the BerliOS server.</span >

Tom, you misunderstood my point - what i would like is a single source tree,
without a separate project (i.e. EnotifWiki) that tries to stay in sync and
continuously applying patches to the core code. If we have a common core code
that is easy to extend, we can write any authentication plugins, such as NTLM or
any other, and never worry that mediawiki code got updated - simply because we
will be using documented extension API. Authentication plugin does exactly that
- i don't need to worry (at least in theory) that the very next version of
mediawiki will break that plugin. I don't need to wait for EnotifWiki to apply
the changes from 1.5.4 to 1.5.5 to get them - i simply download the latest
version of mediawiki 1.5.5 and it just continues to work with the plugins that i
already configured.

Ideally, what i would really like, is for the core code to be designed in such a
way as too allow any kind of functionality extension without changes to the
core. Authentication, rendering manipulations, and markup WYSIWYG editor to name
just a few.

MediaWiki has done a great job - it already allows authentication plugins (that
give ability to authenticate using LDAP), and markup extensions (allows source
code syntax highlighting, geo info, etc). NTLM plugin misses some functionality
from the core, and thus requires core modifications that i would like to avoid
for the above reasons.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>

    <hr><div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=1360&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=1360">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=1360">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=1360">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>        


<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>

<br>
<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="head" class="noprint">
			<!-- /search -->
			<div id="p-search">
				<h5><label for="searchInput">Search</label></h5>
				<form id="searchform" action="buglist.cgi" method="get"
				 onsubmit="if (this.quicksearch.value == '')
				 { alert('Please enter one or more search terms first.');
				 return false; } return true;">
					<input type='hidden' name="title" value="Special:Search"/>
					<div id="simpleSearch">
						<input id="searchInput" name="quicksearch" type="text" title="Search Bugzilla [alt-f]" accesskey="f" value="" />
						<button id="searchButton" type='submit' name='button' title="Search Bugzilla for this text">&nbsp;</button>
					</div>
				</form>
			</div>
			<!-- /search -->
			<!-- personal -->
			<div id="p-personal" class="">
				<h5>Personal tools</h5>
				<ul >
							<li id="new_account_container">
								<a href="createaccount.cgi">New&nbsp;Account</a>
							</li>
						<li id="mini_login_container">
  <span class="separator">| </span>
  <a id="login_link" href="show_bug.cgi?id=1360&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('')">Log In</a>

  
  <form action="show_bug.cgi?id=1360" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login"
        onsubmit="return check_mini_login_fields( '' );"
  >
    <input id="Bugzilla_login" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('')"
    >
    <input class="bz_password" 
           id="Bugzilla_password" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy" value="password"
           title="Password"
           onfocus="mini_login_on_focus('')"
    >
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "email address",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('')">[x]</a>
  </form>
</li>
<li id="forgot_container">
  <span class="separator">| </span>
  <a id="forgot_link" href="show_bug.cgi?id=1360&amp;GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form"
        class="mini_forgot bz_default_hidden">
    <label for="login">Login:</label>
    <input type="text" name="loginname" size="20" id="login">
    <input id="forgot_button" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token" name="token" value="1419358831-2dleNpANrEJgbeF0w6LkrkXwCCZR3sCG0sMhdMtQfQY">
    <a href="#" onclick="return hide_forgot_form('')">[x]</a>
  </form>
</li>

				</ul>
			</div>
			<!-- /personal -->
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="panel" class="noprint">
				<!-- logo -->
				<div id="p-logo"><a style="background-image: url(skins/contrib/Wikimedia/images/bugzilla-logo.png);" href="./"  title="Visit the main page"></a></div>
				<!-- /logo -->
				<!-- navigation -->
				<div class="portal">
					<h5>Navigation</h5>
					<div class="body">
						<ul><li><a href="query.cgi?format=specific">Search bugs</a></li>
			<li><a href="query.cgi?format=advanced">Advanced search</a></li>
			<li><a href="describecomponents.cgi">Browse projects</a></li>
			<li><a href="enter_bug.cgi">Enter a new bug</a></li>
                        <li>
                                <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
                        </li>	
						</ul>
					</div>
				</div>
				<!-- /navigation -->
				<!-- interaction -->
				<!-- /interaction -->
				<!-- toolbox -->
				<div class="portal">
					<h5>Links</h5>
					<div class="body">
						<ul><li><a href="report.cgi">Reports</a></li>
			<li><a href="weekly-bug-summary.cgi?tops=10&days=7">Weekly Summary</a></li>
				<li>
						<a href="request.cgi">Requests</a>
				</li>
						</ul>
					</div>
				</div>
				<!-- /toolbox -->
			</div>
		<!-- /panel -->		

		<!-- footer -->
		<div id="footer" >
			<ul id="footer-info">
				<li>Bugzilla version 4.4.5</li>
			</ul>

			<ul id="footer-places">
				<li><a href="https://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Bug_management/Bugzilla_etiquette" title="Bug management/Bugzilla etiquette">Bugzilla etiquette</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:About" title="Project:About">About MediaWiki.org</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:General_disclaimer" title="Project:General disclaimer">Disclaimers</a></li>
			</ul>
			<ul id="footer-icons" class="noprint">
				<li id="footer-icon-poweredby"><a href="http://www.bugzilla.org/"><img src="skins/contrib/Wikimedia/images/bugzilla-badge.png" height="31" width="88" alt="Powered by Bugzilla" /></a></li>
			</ul>
			<div style="clear:both"></div>
		<div class="outro"></div>
		</div>
		<!-- /footer -->
	</body>
</html>