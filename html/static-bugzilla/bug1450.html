<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 1450 &ndash; Enable Extension:ShortUrl on or.wikipedia, ta.wikipedia...</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="https://old-bugzilla.wikimedia.org/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=1450&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=1450">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=1450">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=1450">



    
    <link href="skins/standard/global.css?1389015166"
          rel="alternate stylesheet" 
          title="Classic"><link href="js/yui/assets/skins/sam/autocomplete.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="js/yui/assets/skins/sam/calendar.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/global.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/show_bug.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="extensions/Voting/web/style.css?1389015166" rel="stylesheet"
        type="text/css" ><!--[if lte IE 7]>
      


  <link href="skins/standard/IE-fixes.css?1389015166" rel="stylesheet"
        type="text/css" >
<![endif]-->

    <link href="skins/contrib/Wikimedia/global.css?1402013050" rel="stylesheet"
        type="text/css" title="Wikimedia"><link href="skins/contrib/Wikimedia/show_bug.css?1402441020" rel="stylesheet"
        type="text/css" title="Wikimedia">

      <link rel="stylesheet" href="skins/contrib/Wikimedia/vector.css?1403109885" media="screen"
            title="Wikimedia" />


    

    

    
<script type="text/javascript" src="js/yui/yahoo-dom-event/yahoo-dom-event.js?1389015166"></script><script type="text/javascript" src="js/yui/cookie/cookie-min.js?1389015166"></script><script type="text/javascript" src="js/yui/datasource/datasource-min.js?1389015166"></script><script type="text/javascript" src="js/yui/connection/connection-min.js?1389015166"></script><script type="text/javascript" src="js/yui/json/json-min.js?1389015166"></script><script type="text/javascript" src="js/yui/autocomplete/autocomplete-min.js?1389015166"></script><script type="text/javascript" src="js/yui/calendar/calendar-min.js?1389015166"></script><script type="text/javascript" src="js/global.js?1389015166"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 15
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 1450 – Enable Extension:ShortUrl on or.wikipedia, ta.wikipedia...",  
                             "show_bug.cgi?id=1450" );
        document.title = "Bug 1450 – Enable Extension:ShortUrl on or.wikipedia, ta.wikipedia...";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 1450 – Enable Extension:ShortUrl on or.wikipedia, ta.wikipedia...", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script type="text/javascript" src="js/util.js?1389015166"></script><script type="text/javascript" src="js/field.js?1389015166"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico" >
  </head>



  <body onload=""
        class="old-bugzilla-wikimedia-org bz_bug bz_status_RESOLVED bz_product_Wikimedia bz_component_Extension_setup bz_bug_1450 yui-skin-sam">



<!-- If custom Wikimedia skin -->
   <div id="page-base" class="noprint"></div>
                <div id="head-base" class="noprint"></div>
                <!-- content -->
                <div id="content-container" >
                        <a id="top"></a>
                        <!-- bodyContent -->
                        <div id="bodyContent">
      <p class="header_addl_info">Last modified: 2014-11-17 10:36:23 UTC</p>

 <!-- If custom Wikimedia skin -->
<h1>Wikimedia Bugzilla is closed!</h1><div id="message" style="text-align: center; color: black">Wikimedia has <a href="https://www.mediawiki.org/wiki/Phabricator/versus_Bugzilla">migrated from Bugzilla to Phabricator</a>. Bug reports should be created and updated in <a href="https://phabricator.wikimedia.org">Wikimedia Phabricator</a> instead. Please <a href="https://www.mediawiki.org/wiki/Phabricator/Help#Creating_your_account">create an account in Phabricator and add your Bugzilla email address</a> to it.<br>Wikimedia Bugzilla is read-only. If you try to edit or create any bug report in Bugzilla you will be shown an intentional error message.<br>In order to access the Phabricator task corresponding to a Bugzilla report, just remove "static-" from its URL.<br>You could still run searches in Bugzilla or access your <a href="https://old-bugzilla.wikimedia.org/page.cgi?id=voting%2Fuser.html">list of votes</a> but bug reports will obviously not be up-to-date in Bugzilla.</div>

<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>
<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2014-11-17 10:36:23">
  <input type="hidden" name="longdesclength" value="59">
  <input type="hidden" name="id" value="1450">
  <input type="hidden" name="token" value="1419358967-rhXa_2F_j20VBpnIlei6nHCW5S0tVTAZHh1kh0d4e8s">
<div class="bz_alias_short_desc_container edit_form">
     <a href="show_bug.cgi?id=1450"><b>Bug&nbsp;1450</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">Enable Extension:ShortUrl on or.wikipedia, ta.wikipedia...</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>
</label>
</th>
          <td>Enable Extension:ShortUrl on or.wikipedia, ta.wikipedia...
          </td>
        </tr>
      </table>
    </div>
  </div>
  <script type="text/javascript">
    hideAliasAndSummary('Enable Extension:ShortUrl on or.wikipedia, ta.wikipedia...', '');
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Wikimedia</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr>
    
    <td class="field_label">
      <label for="component">
        <a href="describecomponents.cgi?product=Wikimedia">
        Component:</a>
      </label>
    </td>
    
    <td>Extension setup
    
    (<a href="buglist.cgi?component=Extension%20setup&product=Wikimedia&resolution=---"
      target="new_window">Other open bugs</a>)
    
    </td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">All
       All
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>Normal
       enhancement<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=1450">3 
            votes</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=1450#vote_1450">vote</a>)
  </span>
      </td>
    </tr>

      <tr>
        <th class="field_label">
          <label for="target_milestone">
            <a href="page.cgi?id=fields.html#target_milestone">
            Target&nbsp;Milestone</a></label>:
        </th><td>---
  </td>
      </tr>            
          
          <tr>
      <th class="field_label">
        <a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">Ben Hartshorne</span>
</span>
      </td>
    </tr>

    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'wikibugs-l\x40lists.wikimedia.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
  
    <tr><th class="field_label "
    id="field_label_status_whiteboard">

    <label for="status_whiteboard" accesskey="w">

  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>
</label>
</th><td colspan="2">  
  </td>
    </tr>
  
    <tr>
      <th class="field_label">
        <label for="keywords" accesskey="k">
          <a href="describekeywords.cgi"><u>K</u>eywords</a></label>:
      </th>
      <td class="field_value" colspan="2">ops, shell
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - ShortUrl isn't protocol relative"
   href="show_bug.cgi?id=33551">33551</a> 
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Extensions awaiting code review to be deployed on Wikimedia wikis (tracking)"
   href="show_bug.cgi?id=31235">31235</a> <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Tamil Wiki projects (tracking)"
   href="show_bug.cgi?id=32578">32578</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Enable Extension:ShortUrl on Hindi Wikipedia"
   href="show_bug.cgi?id=29827">29827</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Make Wikimedia ShortUrl short URLs even shorter using an Apache rewrite rule"
   href="show_bug.cgi?id=36164">36164</a> 
  </td>
  </tr>
  
  <tr>
    <th>&nbsp;</th>
  
    <td colspan="2" align="left" id="show_dependency_tree_or_graph">
      Show dependency <a href="showdependencytree.cgi?id=1450&amp;hide_resolved=1">tree</a>
  
        /&nbsp;<a href="showdependencygraph.cgi?id=1450">graph</a>
    </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2005-02-02 06:18 UTC by <span class="vcard"><span class="fn">DIG</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2014-11-17 10:36 UTC 
      (<a href="show_activity.cgi?id=1450">History</a>)
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>21 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="afeldman">afeldman</option>
                <option value="arjunaraoc">arjunaraoc</option>
                <option value="b">b</option>
                <option value="bawolff+wn">bawolff+wn</option>
                <option value="dvanliere">dvanliere</option>
                <option value="EN.WP.ST47">EN.WP.ST47</option>
                <option value="gmeijssen">gmeijssen</option>
                <option value="he7d3r+bugs">he7d3r+bugs</option>
                <option value="mah">mah</option>
                <option value="mediawiki-bugs">mediawiki-bugs</option>
                <option value="mingli.yuan">mingli.yuan</option>
                <option value="p858snake">p858snake</option>
                <option value="Platonides">Platonides</option>
                <option value="roan.kattouw">roan.kattouw</option>
                <option value="robla">robla</option>
                <option value="shizhao">shizhao</option>
                <option value="srik.lak">srik.lak</option>
                <option value="sumanah">sumanah</option>
                <option value="wikiodisha1">wikiodisha1</option>
                <option value="wikipedista">wikipedista</option>
                <option value="yuvipanda">yuvipanda</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         <tr><th class="field_label "
    id="field_label_cf_browser">


  <a 
      title="Please set this if the described problem seems to happen only in a specific web browser."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_browser"
  >Web browser:</a>

</th>
  <td class="field_value "
      id="field_container_cf_browser"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_platform">


  <a 
      title="The Mobile Platform the described problem was experienced on."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_platform"
  >Mobile Platform:</a>

</th>
  <td class="field_value "
      id="field_container_cf_platform"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_hugglebeta">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_hugglebeta"
  >Assignee Huggle Beta Tester:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_hugglebeta"  colspan="2">---</td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>



  <tr class="bz_attach_footer">
    <td colspan="2">
        <a href="attachment.cgi?bugid=1450&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>

  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js?1389015166" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>




<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">DIG</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-02-02 06:18:26 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(It could be that something like this was already proposed, I just haven't fount
it).

It is nice to see what the URL is pointing to in English (or any ASCII-7 based
alphabet).  Unfortunately, it is not the case for most other languages.  For
most of them, especially for the languages which are not based on Latin
alphabet, URL-escaping makes URL unreadable and very very long.  So, it would be
nice to have some kind of short URLs for wikipedia pages.  This will make it
easier for the user to copy and paste the short URL into e-mail or on the web
page.  (I saw the reference to the wikipedia article in Russian in e-mail -- it
is horrible: 3 lines of 80 chars each, absolutely unreadable).

The short URL itself could be something like this:

  <a href="http://www.wiki???????.org/u/xyzuv">http://www.wiki???????.org/u/xyzuv</a>

where

  ????? is a project name ({m,p}edia, etc)
  u     is a special prefix (may be empty);
  xyzuv is an &quot;encoded&quot; form of longer URL
        (very much like tinyurl.com's one).

It also would be nice to have this short URL on the printed page (as text, as
well as a link).

As a side-effect, the bots on #XXrc-channel will be less verbose.  We, at
#ru.wikipedia, are using such short URLs, they seem more practical, and overall
impression is better, than while using wprc-bots directly.  

Shorter URLs, happier users.


Best regards,

-- 
DIG (Dmitri I GOULIAEV)
1024D/63A6C649: 26A0 E4D5 AB3F C2D4 0112  66CD 4343 C0AF 63A6 C649</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tietew</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-02-03 03:58:34 UTC
        </span>
      </div>



<pre class="bz_comment_text" >index.php?title=ANYTHING&amp;curid=12345 shows an article curid=12345.

You can use mod_rewrite:
RewriteEngine on
RewriteRule ^/u/([0-9]+) /w/index.php?title=-&amp;curid=$1 [QSA]
</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Antoine &quot;hashar&quot; Musso (WMF)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-07-11 17:08:14 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Redirecting to WikiMedia.
We probably want to add an entry about that in the manual.
</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">MZMcBride</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-09 08:40:53 UTC
        </span>
      </div>



<pre class="bz_comment_text" >What about using the page's oldid to create something like <a href="http://xx.wikixedia.org/o/">http://xx.wikixedia.org/o/</a>####### ?</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Roan Kattouw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-09 12:42:09 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c3">comment #3</a>)
<span class="quote">&gt; What about using the page's oldid to create something like
&gt; <a href="http://xx.wikixedia.org/o/">http://xx.wikixedia.org/o/</a>####### ?
&gt; </span >

Revisions have oldids, pages have curids. You probably want to be able to link to the curid too.</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Arjuna Rao Chavala</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-25 03:26:55 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The additional problem appears when you want to make wiki book and opt for printer friendly version of the article. At the end of the article, a really long URL in US ASCII appears. I think it need not be in US ASCII, as international domain names have been approved.  Please correct the print version to a unicode  url, so that the page can be accessed easily as well as understood in the human readable language.

Appreciate higher priority to fix this bug, as we are ready to publish e-books in Telugu
Example Ubuntu user guide page url as it appears in printer friendly version.
<a href="http://te.wikibooks.org/wiki/%E0%B0%89%E0%B0%AC%E0%B1%81%E0%B0%82%E0%B0%9F%E0%B1%81_%E0%B0%B5%E0%B0%BE%E0%B0%A1%E0%B1%81%E0%B0%95%E0%B0%B0%E0%B0%BF_%E0%B0%AE%E0%B0%BE%E0%B0%B0%E0%B1%8D%E0%B0%97%E0%B0%A6%E0%B0%B0%E0%B1%8D%E0%B0%B6%E0%B0%A8%E0%B0%BF">http://te.wikibooks.org/wiki/%E0%B0%89%E0%B0%AC%E0%B1%81%E0%B0%82%E0%B0%9F%E0%B1%81_%E0%B0%B5%E0%B0%BE%E0%B0%A1%E0%B1%81%E0%B0%95%E0%B0%B0%E0%B0%BF_%E0%B0%AE%E0%B0%BE%E0%B0%B0%E0%B1%8D%E0%B0%97%E0%B0%A6%E0%B0%B0%E0%B1%8D%E0%B0%B6%E0%B0%A8%E0%B0%BF</a>
 and a shorturl if it were to be used.
<a href="http://te.wikibooks.org/wiki/ఉబుంటు">http://te.wikibooks.org/wiki/ఉబుంటు</a> వాడుకరి మార్గదర్శని</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Roan Kattouw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-25 10:04:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c5">comment #5</a>)
<span class="quote">&gt; I think it need not be in US ASCII, as
&gt; international domain names have been approved.</span >
Domain names are not the same as paths, they're unrelated.</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Srikanth Logic</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-29 02:48:16 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c3">comment #3</a>)
<span class="quote">&gt; What about using the page's oldid to create something like
&gt; <a href="http://xx.wikixedia.org/o/">http://xx.wikixedia.org/o/</a>####### ?</span >

<a href="http://www.mediawiki.org/wiki/Extension:ShortUrl">http://www.mediawiki.org/wiki/Extension:ShortUrl</a> might help.</pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Arjuna Rao Chavala</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-29 04:10:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c6">comment #6</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=1450#c5">comment #5</a>)
&gt; &gt; I think it need not be in US ASCII, as
&gt; &gt; international domain names have been approved.
&gt; Domain names are not the same as paths, they're unrelated.</span >
I think they are related. If not,  I would like to understand why the international text part of the URL is represented in US ASCII.</pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">p858snake</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-29 04:16:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c7">comment #7</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=1450#c3">comment #3</a>)
&gt; &gt; What about using the page's oldid to create something like
&gt; &gt; <a href="http://xx.wikixedia.org/o/">http://xx.wikixedia.org/o/</a>####### ?
&gt; 
&gt; <a href="http://www.mediawiki.org/wiki/Extension:ShortUrl">http://www.mediawiki.org/wiki/Extension:ShortUrl</a> might help.</span >

I'm pretty sure that has been deployed on some projects.</pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Srikanth Logic</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-29 04:20:03 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c8">comment #8</a>)
<span class="quote">&gt; I think they are related. If not,  I would like to understand why the
&gt; international text part of the URL is represented in US ASCII.</span >
brion's comment on this blogpost explains it i suppose 
<a href="http://ultimategerardm.blogspot.com/2011/04/sharing-tamil-wikipedia-url.html">http://ultimategerardm.blogspot.com/2011/04/sharing-tamil-wikipedia-url.html</a>


(In reply to <a href="show_bug.cgi?id=1450#c9">comment #9</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=1450#c7">comment #7</a>)
&gt; &gt; <a href="http://www.mediawiki.org/wiki/Extension:ShortUrl">http://www.mediawiki.org/wiki/Extension:ShortUrl</a> might help.
&gt; 
&gt; I'm pretty sure that has been deployed on some projects.</span >

Nope, its fresh out of the oven, we are planning to deploy on tamil wikipedia. Review request needs to be raised</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Yuvi Panda</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-30 13:30:27 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Review request sent in.

<a href="http://www.mediawiki.org/wiki/Review_queue#Extensions">http://www.mediawiki.org/wiki/Review_queue#Extensions</a></pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Srikanth Logic</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-30 14:15:42 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Please enable this extension it in tamil wiki projects (Wikipedia, Wiktionary,Wikinews). Would like short urls of form ta.wiki*****.org/r/abcdef on each of pages. Find the link to community consensus on the same <a href="http://ta.wikipedia.org/wiki/விக்கிப்பீடியா:குறுந்தொடுப்பு#Support_to_install_mw:Extension:ShortUrl_on_tamil_wiki_projects">http://ta.wikipedia.org/wiki/விக்கிப்பீடியா:குறுந்தொடுப்பு#Support_to_install_mw:Extension:ShortUrl_on_tamil_wiki_projects</a></pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Srikanth Logic</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-09 02:28:55 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Changing the priority to normal. Currently Tamil wikipedia uses external domain tawp.in for shortlinks which are being used. Atleast  500 spread across web. Delay in having in house shortner exposes to a risk of large dead links to Wikipedia when the tawp.in server goes down. We already had amazon outages and few corp firewalls block tawp.in since its hosted in EC2.</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Roan Kattouw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-08-23 14:14:10 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I've reviewed Extension:ShortUrl , see <a href="https://secure.wikimedia.org/wikipedia/mediawiki/wiki/User:Catrope/Extension_review/ShortUrl">https://secure.wikimedia.org/wikipedia/mediawiki/wiki/User:Catrope/Extension_review/ShortUrl</a></pre>
    </div><div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Yuvi Panda</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-19 11:56:57 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I know it's been a while - but the issues pointed to have been fixed in <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/103665" title="revision 103665 in SVN">r103665</a> and <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/103035" title="revision 103035 in SVN">r103035</a>. Can this be reviewed again?</pre>
    </div><div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Yuvi Panda</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-27 14:58:44 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Roan pointed out more issues, have been fixed in <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/104219" title="revision 104219 in SVN">r104219</a>.</pre>
    </div><div id="c17" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Yuvi Panda</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-27 15:39:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Request from Odiya Wikipedia for deployment: <a href="http://or.wikipedia.org/wiki/%E0%AC%89%E0%AC%87%E0%AC%95%E0%AC%BF%E0%AC%AA%E0%AC%BF%E0%AC%A1%E0%AC%BC%E0%AC%BF%E0%AC%86:VP#Request_to_install_ShortUrl">http://or.wikipedia.org/wiki/%E0%AC%89%E0%AC%87%E0%AC%95%E0%AC%BF%E0%AC%AA%E0%AC%BF%E0%AC%A1%E0%AC%BC%E0%AC%BF%E0%AC%86:VP#Request_to_install_ShortUrl</a>

Added 'shell' keyword.</pre>
    </div><div id="c18" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Srikanth Logic</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-12-05 17:15:07 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Is there anything else that prevents progress on this. A lot of non-latin wikis are really looking forward to this for ages, can some priority given to this to close and deploy them?</pre>
    </div><div id="c19" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sam Reed (reedy)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-12-12 17:52:06 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Ticket for apache rewrites logged at <a href="http://rt.wikimedia.org/Ticket/Display.html?id=2121">http://rt.wikimedia.org/Ticket/Display.html?id=2121</a></pre>
    </div><div id="c20" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Srikanth Logic</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-12-19 20:21:48 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Sam/others, Can you please check the status of the above RT. Thanks!</pre>
    </div><div id="c21" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark A. Hershberger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-12-19 22:32:00 UTC
        </span>
      </div>



<pre class="bz_comment_text" >We've decided that this can be deployed without any mod_rewrite changes right now.  As Reedy notes there, /wiki/Special:ShortUrl/12345 is better than some of the alternatives.  Roan has said he will look at the code again tomorrow.</pre>
    </div><div id="c22" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sumana Harihareswara</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-06 21:19:07 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&lt;Reedy&gt; ShortUrl has 1 outstanding protocol relative issue
&lt;Reedy&gt; And getting the apache rule correct and setup
&lt;Reedy&gt; that's the only blockers to its deployment

from IRC today</pre>
    </div><div id="c23" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sumana Harihareswara</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-06 21:21:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&lt;hexmode&gt; Reedy: so what do we need to do re: shorturl? the actual code?
&lt;hexmode&gt; just have better doc for the rewriterule?
&lt;Reedy&gt; Works fine locally
&lt;Reedy&gt; well, the protocol relativity issue needs fixing first
&lt;hexmode&gt; that and then the rewriterule?
&lt;Reedy&gt; Getting someone from ops (though, I'm supposed to be able to do it) to actually implement the rules
&lt;Reedy&gt; Yup, few database tables to create on target wikis, but it'll be fine
&lt;Reedy&gt; <a href="http://wiki/r/v">http://wiki/r/v</a> takes me to <a href="http://wiki/wiki/Wikia_code/includes/api">http://wiki/wiki/Wikia_code/includes/api</a> locally :)</pre>
    </div><div id="c24" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sam Reed (reedy)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-06 21:29:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >So, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - ShortUrl isn't protocol relative"
   href="show_bug.cgi?id=33551">bug 33551</a> needs fixing so we get correct https:// or http:// on each wiki, then we need a list of all wikis that will be wanting to enable ShortUrl

From there, we can use that list to create all the relevant database tables, and only add the rewrite rules to those wikis

Someone actually needs to write the rewrite rules.. I had some comments from Roan somewhere...

Locally I've got


        RewriteEngine On
        RewriteRule ^/r/(.*)$ /w/index.php?title=Special:ShortUrl/$1
#       RewriteRule ^/r/(.*)$ /wiki/Special:ShortUrl/$1


Not sure why I've got the 2nd one commented out, bug it'd make sense to use that format.

After that's setup, the simple part is just enabling it on the target wikis


It's been reviewed, and isn't actually ready for deployment, hence -shell, -need-review and added <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - ShortUrl isn't protocol relative"
   href="show_bug.cgi?id=33551">bug 33551</a> as a blocking bug</pre>
    </div><div id="c25" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">MZMcBride</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-06 23:22:41 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c24">comment #24</a>)
<span class="quote">&gt; Locally I've got
&gt; 
&gt;         RewriteEngine On
&gt;         RewriteRule ^/r/(.*)$ /w/index.php?title=Special:ShortUrl/$1
&gt; #       RewriteRule ^/r/(.*)$ /wiki/Special:ShortUrl/$1</span >

This seems to overlap with <a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - Prettify permalinks"
   href="show_bug.cgi?id=16659">bug 16659</a> a bit and <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Short URLs for history pages (set up wgActionPaths for Wikimedia sites)"
   href="show_bug.cgi?id=17981">bug 17981</a> a bit. Basically, ops should be exceedingly cautious in adding new URL structures/schemes that will have to be supported indefinitely. I'd like Brion to weigh in, if possible.</pre>
    </div><div id="c26" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-09 00:44:01 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I do have some concerns about this extension:

* it creates a new numeric identifier to describe pages, which is very similar to existing page_id
* but it isn't page_id -- it refers to a page title, and thus if a page is renamed ends up referring to the old redirect

Since it's just a number with only internal meaning, I'd be more inclined to recommend using the page_id rather than creating a new id just for short links. This also saves the trouble of installing a new database table on every wiki, and would make it trivial to enable it for *all* wikis instead of just some.



As for the proposed prefix of &quot;/r/&quot;, I'm not sure I like it; I'd prefer &quot;/page/&quot; or something myself, meanwhile using something like &quot;/rev/&quot; or &quot;/revision/&quot; would make sense for shortened version permalinks (with oldid).</pre>
    </div><div id="c27" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Bawolff (Brian Wolff)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-09 00:49:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c26">comment #26</a>)
<span class="quote">&gt; I do have some concerns about this extension:
&gt; 
&gt; * it creates a new numeric identifier to describe pages, which is very similar
&gt; to existing page_id
&gt; * but it isn't page_id -- it refers to a page title, and thus if a page is
&gt; renamed ends up referring to the old redirect
&gt; 
&gt; Since it's just a number with only internal meaning, I'd be more inclined to
&gt; recommend using the page_id rather than creating a new id just for short links.
&gt; This also saves the trouble of installing a new database table on every wiki,
&gt; and would make it trivial to enable it for *all* wikis instead of just some.
&gt; </span >

I think some people didn't want the short urls changing where they pointed to on page move, and wanted them to still work after a page delete/undelete cycle. (If I remember correctly)</pre>
    </div><div id="c28" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-09 00:54:12 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c27">comment #27</a>)
<span class="quote">&gt; I think some people didn't want the short urls changing where they pointed to
&gt; on page move, and wanted them to still work after a page delete/undelete cycle.
&gt; (If I remember correctly)</span >

That's a reasonable concern... I kinda want to be able to have hex or alphanumeric short codes here just to make sure they don't get confused with page ids though. *hmmmmm*</pre>
    </div><div id="c29" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">MZMcBride</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-09 00:59:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c26">comment #26</a>)
<span class="quote">&gt; As for the proposed prefix of &quot;/r/&quot;, I'm not sure I like it; I'd prefer
&gt; &quot;/page/&quot; or something myself, meanwhile using something like &quot;/rev/&quot; or
&gt; &quot;/revision/&quot; would make sense for shortened version permalinks (with oldid).</span >

As mentioned in some of the other bugs, a lot of people are pushing for URLs to be more localized, and this would be a step away from that. That is, &quot;r&quot; or &quot;rev&quot; only work in English, really.

I don't think this is a deal-breaker, but I do think it's something to keep in mind.</pre>
    </div><div id="c30" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Bawolff (Brian Wolff)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-09 01:48:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Could make it something like /h/ so that everyone is confused equally (although personally i like /page/). I also agree that /r/ might not be the best due to the association with revision (Especially given how things like svn use <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/1234" title="revision 1234 in SVN">r1234</a> for revision references).</pre>
    </div><div id="c31" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sam Reed (reedy)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-09 01:51:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c26">comment #26</a>)
<span class="quote">&gt; I do have some concerns about this extension:
&gt; 
&gt; * it creates a new numeric identifier to describe pages, which is very similar
&gt; to existing page_id
&gt; * but it isn't page_id -- it refers to a page title, and thus if a page is
&gt; renamed ends up referring to the old redirect
&gt; </span >

It's not numeric, it's alpha numeric

(In reply to <a href="show_bug.cgi?id=1450#c30">comment #30</a>)
<span class="quote">&gt; Could make it something like /h/ so that everyone is confused equally (although
&gt; personally i like /page/). I also agree that /r/ might not be the best due to
&gt; the association with revision (Especially given how things like svn use <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/1234" title="revision 1234 in SVN">r1234</a>
&gt; for revision references).</span >

People will think we're turning into Reddit</pre>
    </div><div id="c32" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Yuvi Panda</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-09 05:10:26 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c31">comment #31</a>)
<span class="quote">&gt; 
&gt; It's not numeric, it's alpha numeric</span >

base36 to be exact.

Is there anything else blocking this extension from deployment?</pre>
    </div><div id="c33" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark A. Hershberger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-13 21:20:14 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c32">comment #32</a>)
<span class="quote">&gt; Is there anything else blocking this extension from deployment?</span >

Right now we're mostly working on 1.19 deployment so I think this'll be another week *at least* before it can be deployed.  I'll try to get Sam's opinion on this, though.</pre>
    </div><div id="c34" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sumana Harihareswara</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-13 22:47:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I don't know whether there are any other TODOs blocking this extension from deployment.  But just to comment on the deployment schedule: as Mark mentioned, this is competing with the MediaWiki 1.19 deployment schedule:

<a href="https://www.mediawiki.org/wiki/MediaWiki_1.19/Roadmap">https://www.mediawiki.org/wiki/MediaWiki_1.19/Roadmap</a>

which will probably start this week and finish up on March 1st.</pre>
    </div><div id="c35" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Platonides</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-19 18:07:14 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c27">comment #27</a>)
<span class="quote">&gt; I think some people didn't want the short urls changing where they pointed to
&gt; on page move, and wanted them to still work after a page delete/undelete cycle.
&gt; (If I remember correctly)</span >

Seems easier to keep the page_id on undelete (didn't we fix it?), on the simple cases at least (no conflicting ids).</pre>
    </div><div id="c36" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">MZMcBride</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-02-19 18:39:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c35">comment #35</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=1450#c27">comment #27</a>)
&gt;&gt; I think some people didn't want the short urls changing where they pointed to
&gt;&gt; on page move, and wanted them to still work after a page delete/undelete cycle.
&gt;&gt; (If I remember correctly)
&gt; 
&gt; Seems easier to keep the page_id on undelete (didn't we fix it?), on the simple
&gt; cases at least (no conflicting ids).</span >

That would be <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Special:Undelete doesn't use ar_page_id"
   href="show_bug.cgi?id=26123">bug 26123</a>.</pre>
    </div><div id="c37" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sumana Harihareswara</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-03-29 18:40:29 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c26">comment #26</a>)
<span class="quote">&gt; I do have some concerns about this extension:</span >

Brion, are your concerns dealbreakers, or are you ok with deploying it anyway?

(In reply to <a href="show_bug.cgi?id=1450#c24">comment #24</a>)
<span class="quote">&gt; So, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - ShortUrl isn't protocol relative"
   href="show_bug.cgi?id=33551">bug 33551</a> needs fixing so we get correct https:// or http:// on each wiki,</span >

This is now done.

<span class="quote">&gt; then we need a list of all wikis that will be wanting to enable ShortUrl
&gt; 
&gt; From there, we can use that list to create all the relevant database tables,
&gt; and only add the rewrite rules to those wikis</span >

Yuvi, can you collate that list?</pre>
    </div><div id="c38" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-02 18:46:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I think my concerns are all dealt with or minor enough I don't mind at this point.</pre>
    </div><div id="c39" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Srikanth Logic</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-02 19:01:22 UTC
        </span>
      </div>



<pre class="bz_comment_text" >orwiki,hiwiki,tawiki have got community consensus. 

'orwiki' =&gt; true,
'hiwiki' =&gt; true,
'tawiki' =&gt; true,
'tawikibooks' =&gt; true,
'tawikinews' =&gt; true,
'tawikiquote' =&gt; true,
'tawikisource' =&gt; true,
'tawiktionary' =&gt; true,

can be treated as first list, others will request in seperate bugs.</pre>
    </div><div id="c40" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">MZMcBride</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-02 19:08:03 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I think the only real outstanding question was whether just the extension would be enabled or if there would be accompanying Apache changes (changing link structure). Simply enabling the extension isn't a big deal; adding a link structure (such as /r/) that has to be supported indefinitely is a big deal.</pre>
    </div><div id="c41" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Srikanth Logic</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-02 19:22:10 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c40">comment #40</a>)
<span class="quote">&gt; I think the only real outstanding question was whether just the extension would
&gt; be enabled or if there would be accompanying Apache changes (changing link
&gt; structure). Simply enabling the extension isn't a big deal; adding a link
&gt; structure (such as /r/) that has to be supported indefinitely is a big deal.</span >

Not trying to sidetrack the issue here, but I really need &quot;atleast just the extension deployed&quot; sooner for 'tawiki' even if redirect rules take time. Tamil Wikipedia already has tawp.in for a year now and has been using a similar code on a private server which redirects tawp.in/r/* . The whole point of making an extension in favor of &#64;mountain's standalone code was point of stability, so that I dont need to check my server every time someone pokes my server is not redirecting.</pre>
    </div><div id="c42" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sam Reed (reedy)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-02 19:28:03 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c41">comment #41</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=1450#c40">comment #40</a>)
&gt; &gt; I think the only real outstanding question was whether just the extension would
&gt; &gt; be enabled or if there would be accompanying Apache changes (changing link
&gt; &gt; structure). Simply enabling the extension isn't a big deal; adding a link
&gt; &gt; structure (such as /r/) that has to be supported indefinitely is a big deal.
&gt; 
&gt; Not trying to sidetrack the issue here, but I really need &quot;atleast just the
&gt; extension deployed&quot; sooner for 'tawiki' even if redirect rules take time. Tamil
&gt; Wikipedia already has tawp.in for a year now and has been using a similar code
&gt; on a private server which redirects tawp.in/r/* . The whole point of making an
&gt; extension in favor of &#64;mountain's standalone code was point of stability, so
&gt; that I dont need to check my server every time someone pokes my server is not
&gt; redirecting.</span >

Without the redirect rules being setup, there is little point having shorturl enabled (imho). You're going to end up with <a href="https://ta.wikipedia.org/wiki/Special:ShortUrl/abcd123">https://ta.wikipedia.org/wiki/Special:ShortUrl/abcd123</a> which is better than what would be there already, but I'm not sure

Ignoring that, setup on the various wikis is a simple task and would only take a few minutes to do</pre>
    </div><div id="c43" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark A. Hershberger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-20 14:44:21 UTC
        </span>
      </div>



<pre class="bz_comment_text" >ShortURL rewrite rules are in <a href="https://gerrit.wikimedia.org/r/5433" title="Gerrit change #5433">Gerrit change #5433</a>.  If those are in production, then Sam should be able to deploy this.</pre>
    </div><div id="c44" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Asher Feldman</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-20 20:27:17 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Regarding the apache rewrite rule, should it apply to all wmf projects?  If not, which ones should include or exclude it?</pre>
    </div><div id="c45" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">MZMcBride</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-20 22:56:48 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c43">comment #43</a>)
<span class="quote">&gt; ShortURL rewrite rules are in <a href="https://gerrit.wikimedia.org/r/5433" title="Gerrit change #5433">Gerrit change #5433</a>.  If those are in production, then
&gt; Sam should be able to deploy this.</span >

Did you take into consideration the comments above regarding link syntax and translations? There were a number of comments explaining why &quot;/r/&quot; was less-than-ideal and this commit seems to have ignored all of them.</pre>
    </div><div id="c46" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Srikanth Logic</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-22 14:46:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c29">comment #29</a>)
<span class="quote">&gt; As mentioned in some of the other bugs, a lot of people are pushing for URLs to
&gt; be more localized, and this would be a step away from that. That is, &quot;r&quot; or
&gt; &quot;rev&quot; only work in English, really.
&gt; 
&gt; I don't think this is a deal-breaker, but I do think it's something to keep in
&gt; mind.</span >

Well, the extension itself is requested since URLs of non latin wikis get converted into percentage encoding like this :- <a href="http://ta.wikipedia.org/wiki/%E0%AE%B5%E0%AE%BF%E0%AE%95%E0%AF%8D%E0%AE%95%E0%AE%BF%E0%AE%AA%E0%AF%8D%E0%AE%AA%E0%AF%80%E0%AE%9F%E0%AE%BF%E0%AE%AF%E0%AE%BE:%E0%AE%86%E0%AE%B2%E0%AE%AE%E0%AE%B0%E0%AE%A4%E0%AF%8D%E0%AE%A4%E0%AE%9F%E0%AE%BF">http://ta.wikipedia.org/wiki/%E0%AE%B5%E0%AE%BF%E0%AE%95%E0%AF%8D%E0%AE%95%E0%AE%BF%E0%AE%AA%E0%AF%8D%E0%AE%AA%E0%AF%80%E0%AE%9F%E0%AE%BF%E0%AE%AF%E0%AE%BE:%E0%AE%86%E0%AE%B2%E0%AE%AE%E0%AE%B0%E0%AE%A4%E0%AF%8D%E0%AE%A4%E0%AE%9F%E0%AE%BF</a>

So I dont really see a case why people would want to localize this which would mean URLs get percentage encoded again.


(In reply to <a href="show_bug.cgi?id=1450#c30">comment #30</a>)
<span class="quote">&gt; Could make it something like /h/ so that everyone is confused equally (although
&gt; personally i like /page/). I also agree that /r/ might not be the best due to
&gt; the association with revision (Especially given how things like svn use <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/1234" title="revision 1234 in SVN">r1234</a>
&gt; for revision references).</span >

I dont mind /h/ or /m/ /l/ or whatever.  Even /page/ is fine, but just that /&lt;singlechar&gt;/ would mean the url is also short (and hence faster to type on say mobiles)

&#64;MZMcBride, am sorry I couldnt find other comments why /r/ is less-than-ideal to stop this bug from moving? Can you please point them out? 

Can you also please point out what would be more ideal since few hundred communities are waiting for a way in which 'sane' URLs of their language wikis which are not percent-encoded, can be shared freely without annoying other people.</pre>
    </div><div id="c47" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">MZMcBride</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-22 22:27:49 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c46">comment #46</a>)
<span class="quote">&gt; Can you also please point out what would be more ideal since few hundred
&gt; communities are waiting for a way in which 'sane' URLs of their language wikis
&gt; which are not percent-encoded, can be shared freely without annoying other
&gt; people.</span >

Sorry, this bug got a bit hijacked by tangential issues. This bug is about enabling the ShortUrl extension on specified wikis. I've filed <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Make Wikimedia ShortUrl short URLs even shorter using an Apache rewrite rule"
   href="show_bug.cgi?id=36164">bug 36164</a> to track the rewrite rule issue.

As far as I know, there's nothing blocking the immediate deployment of this extension to specified Wikimedia wikis. The rewrite rules can and should be discussed separately at <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Make Wikimedia ShortUrl short URLs even shorter using an Apache rewrite rule"
   href="show_bug.cgi?id=36164">bug 36164</a>.</pre>
    </div><div id="c48" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Asher Feldman</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-24 22:49:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I agree with Srikanth re: the undesirability of internationalization in this case. Using [a-zA-Z0-9] is also in line with most other link shortening services, which have become ubiquitous. I think we can deploy as-is and revisit the issue later if a specific project forms consensus around wanting an internationalized redirector.

Brion far above voiced concern that shortlinks could be confused for revision-ids. I don't think it's current issue but makes me wonder if we should use /l/ instead of /r/.  

I also suppose we'll want to use a rewrite condition so the redirect only applies to the wikis mentioned in <a href="show_bug.cgi?id=1450#c39">comment 39</a>?</pre>
    </div><div id="c49" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Daniel Friesen</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-24 23:59:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c48">comment #48</a>)
<span class="quote">&gt; I agree with Srikanth re: the undesirability of internationalization in this
&gt; case. Using [a-zA-Z0-9] is also in line with most other link shortening
&gt; services, which have become ubiquitous. I think we can deploy as-is and revisit
&gt; the issue later if a specific project forms consensus around wanting an
&gt; internationalized redirector.
&gt; 
&gt; Brion far above voiced concern that shortlinks could be confused for
&gt; revision-ids. I don't think it's current issue but makes me wonder if we should
&gt; use /l/ instead of /r/.  
&gt; 
&gt; I also suppose we'll want to use a rewrite condition so the redirect only
&gt; applies to the wikis mentioned in <a href="show_bug.cgi?id=1450#c39">comment 39</a>?</span >

How about /s/?</pre>
    </div><div id="c50" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Asher Feldman</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-25 18:43:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >+1 to /s/, I think we just need to get the router code added as you outlined in <a href="https://bugzilla.wikimedia.org/show_bug.cgi?id=36164#c6">https://bugzilla.wikimedia.org/show_bug.cgi?id=36164#c6</a> and we should be able to plan deployment.</pre>
    </div><div id="c51" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Yuvi Panda</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-05-13 19:28:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The router code has been merged in. What next for deployment? 

+1 to /r/, +0 to /s/</pre>
    </div><div id="c52" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Daniel Friesen</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-05-13 19:45:30 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c51">comment #51</a>)
<span class="quote">&gt; The router code has been merged in. What next for deployment? 
&gt; 
&gt; +1 to /r/, +0 to /s/</span >

Can someone tell me why /r/ is even considered a valid path for this purpose? What word is it that makes it so that '/r/' makes sense? Cause to me /r/ speaks 'Revision', ie: &amp;oldid, and short url does NOT use that.

Frankly I'd reject the use of that path on the grounds that it would preclude the ability to use /r/ to point to &amp;oldid in the future if we found a reason to do that.</pre>
    </div><div id="c53" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Yuvi Panda</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-05-13 20:01:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I think /r/ was considered simply because that's what is being currently used by the wikis. See <a href="http://tawp.in/r/rtd">http://tawp.in/r/rtd</a> for an example.</pre>
    </div><div id="c54" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Yuvi Panda</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-05-13 20:02:14 UTC
        </span>
      </div>



<pre class="bz_comment_text" >So that's a 'legacy' reason, and it looks like there is now consensus on /s/ (at least among the comments so far on this bug)</pre>
    </div><div id="c55" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krinkle</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-05-14 08:47:15 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=1450#c53">comment #53</a>)
<span class="quote">&gt; I think /r/ was considered simply because that's what is being currently used
&gt; by the wikis. See <a href="http://tawp.in/r/rtd">http://tawp.in/r/rtd</a> for an example.</span >

Assuming the registry of this extension will not match all entries on the private server at <a href="http://tawp.in/r">http://tawp.in/r</a>, there is no reason to use same character. It could even be confusing.

When ta.wikipedia.org/s/&lt;shorturl id&gt; is set up, the maintainer of <a href="http://tawp.in/">http://tawp.in/</a> could set up <a href="http://tawp.in/s/">http://tawp.in/s/</a>* to redirect to <a href="http://ta.wikipedia.org/s/">http://ta.wikipedia.org/s/</a>*</pre>
    </div><div id="c56" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Yuvi Panda</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-05-14 10:22:43 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&#64;Krinkle: Was merely providing historical context :)

(Also: I run tawp.in)</pre>
    </div><div id="c57" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sumana Harihareswara</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-07-25 17:47:44 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Just talked to CT Woo.  Ben Hartshorne will be working on this, but is currently refining the Apache rewrite rules as part of his Swift work.  The Apache rewrite rule work will also help with ShortURL.</pre>
    </div><div id="c58" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1450#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sam Reed (reedy)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-07-30 16:35:18 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Redirects are in place.

Enabled on tawiki and orwiki, hiwiki (another bug) and the other tawikis

Open new bugs for other wikis etc.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>

    <hr><div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=1450&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=1450">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=1450">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=1450">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>        


<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>

<br>
<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="head" class="noprint">
			<!-- /search -->
			<div id="p-search">
				<h5><label for="searchInput">Search</label></h5>
				<form id="searchform" action="buglist.cgi" method="get"
				 onsubmit="if (this.quicksearch.value == '')
				 { alert('Please enter one or more search terms first.');
				 return false; } return true;">
					<input type='hidden' name="title" value="Special:Search"/>
					<div id="simpleSearch">
						<input id="searchInput" name="quicksearch" type="text" title="Search Bugzilla [alt-f]" accesskey="f" value="" />
						<button id="searchButton" type='submit' name='button' title="Search Bugzilla for this text">&nbsp;</button>
					</div>
				</form>
			</div>
			<!-- /search -->
			<!-- personal -->
			<div id="p-personal" class="">
				<h5>Personal tools</h5>
				<ul >
							<li id="new_account_container">
								<a href="createaccount.cgi">New&nbsp;Account</a>
							</li>
						<li id="mini_login_container">
  <span class="separator">| </span>
  <a id="login_link" href="show_bug.cgi?id=1450&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('')">Log In</a>

  
  <form action="show_bug.cgi?id=1450" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login"
        onsubmit="return check_mini_login_fields( '' );"
  >
    <input id="Bugzilla_login" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('')"
    >
    <input class="bz_password" 
           id="Bugzilla_password" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy" value="password"
           title="Password"
           onfocus="mini_login_on_focus('')"
    >
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "email address",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('')">[x]</a>
  </form>
</li>
<li id="forgot_container">
  <span class="separator">| </span>
  <a id="forgot_link" href="show_bug.cgi?id=1450&amp;GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form"
        class="mini_forgot bz_default_hidden">
    <label for="login">Login:</label>
    <input type="text" name="loginname" size="20" id="login">
    <input id="forgot_button" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token" name="token" value="1419358968-q-Ke22opPaaxJ7HeamdYPBGNWHWrWT5tgfzMdPcIJTA">
    <a href="#" onclick="return hide_forgot_form('')">[x]</a>
  </form>
</li>

				</ul>
			</div>
			<!-- /personal -->
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="panel" class="noprint">
				<!-- logo -->
				<div id="p-logo"><a style="background-image: url(skins/contrib/Wikimedia/images/bugzilla-logo.png);" href="./"  title="Visit the main page"></a></div>
				<!-- /logo -->
				<!-- navigation -->
				<div class="portal">
					<h5>Navigation</h5>
					<div class="body">
						<ul><li><a href="query.cgi?format=specific">Search bugs</a></li>
			<li><a href="query.cgi?format=advanced">Advanced search</a></li>
			<li><a href="describecomponents.cgi">Browse projects</a></li>
			<li><a href="enter_bug.cgi">Enter a new bug</a></li>
                        <li>
                                <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
                        </li>	
						</ul>
					</div>
				</div>
				<!-- /navigation -->
				<!-- interaction -->
				<!-- /interaction -->
				<!-- toolbox -->
				<div class="portal">
					<h5>Links</h5>
					<div class="body">
						<ul><li><a href="report.cgi">Reports</a></li>
			<li><a href="weekly-bug-summary.cgi?tops=10&days=7">Weekly Summary</a></li>
				<li>
						<a href="request.cgi">Requests</a>
				</li>
						</ul>
					</div>
				</div>
				<!-- /toolbox -->
			</div>
		<!-- /panel -->		

		<!-- footer -->
		<div id="footer" >
			<ul id="footer-info">
				<li>Bugzilla version 4.4.5</li>
			</ul>

			<ul id="footer-places">
				<li><a href="https://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Bug_management/Bugzilla_etiquette" title="Bug management/Bugzilla etiquette">Bugzilla etiquette</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:About" title="Project:About">About MediaWiki.org</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:General_disclaimer" title="Project:General disclaimer">Disclaimers</a></li>
			</ul>
			<ul id="footer-icons" class="noprint">
				<li id="footer-icon-poweredby"><a href="http://www.bugzilla.org/"><img src="skins/contrib/Wikimedia/images/bugzilla-badge.png" height="31" width="88" alt="Powered by Bugzilla" /></a></li>
			</ul>
			<div style="clear:both"></div>
		<div class="outro"></div>
		</div>
		<!-- /footer -->
	</body>
</html>