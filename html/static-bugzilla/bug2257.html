<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 2257 &ndash; Template parameters unavailable to XML-style parser tags</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="https://old-bugzilla.wikimedia.org/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=2257&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=2257">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=2257">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=2257">



    
    <link href="skins/standard/global.css?1389015166"
          rel="alternate stylesheet" 
          title="Classic"><link href="js/yui/assets/skins/sam/autocomplete.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="js/yui/assets/skins/sam/calendar.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/global.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/show_bug.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="extensions/Voting/web/style.css?1389015166" rel="stylesheet"
        type="text/css" ><!--[if lte IE 7]>
      


  <link href="skins/standard/IE-fixes.css?1389015166" rel="stylesheet"
        type="text/css" >
<![endif]-->

    <link href="skins/contrib/Wikimedia/global.css?1402013050" rel="stylesheet"
        type="text/css" title="Wikimedia"><link href="skins/contrib/Wikimedia/show_bug.css?1402441020" rel="stylesheet"
        type="text/css" title="Wikimedia">

      <link rel="stylesheet" href="skins/contrib/Wikimedia/vector.css?1403109885" media="screen"
            title="Wikimedia" />


    

    

    
<script type="text/javascript" src="js/yui/yahoo-dom-event/yahoo-dom-event.js?1389015166"></script><script type="text/javascript" src="js/yui/cookie/cookie-min.js?1389015166"></script><script type="text/javascript" src="js/yui/datasource/datasource-min.js?1389015166"></script><script type="text/javascript" src="js/yui/connection/connection-min.js?1389015166"></script><script type="text/javascript" src="js/yui/json/json-min.js?1389015166"></script><script type="text/javascript" src="js/yui/autocomplete/autocomplete-min.js?1389015166"></script><script type="text/javascript" src="js/yui/calendar/calendar-min.js?1389015166"></script><script type="text/javascript" src="js/global.js?1389015166"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 15
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 2257 – Template parameters unavailable to XML-style parser tags",  
                             "show_bug.cgi?id=2257" );
        document.title = "Bug 2257 – Template parameters unavailable to XML-style parser tags";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 2257 – Template parameters unavailable to XML-style parser tags", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script type="text/javascript" src="js/util.js?1389015166"></script><script type="text/javascript" src="js/field.js?1389015166"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico" >
  </head>



  <body onload=""
        class="old-bugzilla-wikimedia-org bz_bug bz_status_RESOLVED bz_product_MediaWiki bz_component_Parser bz_bug_2257 yui-skin-sam">



<!-- If custom Wikimedia skin -->
   <div id="page-base" class="noprint"></div>
                <div id="head-base" class="noprint"></div>
                <!-- content -->
                <div id="content-container" >
                        <a id="top"></a>
                        <!-- bodyContent -->
                        <div id="bodyContent">
      <p class="header_addl_info">Last modified: 2011-09-06 15:11:25 UTC</p>

 <!-- If custom Wikimedia skin -->
<h1>Wikimedia Bugzilla is closed!</h1><div id="message" style="text-align: center; color: black">Wikimedia has <a href="https://www.mediawiki.org/wiki/Phabricator/versus_Bugzilla">migrated from Bugzilla to Phabricator</a>. Bug reports should be created and updated in <a href="https://phabricator.wikimedia.org">Wikimedia Phabricator</a> instead. Please <a href="https://www.mediawiki.org/wiki/Phabricator/Help#Creating_your_account">create an account in Phabricator and add your Bugzilla email address</a> to it.<br>Wikimedia Bugzilla is read-only. If you try to edit or create any bug report in Bugzilla you will be shown an intentional error message.<br>In order to access the Phabricator task corresponding to a Bugzilla report, just remove "static-" from its URL.<br>You could still run searches in Bugzilla or access your <a href="https://old-bugzilla.wikimedia.org/page.cgi?id=voting%2Fuser.html">list of votes</a> but bug reports will obviously not be up-to-date in Bugzilla.</div>

<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>
<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2011-09-06 15:11:25">
  <input type="hidden" name="longdesclength" value="91">
  <input type="hidden" name="id" value="2257">
  <input type="hidden" name="token" value="1419360217-IL_Rb1q_xXf1quo5yQehDVndWyI9Ps9WzDjZNCXSnlM">
<div class="bz_alias_short_desc_container edit_form">
     <a href="show_bug.cgi?id=2257"><b>Bug&nbsp;2257</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">Template parameters unavailable to XML-style parser tags</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>
</label>
</th>
          <td>Template parameters unavailable to XML-style parser tags
          </td>
        </tr>
      </table>
    </div>
  </div>
  <script type="text/javascript">
    hideAliasAndSummary('Template parameters unavailable to XML-style parser tags', '');
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >MediaWiki</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr>
    
    <td class="field_label">
      <label for="component">
        <a href="describecomponents.cgi?product=MediaWiki">
        Component:</a>
      </label>
    </td>
    
    <td>Parser
    
    (<a href="buglist.cgi?component=Parser&product=MediaWiki&resolution=---"
      target="new_window">Other open bugs</a>)
    
    </td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>
</label>
</th>
        <td>1.11.x
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">All
       All
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>Normal
       normal<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=2257">34 
            votes</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=2257#vote_2257">vote</a>)
  </span>
      </td>
    </tr>

      <tr>
        <th class="field_label">
          <label for="target_milestone">
            <a href="page.cgi?id=fields.html#target_milestone">
            Target&nbsp;Milestone</a></label>:
        </th><td>---
  </td>
      </tr>            
          
          <tr>
      <th class="field_label">
        <a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">Nobody - You can work on this!</span>
</span>
      </td>
    </tr>

    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'wikibugs-l\x40lists.wikimedia.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
  
    <tr><th class="field_label "
    id="field_label_status_whiteboard">

    <label for="status_whiteboard" accesskey="w">

  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>
</label>
</th><td colspan="2">  
  </td>
    </tr>
  
    <tr>
      <th class="field_label">
        <label for="keywords" accesskey="k">
          <a href="describekeywords.cgi"><u>K</u>eywords</a></label>:
      </th>
      <td class="field_value" colspan="2">patch, patch-need-review
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label for="duplicates">Duplicates</label>:
    </th>
    <td class="field_value" colspan="2">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Allow use of templates and variables in &lt;html&gt; tags"
   href="show_bug.cgi?id=591">591</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Passing template parameters to parser hook extensions"
   href="show_bug.cgi?id=4529">4529</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Syntax hooks are (incorrectly) parsed before template variables"
   href="show_bug.cgi?id=5435">5435</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Template parameters don't work in extension tags"
   href="show_bug.cgi?id=7591">7591</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - DPL parameters do not capture variables"
   href="show_bug.cgi?id=7673">7673</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Transclusion of variables like {{PAGENAME}} fails in imagemap"
   href="show_bug.cgi?id=8600">8600</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Parameters are not passed to hooks"
   href="show_bug.cgi?id=8828">8828</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - &lt;imagemap&gt;: does not work inside a template"
   href="show_bug.cgi?id=9005">9005</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - ImageMap don't accept Variable"
   href="show_bug.cgi?id=9645">9645</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Gallery tags are rendered too early"
   href="show_bug.cgi?id=9930">9930</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Subst not working inside REF tag"
   href="show_bug.cgi?id=10712">10712</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Magic words, variables, and parser functions do not work inside &lt;imagemap&gt;"
   href="show_bug.cgi?id=10766">10766</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Unparsed Variable in Templates with a Wiki-Markup extension, like: &lt;myext name=&quot;{{{1|}}}&quot;&gt;.."
   href="show_bug.cgi?id=10860">10860</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Category tree and magic words"
   href="show_bug.cgi?id=10961">10961</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Template parameters are not expanded in &lt;ask&gt; queries."
   href="show_bug.cgi?id=11684">11684</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Inputbox wont parse magicwords ({{CURRENTYEAR}}, etc)"
   href="show_bug.cgi?id=12236">12236</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Inputbox extension cannot be used in mediawiki parametrized templates"
   href="show_bug.cgi?id=14389">14389</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Using ref inside formatnums causes parser error"
   href="show_bug.cgi?id=14792">14792</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - extensions are parsed before template variable substitution"
   href="show_bug.cgi?id=15307">15307</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - subst: doesn't work within &lt;ref&gt;...&lt;/ref&gt; tags"
   href="show_bug.cgi?id=16010">16010</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Extension should accept variables as image and link names"
   href="show_bug.cgi?id=16825">16825</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - subst:PAGENAME in reference-URL doesn't work"
   href="show_bug.cgi?id=18417">18417</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Imagemap cannot accept dynamic links."
   href="show_bug.cgi?id=23572">23572</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Template syntax isn't parsed within imagemaps"
   href="show_bug.cgi?id=30782">30782</a> 
      </span>
      (<a href="buglist.cgi?bug_id=591,4529,5435,7591,7673,8600,8828,9005,9645,9930,10712,10766,10860,10961,11684,12236,14389,14792,15307,16010,16825,18417,23572,30782">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Transclusion of variables like {{PAGENAME}} fails in imagemap"
   href="show_bug.cgi?id=8600">8600</a> 
  </td>
  </tr>
  
  <tr>
    <th>&nbsp;</th>
  
    <td colspan="2" align="left" id="show_dependency_tree_or_graph">
      Show dependency <a href="showdependencytree.cgi?id=2257&amp;hide_resolved=1">tree</a>
  
        /&nbsp;<a href="showdependencygraph.cgi?id=2257">graph</a>
    </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2005-05-27 18:39 UTC by <span class="vcard"><span class="fn">Dashiva</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2011-09-06 15:11 UTC 
      (<a href="show_activity.cgi?id=2257">History</a>)
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>46 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="alexp">alexp</option>
                <option value="avarab">avarab</option>
                <option value="ayg">ayg</option>
                <option value="azatoth">azatoth</option>
                <option value="benbramich">benbramich</option>
                <option value="beta">beta</option>
                <option value="Betlista">Betlista</option>
                <option value="bnospam">bnospam</option>
                <option value="brian">brian</option>
                <option value="bugs">bugs</option>
                <option value="bugzilla.wikimedia">bugzilla.wikimedia</option>
                <option value="bugzilla.wikimedia">bugzilla.wikimedia</option>
                <option value="cuerden">cuerden</option>
                <option value="dossy">dossy</option>
                <option value="ek79501">ek79501</option>
                <option value="gabumon36">gabumon36</option>
                <option value="GregUbben">GregUbben</option>
                <option value="gtisza">gtisza</option>
                <option value="jburos">jburos</option>
                <option value="lcureel">lcureel</option>
                <option value="lilian.robert">lilian.robert</option>
                <option value="lunasantin">lunasantin</option>
                <option value="manuel.schneider">manuel.schneider</option>
                <option value="mediawiki">mediawiki</option>
                <option value="mediawiki">mediawiki</option>
                <option value="MediaWiki">MediaWiki</option>
                <option value="mike_wikipedia">mike_wikipedia</option>
                <option value="naught101">naught101</option>
                <option value="nephele">nephele</option>
                <option value="nickpj">nickpj</option>
                <option value="publicsean">publicsean</option>
                <option value="raimond.spekking">raimond.spekking</option>
                <option value="roan.kattouw">roan.kattouw</option>
                <option value="san.jose.wiki">san.jose.wiki</option>
                <option value="sanbec">sanbec</option>
                <option value="sent">sent</option>
                <option value="sergey.chernyshev">sergey.chernyshev</option>
                <option value="ssanbeg">ssanbeg</option>
                <option value="Suiwiki">Suiwiki</option>
                <option value="tcrow777">tcrow777</option>
                <option value="theevilipaddress">theevilipaddress</option>
                <option value="ThomasBleher">ThomasBleher</option>
                <option value="timeroot.alex">timeroot.alex</option>
                <option value="tkharris">tkharris</option>
                <option value="tstarling">tstarling</option>
                <option value="webmaster">webmaster</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         <tr><th class="field_label "
    id="field_label_cf_browser">


  <a 
      title="Please set this if the described problem seems to happen only in a specific web browser."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_browser"
  >Web browser:</a>

</th>
  <td class="field_value "
      id="field_container_cf_browser"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_platform">


  <a 
      title="The Mobile Platform the described problem was experienced on."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_platform"
  >Mobile Platform:</a>

</th>
  <td class="field_value "
      id="field_container_cf_platform"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_hugglebeta">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_hugglebeta"
  >Assignee Huggle Beta Tester:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_hugglebeta"  colspan="2">---</td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=576"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Fix for REL1_4</span></b></a>

          <span class="bz_attach_extra_info">
              (1.41 KB,
                patch)

            <br>
            <a href="#attach_576"
               title="Go to the comment associated with the attachment">2005-05-27 23:54 UTC</a>,

            <span class="vcard"><span class="fn">Dashiva</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=576&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=577"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Fix for HEAD</span></b></a>

          <span class="bz_attach_extra_info">
              (1.50 KB,
                patch)

            <br>
            <a href="#attach_577"
               title="Go to the comment associated with the attachment">2005-05-27 23:55 UTC</a>,

            <span class="vcard"><span class="fn">Dashiva</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=577&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=753"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Adds methods to Parser for parsing of text</span></b></a>

          <span class="bz_attach_extra_info">
              (1.21 KB,
                patch)

            <br>
            <a href="#attach_753"
               title="Go to the comment associated with the attachment">2005-07-29 18:05 UTC</a>,

            <span class="vcard"><span class="fn">Jamie Bliss</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=753&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=2536"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Parser.php method for extensions to interpolate template vars (1.9-svn)</span></b></a>

          <span class="bz_attach_extra_info">
              (1.94 KB,
                patch)

            <br>
            <a href="#attach_2536"
               title="Go to the comment associated with the attachment">2006-10-22 20:12 UTC</a>,

            <span class="vcard"><span class="fn">Evan Miller</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=2536&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=2550"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Attempt to work with &lt;includeonly&gt; (1.9-svn)</span></b></a>

          <span class="bz_attach_extra_info">
              (1.98 KB,
                patch)

            <br>
            <a href="#attach_2550"
               title="Go to the comment associated with the attachment">2006-10-25 04:15 UTC</a>,

            <span class="vcard"><span class="fn">Evan Miller</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=2550&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a6" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=3574"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Patch for REL1_9</span></b></a>

          <span class="bz_attach_extra_info">
              (3.67 KB,
                patch)

            <br>
            <a href="#attach_3574"
               title="Go to the comment associated with the attachment">2007-05-03 22:19 UTC</a>,

            <span class="vcard"><span class="fn">Sean J</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=3574&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a7" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=3602"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Patch for parser.php</span></b></a>

          <span class="bz_attach_extra_info">
              (3.54 KB,
                patch)

            <br>
            <a href="#attach_3602"
               title="Go to the comment associated with the attachment">2007-05-08 21:36 UTC</a>,

            <span class="vcard"><span class="fn">Sean J</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=3602&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a8" class="bz_contenttype_text_plain bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=4519"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Proposed solution: Extension TagParser</span></b></a>

          <span class="bz_attach_extra_info">
              (1.32 KB,
                text/plain)

            <br>
            <a href="#attach_4519"
               title="Go to the comment associated with the attachment">2008-01-06 22:11 UTC</a>,

            <span class="vcard"><span class="fn">René Kijewski</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=4519&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a9" class="bz_contenttype_text_plain bz_patch">
        <td valign="top">
            <a href="attachment.cgi?id=6056"
               title="View the content of the attachment">
          <b>Allow PPFrames to be used to truly make template variables available</b></a>

          <span class="bz_attach_extra_info">
              (3.35 KB,
                patch)

            <br>
            <a href="#attach_6056"
               title="Go to the comment associated with the attachment">2009-04-24 17:03 UTC</a>,

            <span class="vcard">nephele
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=6056&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="2">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (8)
        </span>
        <a href="attachment.cgi?bugid=2257&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>

  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js?1389015166" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>




<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dashiva</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-27 18:39:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Say I have Template:Custom with content:
&lt;mycustomtag&gt;Param1 = {{{1}}}&lt;/mycustomtag&gt;
I call it on another page using {{Custom|parameter}}

This results in the parser giving the hook's function &quot;Param1 = {{{1}}}&quot; as input. Since extension 
output isn't parsed further at all, and the extension itself has no way of recovering it (the 
recursion stack is inaccessible), the parameter is lost.

Possible solutions:
* Substitute parameters in parser hook input
* Give extensions access to the stack containing the parameters

I imagine the second would be a huge mess, so I would greatly prefer the first alternative.</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dashiva</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-27 23:54:32 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=576" name="attach_576" title="Fix for REL1_4">attachment 576</a> <a href="attachment.cgi?id=576&amp;action=edit" title="Fix for REL1_4">[details]</a></span>
Fix for REL1_4

Before starting recursive parsing of templates, stores the parameters of that
template. Uses these parameters to parse variables in extension input.

Does not change non-extension functionality at all, so should be safe.</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dashiva</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-27 23:55:04 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=577" name="attach_577" title="Fix for HEAD">attachment 577</a> <a href="attachment.cgi?id=577&amp;action=edit" title="Fix for HEAD">[details]</a></span>
Fix for HEAD

As above.</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Zigger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-28 01:50:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >See also <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Allow Parser extensions to use tags with parameters"
   href="show_bug.cgi?id=684">bug 684</a>.</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jamie Bliss</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-07-29 18:05:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=753" name="attach_753" title="Adds methods to Parser for parsing of text">attachment 753</a> <a href="attachment.cgi?id=753&amp;action=edit" title="Adds methods to Parser for parsing of text">[details]</a></span>
Adds methods to Parser for parsing of text

Takes another approach on this. Instead of having the parser automactically
parse template arguments, have the extension call a function for the purpose of
expanding templates and parameters. Also includes a stub for doing a full
parse. (Currently only calls htmlentities() on the input, since any attempt to
parse was disasterous in my testing.)

(Maybe this should be moved to a new bug?)</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dashiva</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-07-30 13:32:41 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It is my opinion that extensions should be substitution-agnostic. If someone wants 
to put {{PAGENAME}} into an extension, that should work without the extension author 
having to predict it and add variable parsing to his extension. Furthermore, it's 
much easier to handle it once in Parser.php than in all kinds of different 
extensions.</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-03 07:23:34 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Syntax hooks are (incorrectly) parsed before template variables"
   href="show_bug.cgi?id=5435">Bug 5435</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-16 00:53:38 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Template parameters don't work in extension tags"
   href="show_bug.cgi?id=7591">Bug 7591</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Evan Miller</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-22 19:53:11 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Passing template parameters to parser hook extensions"
   href="show_bug.cgi?id=4529">Bug 4529</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Evan Miller</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-22 20:12:04 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=2536" name="attach_2536" title="Parser.php method for extensions to interpolate template vars (1.9-svn)">attachment 2536</a> <a href="attachment.cgi?id=2536&amp;action=edit" title="Parser.php method for extensions to interpolate template vars (1.9-svn)">[details]</a></span>
Parser.php method for extensions to interpolate template vars (1.9-svn)

I've written a patch for this against 1.9-svn (rev. 17200). It defines a method
called replaceTemplateVariables that extension authors can use. Sample usage:

function myExtension_Render($source, $argv, &amp;$parser) {
    $source = $parser-&gt;replaceTemplateVariables($source);
    ...
}

Making this function available but not mandating it I think preserves the
greatest flexibility and backward-compatibility.

This functionality is something that users of my extension have been asking
for, and I think a lot of people will appreciate it. Thanks for reviewing it!</pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-24 05:00:01 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - DPL parameters do not capture variables"
   href="show_bug.cgi?id=7673">Bug 7673</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-24 15:06:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I had some problems with patch 2536 when using &lt;includeonly&gt; and &lt;/includeonly&gt;,
getting the error:

&lt;b&gt;Warning&lt;/b&gt;:  array_key_exists() [&lt;a
href='function.array-key-exists'&gt;function.array-key-exists&lt;/a&gt;]: The second
argument should be either an array or an object in
&lt;b&gt;/home/www/public_html/w/includes/Parser.php&lt;/b&gt; on line &lt;b&gt;3277&lt;/b&gt;

The extension is using the $parser-&gt;replaceTemplateVariables() rather
generically, so I suspect it's an issue in Parser.php. The error appears when
viewing/editing the Template, and the Template essentially reduces to something
likeso:

{{{1}}}
&lt;includeonly&gt;
&lt;extension&gt;
argument={{{1}}}
&lt;/extension&gt;
&lt;/includeonly&gt;

Calling the template from another page works just fine, mind you.
</pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Evan Miller</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-25 04:15:46 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=2550" name="attach_2550" title="Attempt to work with &lt;includeonly&gt; (1.9-svn)">attachment 2550</a> <a href="attachment.cgi?id=2550&amp;action=edit" title="Attempt to work with &lt;includeonly&gt; (1.9-svn)">[details]</a></span>
Attempt to work with &lt;includeonly&gt; (1.9-svn)

I could not reproduce the &lt;includeonly&gt; incompatibility, but given the symptoms
you describe I think this will fix it.</pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tim Starling</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-25 04:38:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I would prefer to entirely separate the preprocessing stage from the HTML
generation stage. Then we should introduce a flags parameter to
Parser::setHook(), giving three possible preprocessing styles:

* PP_TRANSPARENT: Expand templates and template arguments inside the extension
tag, as if it wasn't there. This is the desired behaviour for many extensions.
* PP_OPAQUE: Treat text inside extension tags as opaque. This is the current
behaviour. 
* PP_EXPAND: Expand the tag during preprocessing, via the callback. This allows
extensions which are syntactically equivalent to tags, but functionally
equivalent to parser functions. One obvious application for this would be a
&lt;template&gt; tag, which provides an XML-like interface to template expansion,
thereby providing rigorous argument escaping for applications which need it.

Recursive parsing in extensions is slow, complicated and prone to failure. The
fact that we do strip() before replaceVariables() produces counterintuitive
behaviour which is mostly hidden at the moment by the lack of parser interaction
features such as this one. For example, &lt;ref&gt; tags exposed via template
expansion will be ordered after &lt;ref&gt; tags coming directly from the article
text, in the &lt;references/&gt; list. Counterintuitive behaviour such as this (no
doubt there are many other similar problems) can be avoided by doing extension
expansion after a complete extension-tag-aware preprocessing phase.</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-25 05:35:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c12">comment #12</a>)
<span class="quote">&gt; Created an attachment (id=2550) [edit]
&gt; Attempt to work with &lt;includeonly&gt; (1.9-svn)
&gt; 
&gt; I could not reproduce the &lt;includeonly&gt; incompatibility, but given the symptoms
&gt; you describe I think this will fix it.</span >

Yes, this is essentially the same solution I came up with, but thank you for
submitting it. Incidentally, the problem was broader than &lt;includeonly&gt;,
applying to any variable reference (i.e. {{{1}}}) being parsed; it was simply
coincidental that it first occurred with me while using &lt;includeonly&gt;.
</pre>
    </div><div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Fernando Correia</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-19 13:41:55 UTC
        </span>
      </div>



<pre class="bz_comment_text" >In my opinion, template parameters should always be substituted before calling
the hook, like the way it works for parser functions.</pre>
    </div><div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-01-28 21:25:06 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Transclusion of variables like {{PAGENAME}} fails in imagemap"
   href="show_bug.cgi?id=8600">Bug 8600</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c17" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-01-30 16:41:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Parameters are not passed to hooks"
   href="show_bug.cgi?id=8828">Bug 8828</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c18" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Emilien ARNAUD</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-01-30 20:53:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >See <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Parameters are not passed to hooks"
   href="show_bug.cgi?id=8828">Bug 8828</a> to get a working patch</pre>
    </div><div id="c19" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-02-16 23:19:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - &lt;imagemap&gt;: does not work inside a template"
   href="show_bug.cgi?id=9005">Bug 9005</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c20" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-20 21:23:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - ImageMap don't accept Variable"
   href="show_bug.cgi?id=9645">Bug 9645</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c21" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sean J</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-05-03 22:19:12 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=3574" name="attach_3574" title="Patch for REL1_9">attachment 3574</a> <a href="attachment.cgi?id=3574&amp;action=edit" title="Patch for REL1_9">[details]</a></span>
Patch for REL1_9

The major issue, as stated above, is the strip() call before replaceVariables()
in brace_substitution(). This prevents template arguments from being added to
the stack which are therefore unavailable to an extension tags. 

As a relatively easy fix, strip() could be called from replaceVariables() as
determined by the parser output type.  This way the template arguments could be
added to the stack and accessed by any extension tags. 

Tested against ParserTests.php for 1.9.3, against same items as head parser. 
The same patch should work for 1.10, but I haven't tested it.</pre>
    </div><div id="c22" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-05-03 22:26:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Can we have patches against current trunk, HEAD revision? Non-critical fixes and
new features don't go into stable branches.</pre>
    </div><div id="c23" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sean J</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-05-08 21:36:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=3602" name="attach_3602" title="Patch for parser.php">attachment 3602</a> <a href="attachment.cgi?id=3602&amp;action=edit" title="Patch for parser.php">[details]</a></span>
Patch for parser.php

Same as previous &quot;Patch for REL1_9&quot; but against the trunk (<a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/21994" title="revision 21994 in SVN">r21994</a>). Produces
identical ParserTests.php output as current revision.  Makes template variables
available to parser tags via the $parser-&gt;mArgStack attribute.</pre>
    </div><div id="c24" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Daniel U. Thibault</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-05-10 16:29:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I strongly suspect [<a href="http://bugzilla.wikimedia.org/show_bug.cgi?id=8835|bug">http://bugzilla.wikimedia.org/show_bug.cgi?id=8835|bug</a> 8835]
will be fixed at the same time this bug (2257) is. They seem related.</pre>
    </div><div id="c25" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-05-17 00:13:21 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Gallery tags are rendered too early"
   href="show_bug.cgi?id=9930">Bug 9930</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c26" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Betlista</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-05-17 12:13:29 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Templates not working in MediaWiki 1.9.3 when used {{TemplateName|argument}}, there is {{{1}}} showing in page instead of argument.

Using of {{TemplateName|1=argument}} works fine.</pre>
    </div><div id="c27" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sean J</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-05-20 22:03:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c26">comment #26</a>)
<span class="quote">&gt; Templates not working in MediaWiki 1.9.3 when used {{TemplateName|argument}},
&gt; there is {{{1}}} showing in page instead of argument.
&gt; 
&gt; Using of {{TemplateName|1=argument}} works fine.
&gt; </span >

Both REL 1_9 patch and the head patch passed the &quot;Template unnamed parameter&quot; parser test. I can't repoduce the bug. Do you see the bug in the current trunk, head revision?</pre>
    </div><div id="c28" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-05-21 00:44:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >To avoid clutter, please open new bug reports to discuss different problems.  Thank you.</pre>
    </div><div id="c29" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Raimond Spekking</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-26 20:23:33 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Subst not working inside REF tag"
   href="show_bug.cgi?id=10712">Bug 10712</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c30" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Raimond Spekking</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-01 06:26:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Magic words, variables, and parser functions do not work inside &lt;imagemap&gt;"
   href="show_bug.cgi?id=10766">Bug 10766</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c31" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Timothy J. Crowell</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-01 07:47:14 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It has been about 2 years since this bug was submited, when is a fix going to to be put on Wikipedia?</pre>
    </div><div id="c32" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Timothy J. Crowell</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-03 01:00:29 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Bug is still present in MediaWiki 1.11-svn, so I changed version from 1.9-svn to 1.11-svn.</pre>
    </div><div id="c33" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Betlista</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-04 23:12:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Hi,

I finally found some time for test with trunk version.
I downloaded version 24597 from SVN and I had no problem to simulate the problem.
At <a href="http://wikibug.appoge.net/">http://wikibug.appoge.net/</a> I created wiki page from trunk and also created two templates:

1. template &quot;body&quot; with code:
&lt;div style=&quot;font-weight: bold;&quot;&gt;
{{{1}}}
&lt;/div&gt;

2. template &quot;capital&quot; with code:
&lt;span style=&quot;color: green;&quot;&gt;{{{1}}}&lt;/span&gt;

Result of testing of these two templates is at <a href="http://wikibug.appoge.net/index.php/Template_bug_test">http://wikibug.appoge.net/index.php/Template_bug_test</a>

btw: Why there are so old snapshots at <a href="http://download.wikimedia.org/mediawiki/snapshot/">http://download.wikimedia.org/mediawiki/snapshot/</a> ?</pre>
    </div><div id="c34" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Danny B.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-09 15:40:34 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Unparsed Variable in Templates with a Wiki-Markup extension, like: &lt;myext name=&quot;{{{1|}}}&quot;&gt;.."
   href="show_bug.cgi?id=10860">Bug 10860</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c35" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Raimond Spekking</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-24 08:34:37 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Category tree and magic words"
   href="show_bug.cgi?id=10961">Bug 10961</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c36" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jamie Hari</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-09-03 19:43:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Does the patch in <a href="show_bug.cgi?id=2257#c23">Comment #23</a> indeed resolve this issue?
Could we double-check it and incorporate if possible? 

<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - &lt;references /&gt; on a page doesn't list &lt;ref&gt; tags from included templates"
   href="show_bug.cgi?id=8693">Bug 8693</a> might be helped by this fix, as well.</pre>
    </div><div id="c37" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Nick Jenkins</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-09-04 07:43:00 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Re <a href="show_bug.cgi?id=2257#c36">comment #36</a>:
<span class="quote">&gt; Does the patch in <a href="show_bug.cgi?id=2257#c23">Comment #23</a> indeed resolve this issue?</span >

The patch in <a href="show_bug.cgi?id=2257#c23">comment #23</a> solved the issue for me on MediaWiki 1.9.3, but
with a few minor updates (added one line to initialize $this-&gt;mArgStack,
and added a few lines to replace template args in the parameters &amp; content
for custom parser tags). Whether these updates are truly needed, or can be
done better, I did not investigate - it was literally a 3-minute hack-job
modification of Sean J's patch to solve a specific problem that was annoying
me (i.e. that I wanted a custom parser tag to never have to care about
templates, and to only ever see the expanded content, never the raw content).
If it you're keen, the diff is here, but it's probably inefficient crap:
<a href="http://files.nickj.org/MediaWiki/possibly-yucky-2257-parser-patch.txt">http://files.nickj.org/MediaWiki/possibly-yucky-2257-parser-patch.txt</a></pre>
    </div><div id="c38" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Steve Sanbeg</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-09-11 21:31:45 UTC
        </span>
      </div>



<pre class="bz_comment_text" >What does the patch do?  From my testing (on 1.11) a parser function can already go through $wgParser-&gt;mArgStack to get arguments.  I'd think removing a call to strip before internalParse would just break stuff.  I don't quite see what we want to do that's not there already, or how this patch would do that; maybe things changed significantly since it was written.
</pre>
    </div><div id="c39" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Steve Sanbeg</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-09-11 22:32:06 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c38">comment #38</a>)
<span class="quote">&gt; What does the patch do?  From my testing (on 1.11) a parser function can
&gt; already go through $wgParser-&gt;mArgStack to get arguments.  I'd think removing a
&gt; call to strip before internalParse would just break stuff.  I don't quite see
&gt; what we want to do that's not there already, or how this patch would do that;
&gt; maybe things changed significantly since it was written.
&gt; </span >

OK, I think I understand now.  So you can't currently access args from XML-style tags, since they're parsed before the call stack is set up.  This patch tries to fix that by reordering the parse in such a way that the stack will be set up, but not breaking any core functionality; although it looks like extensions would get hosed by this (per my earlier comment).</pre>
    </div><div id="c40" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jamie Hari</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-09-17 01:38:45 UTC
        </span>
      </div>



<pre class="bz_comment_text" >So the patch is a no go then?
Sounds like we need to make ALL the data available first, from all sources... then parse it all in a fully seperate, second step, no?</pre>
    </div><div id="c41" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Steve Sanbeg</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-09-19 16:20:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c40">comment #40</a>)
<span class="quote">&gt; So the patch is a no go then?
&gt; Sounds like we need to make ALL the data available first, from all sources...
&gt; then parse it all in a fully seperate, second step, no?
&gt; </span >

It looks to me like it has the potential for too many side affects.  This could be as simple as pushing the current args on to the stack where the tag could get them, then setting a flag to indicate that was done early, so the normal processing can see that and clear the flag instead of pushing again.  That should work without reordering the parsing, and should allow adding sanity checks, to keep things safe.
</pre>
    </div><div id="c42" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Roan Kattouw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-17 15:23:11 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Template parameters are not expanded in &lt;ask&gt; queries."
   href="show_bug.cgi?id=11684">Bug 11684</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c43" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">jacki buros</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-22 22:45:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Is it just me, or has this issue been resolved on Wikipedia:en? See, for example, <a href="http://en.wikipedia.org/wiki/Template:Citation/core">http://en.wikipedia.org/wiki/Template:Citation/core</a>. In fact, this kind of template use (templates within XML-style parser tags) is fairly frequent on the English-language Wikipedia site. Does anyone know why this works, and whether there is a reliable solution/patch available for REL1_11? </pre>
    </div><div id="c44" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sergey Chernyshev</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 19:31:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c43">comment #43</a>)
<span class="quote">&gt; Is it just me, or has this issue been resolved on Wikipedia:en? See, for
&gt; example, <a href="http://en.wikipedia.org/wiki/Template:Citation/core">http://en.wikipedia.org/wiki/Template:Citation/core</a>. In fact, this
&gt; kind of template use (templates within XML-style parser tags) is fairly
&gt; frequent on the English-language Wikipedia site. Does anyone know why this
&gt; works, and whether there is a reliable solution/patch available for REL1_11? 
&gt; </span >

Which tag on <a href="http://en.wikipedia.org/wiki/Template:Citation/core">http://en.wikipedia.org/wiki/Template:Citation/core</a> do you refer to?
</pre>
    </div><div id="c45" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">jacki buros</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 21:01:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c44">comment #44</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=2257#c43">comment #43</a>)
&gt; &gt; Is it just me, or has this issue been resolved on Wikipedia:en? See, for
&gt; &gt; example, <a href="http://en.wikipedia.org/wiki/Template:Citation/core">http://en.wikipedia.org/wiki/Template:Citation/core</a>. In fact, this
&gt; &gt; kind of template use (templates within XML-style parser tags) is fairly
&gt; &gt; frequent on the English-language Wikipedia site. Does anyone know why this
&gt; &gt; works, and whether there is a reliable solution/patch available for REL1_11? 
&gt; &gt; 
&gt; 
&gt; Which tag on <a href="http://en.wikipedia.org/wiki/Template:Citation/core">http://en.wikipedia.org/wiki/Template:Citation/core</a> do you refer
&gt; to?
&gt; </span >

Hi and thanks for your response. I was referring to the &lt;cite&gt; tag -- 

The relevant section of Template:Citation/core is as follows: 

 &lt;cite 
 {{
   #if:{{{Ref|}}}
   |{{#ifeq:{{{Ref|}}}|none||id=&quot;{{{Ref|}}}&quot;}}
   |id=&quot;CITEREF{{#if:{{{Surname1|}}}
      |{{{Surname1}}}{{{Surname2|}}}{{{Surname3|}}}{{{Surname4|}}}
      |{{{EditorSurname1|}}}{{{EditorSurname2|}}}{{{EditorSurname3|}}}{{{EditorSurname4|}}}
    }}{{{Year|{{{Date|}}}}}}&quot;
 }}&gt;{{
 &lt;!--============  .... {omitted for sake of readability} ...  ============--&gt;
 }}&lt;/cite&gt;

If I put this same code into a Special:ExpandTemplate page (REL1_11, Cite and ParserFunctions installed) it is rendered like:

[1,1,1,1,1,1,1,... ]

This occurs both with and without the html comment, because the templates are not expanded. Pasting the same into the Special:ExpandTemplates page on Wikipedia:en will, instead, give a valid &lt;cite ...&gt; ... &lt;/cite&gt; tag.

A little surprising is the fact that the following &lt;span&gt; tag code also within Template:Citation/core does appear to be correctly parsed on both versions:

&lt;span
&lt;!-- This is a COinS tag (<a href="http://ocoins.info">http://ocoins.info</a>), which allows automated tools to parse the citation information: --&gt;
    class=&quot;Z3988&quot;
    title=&quot;ctx_ver=Z39.88-2004&amp;rft_val_fmt={{urlencode:info:ofi/fmt:kev:mtx:}}book{{
      #if: {{{Journal|}}}
      |&amp;rft.genre=article&amp;rft.atitle={{urlencode:{{{Title|}}}}}&amp;rft.title={{urlencode:{{{Periodical|}}}}}
      |{{
         #if: {{{IncludedWorkTitle|}}}
         |&amp;rft.genre=bookitem&amp;rft.atitle={{urlencode:{{{IncludedWorkTitle|}}}}}
         |&amp;rft.genre=book
       }}&amp;rft.title={{urlencode:{{{Title|}}}}}
    }}{{
 &lt;!--============  .... {omitted for sake of readability} ...  ============--&gt;
}}&gt; 

FYI I tested REL1_11 behavior on <a href="http://www.wikidoc.org">http://www.wikidoc.org</a>; see <a href="http://www.wikidoc.org/index.php/Special:Version">http://www.wikidoc.org/index.php/Special:Version</a> for specifics.

Hope this helps ...

Jacki
</pre>
    </div><div id="c46" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sergey Chernyshev</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 21:26:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Actually, &lt;span&gt; behavior is not surprising since it's not a parser tag, but it seems that you're correct about cite, although I can't find a relevant change in SVN.

Can developers comment on this?</pre>
    </div><div id="c47" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sergey Chernyshev</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 21:28:34 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Actually, it seems that &lt;cite&gt; is not a parser tag on Wikipedia:en - see <a href="http://en.wikipedia.org/wiki/Special:Version">http://en.wikipedia.org/wiki/Special:Version</a></pre>
    </div><div id="c48" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tisza Gergő</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 21:38:28 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&lt;cite&gt; is a HTML tag, nothing more.
<a href="http://www.w3.org/TR/html401/struct/text.html#edef-CITE">http://www.w3.org/TR/html401/struct/text.html#edef-CITE</a></pre>
    </div><div id="c49" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sergey Chernyshev</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 21:52:32 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c48">comment #48</a>)
<span class="quote">&gt; &lt;cite&gt; is a HTML tag, nothing more.
&gt; <a href="http://www.w3.org/TR/html401/struct/text.html#edef-CITE">http://www.w3.org/TR/html401/struct/text.html#edef-CITE</a></span >

&lt;cite&gt; was defined as parser tag on <a href="http://www.wikidoc.org/index.php/Special:Version">http://www.wikidoc.org/index.php/Special:Version</a> along with &lt;/nocite&gt; when I checked, so I got confused, it's not anymore.</pre>
    </div><div id="c50" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">jacki buros</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 21:55:48 UTC
        </span>
      </div>



<pre class="bz_comment_text" >
Thanks, I was unaware of this and the information is tremendously helpful. We had installed the Biblio.php extension which has a &lt;cite&gt; XML-style parser tag, over-riding its HTML version.

Apologies for the distraction ...  </pre>
    </div><div id="c51" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">sanbec
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-11-21 08:58:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Is the <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - subst: don't work inside &lt;ref&gt; tags"
   href="show_bug.cgi?id=12016">bug 12016</a> related?</pre>
    </div><div id="c52" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dashiva</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-08 19:49:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c13">comment #13</a>)
<span class="quote">&gt; I would prefer to entirely separate the preprocessing stage from the HTML
&gt; generation stage. Then we should introduce a flags parameter to
&gt; Parser::setHook(), giving three possible preprocessing styles:
&gt; 
&gt; * PP_TRANSPARENT: Expand templates and template arguments inside the extension
&gt; tag, as if it wasn't there. This is the desired behaviour for many extensions.
&gt; * PP_OPAQUE: Treat text inside extension tags as opaque. This is the current
&gt; behaviour. 
&gt; * PP_EXPAND: Expand the tag during preprocessing, via the callback. This allows
&gt; extensions which are syntactically equivalent to tags, but functionally
&gt; equivalent to parser functions. One obvious application for this would be a
&gt; &lt;template&gt; tag, which provides an XML-like interface to template expansion,
&gt; thereby providing rigorous argument escaping for applications which need it.</span >

To return to this idea a bit, I looked at Parser.php in trunk.

setHook behavior hasn't changed as far as I could see, so this is still PP_OPAQUE.

There's a new (1.10) function setTransparentTagHook with no documentation and commit comment &quot;New Parser::setTransparentTagHook for parser extension and template compatibility&quot;. From what I see, it adds the custom tag to the &quot;legal HTML tags&quot; list, meaning they survive through parsing and get their contents parsed, and then does callback with the parsed attributes and contents. This seems close to PP_TRANSPARENT, but parses _all_ wikitext instead of just curly-brace constructs. Since we already have recursiveTagParse, this might not be optimal.

I didn't find anything resembling PP_EXPAND.</pre>
    </div><div id="c53" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Raimond Spekking</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-09 08:51:00 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Inputbox wont parse magicwords ({{CURRENTYEAR}}, etc)"
   href="show_bug.cgi?id=12236">Bug 12236</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c54" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Nathanael</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-29 08:13:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I found the following simple diff against revision 28900 of Parser.php was sufficient for my needs:

--- includes/Parser.php.orig    Fri Dec 28 13:31:20 2007
+++ includes/Parser.php Sat Dec 29 15:30:28 2007
&#64;&#64; -5376,6 +5376,8 &#64;&#64;
                                } else {
                                        $s = $root-&gt;textContent;
                                }
+                       } elseif ( $root-&gt;nodeName == 'attr' ) {
+                               $s = $this-&gt;parser-&gt;replaceVariables($root-&gt;nodeValue, $this, 1);
                        } elseif ( $root-&gt;nodeName == 'ext' ) {
                                # Extension tag
                                $xpath = new DOMXPath( $root-&gt;ownerDocument );
</pre>
    </div><div id="c55" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">En-Cu-Kou</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-30 11:38:42 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Nathanael's diff solved my problem as well.

I believe PP_TRANSPARENT for attributes would be a sane default, it's
unlikely to break existing extensions (as attrubutes are usually just
simple strings), it's easy do implement, document and remember, and
it doesn't rule out the possibility of adding the preprocessing style
flags later.</pre>
    </div><div id="c56" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">René Kijewski</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-06 22:11:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=4519" name="attach_4519" title="Proposed solution: Extension TagParser">attachment 4519</a> <a href="attachment.cgi?id=4519&amp;action=edit" title="Proposed solution: Extension TagParser">[details]</a></span>
Proposed solution: Extension TagParser

In the German Wikipedia we have hacked a solution to this bug.

It makes every XML tag available through a parser function {{#tag}}. E.g. {{#tag:math|e = m c^2}} will become &lt;math&gt;e = m c^2&lt;/math&gt; and {{#tag:math| {{{1}}} }} will evaluate {{{1}}} as a tex-expression. Any amount of attributes is available: {{#tag:source|lang=&quot;bash&quot;|echo &quot;test&quot;}}. The last parameter is the content, all others are attributes.

You may find further explanation on:
- <a href="http://www.mediawiki.org/wiki/Extension:TagParser">http://www.mediawiki.org/wiki/Extension:TagParser</a></pre>
    </div><div id="c57" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-09 18:02:16 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The TagParser extension has inspired the addition of an approximately identical feature to core, in <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/29482" title="revision 29482 in SVN">r29482</a>.  This fixes the bug for most practical purposes, i.e., complicated templates.  A clean fix is still desirable, so the bug should probably be left open.</pre>
    </div><div id="c58" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-09 18:05:07 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c57">comment #57</a>)
<span class="quote">&gt; The TagParser extension has inspired the addition of an approximately identical
&gt; feature to core, in <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/29482" title="revision 29482 in SVN">r29482</a>.  This fixes the bug for most practical purposes,
&gt; i.e., complicated templates.  A clean fix is still desirable, so the bug should
&gt; probably be left open.
&gt; </span >

So you're saying that parser tags that are in want of nested templates should use {{#tag:}} now? Agreed that a clean solution is available. Is it possible to let extension tags parse first perhaps, so returned wikimarkup can be parsed by MediaWiki?</pre>
    </div><div id="c59" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c59">Comment 59</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-09 18:12:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I'm not clear what you're asking.  Currently, extension tags like &lt;ref&gt; *are* parsed before curly-brace syntax.  This means that when you do &lt;myextension&gt;{{{1}}}&lt;/myextension&gt;, your extension receives the text &quot;{{{1}}}&quot;, not the text of the first parameter, because template parameters and other curly-brace syntax have not been parsed yet.  What needs to happen ideally is that extension tags and curly brace constructs should be parsed at the same time, not one after the other.  <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/29482" title="revision 29482 in SVN">r29482</a> allows this to happen, if I understand correctly, since you can use {{#tag:myextension|{{{1}}} }}, which behaves as expected.</pre>
    </div><div id="c60" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c60">Comment 60</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-09 18:16:03 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Oh, whoops, I wasn't thinking properly. Yes, parsing templates/curly braces before or at the same times as extension tags would be ideal; I see that now. At least it's possible to do stuff like put templates in things like &lt;imagemap&gt; now, yes? It's just that nesting parser functions get confusing and tedious to deal with...</pre>
    </div><div id="c61" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c61">Comment 61</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jan-Niklas Kettenburg</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-09 18:19:37 UTC
        </span>
      </div>



<pre class="bz_comment_text" >What's about &lt;gallery width={{{1}}}&gt;...&lt;/gallery&gt;? Was this fixed?</pre>
    </div><div id="c62" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c62">Comment 62</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Roan Kattouw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-09 18:20:27 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c61">comment #61</a>)
<span class="quote">&gt; What's about &lt;gallery width={{{1}}}&gt;...&lt;/gallery&gt;? Was this fixed?
&gt; </span >

No, but {{#tag:gallery|width={{{1}}}|...}} works.</pre>
    </div><div id="c63" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c63">Comment 63</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-11 02:05:45 UTC
        </span>
      </div>



<pre class="bz_comment_text" >That {{#tag:}} thing looks pretty dreadful, and I'd say we definitely don't want it. Just let tags accept parameters by default (or as option).</pre>
    </div><div id="c64" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c64">Comment 64</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Purodha Blissenbach</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-11 12:11:12 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Can we nevertheless have it for the next year or two, until a solution with a nicer look has been developed?</pre>
    </div><div id="c65" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c65">Comment 65</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleg</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-22 08:47:16 UTC
        </span>
      </div>



<pre class="bz_comment_text" >In version 1.0Beta have new tag {{#ask: }}
But how to use and where described syntax I don't know.</pre>
    </div><div id="c66" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c66">Comment 66</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Timothy J. Crowell</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-25 09:50:04 UTC
        </span>
      </div>



<pre class="bz_comment_text" >When is {{#tag:}} going to work in Wikipedia and other Wikimedia projects?

-Timothy</pre>
    </div><div id="c67" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c67">Comment 67</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Bleher</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-25 10:01:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >As soon as the new Preprocessor is activated, which should be RSN.
(You can already test it by adding &amp;timtest=newpp to an URL, e.g. <a href="http://de.wikipedia.org/wiki/Benutzer:Tbleher/Test?timtest=newpp">http://de.wikipedia.org/wiki/Benutzer:Tbleher/Test?timtest=newpp</a> )</pre>
    </div><div id="c68" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c68">Comment 68</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Bleher</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-03-26 17:31:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The new parser is active on all Wikimedia wikis (AFAIK) and MW 1.12 also contains the #tag:-feature, so I think we can consider this bug fixed.</pre>
    </div><div id="c69" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c69">Comment 69</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-03-26 23:54:00 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Reopening, the bug is not fixed as stated and a real fix is still desirable.  See previous comments:

(<a href="show_bug.cgi?id=2257#c57">comment #57</a>, me)
<span class="quote">&gt; The TagParser extension has inspired the addition of an approximately identical
&gt; feature to core, in <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/29482" title="revision 29482 in SVN">r29482</a>.  This fixes the bug for most practical purposes,
&gt; i.e., complicated templates.  A clean fix is still desirable, so the bug should
&gt; probably be left open.</span >

(<a href="show_bug.cgi?id=2257#c63">comment #63</a>, Brion)
<span class="quote">&gt; That {{#tag:}} thing looks pretty dreadful, and I'd say we definitely don't
&gt; want it. Just let tags accept parameters by default (or as option).</span ></pre>
    </div><div id="c70" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c70">Comment 70</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Roan Kattouw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-06-03 10:03:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Inputbox extension cannot be used in mediawiki parametrized templates"
   href="show_bug.cgi?id=14389">Bug 14389</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c71" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c71">Comment 71</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Lilian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-06-03 10:36:14 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Hi,

I am trying to do this (in a template) :
&lt;inputbox&gt;
 type=create
 default={{{1}}}
 break=no
 buttonlabel=Create
&lt;/inputbox&gt;

But the default value is {{{1}}} and not the value of my first parameter...

Instead, is this supposed to work :
{{#tag:inputbox|default={{{1}}}|type=create|buttonlabel=Create3}}

The result is : &quot;You have not specified the type of input box to create.&quot;

If y try this :
{{#tag:inputbox|type=create|default={{{1}}}|buttonlabel=Create3}}

it seems that parameters others than &quot;type&quot; are ignored.

Is there a solution ?

Thanks</pre>
    </div><div id="c72" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c72">Comment 72</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tisza Gergő</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-06-03 13:44:07 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c71">comment #71</a>)

This should work:

{{#tag:inputbox|
 type=create
 default={{{1}}}
 break=no
 buttonlabel=Create
}}
</pre>
    </div><div id="c73" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c73">Comment 73</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Lilian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-06-03 13:48:55 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c72">comment #72</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=2257#c71">comment #71</a>)
&gt; 
&gt; This should work:
&gt; 
&gt; {{#tag:inputbox|
&gt;  type=create
&gt;  default={{{1}}}
&gt;  break=no
&gt;  buttonlabel=Create
&gt; }}
&gt; </span >

Yes ! Thanks a lot :)</pre>
    </div><div id="c74" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c74">Comment 74</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-08-25 19:37:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - extensions are parsed before template variable substitution"
   href="show_bug.cgi?id=15307">Bug 15307</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c75" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c75">Comment 75</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Roan Kattouw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-17 13:37:33 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - subst: doesn't work within &lt;ref&gt;...&lt;/ref&gt; tags"
   href="show_bug.cgi?id=16010">Bug 16010</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c76" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c76">Comment 76</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">a.h.m.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-28 10:26:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >What can I do to get ImageMap tags on version 1.13.3 to work? I need them to accept brackets....</pre>
    </div><div id="c77" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c77">Comment 77</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Raimond Spekking</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-29 08:42:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Extension should accept variables as image and link names"
   href="show_bug.cgi?id=16825">Bug 16825</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c78" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c78">Comment 78</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Greg Ubben</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-01-25 23:19:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Use case:  {{#tag:nowiki|{{{url}}}}}
This tag is the only way I've found to receive a template parameter and do a &lt;nowiki&gt; on its expanded value. Such as preventing auto-linking of a URL parameter. Please ensure this ability doesn't go away when this solution is improved.</pre>
    </div><div id="c79" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c79">Comment 79</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Roan Kattouw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-09 13:41:27 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - subst:PAGENAME in reference-URL doesn't work"
   href="show_bug.cgi?id=18417">Bug 18417</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c80" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c80">Comment 80</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">nephele
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-24 17:03:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=6056" name="attach_6056" title="Allow PPFrames to be used to truly make template variables available">attachment 6056</a> <a href="attachment.cgi?id=6056&amp;action=edit" title="Allow PPFrames to be used to truly make template variables available">[details]</a></span>
Allow PPFrames to be used to truly make template variables available

With the introduction of Preprocessor frames to the parsing process, a completely different approach to fixing this issue becomes available -- one which truly fixes the problem, instead of simply bypassing the problem through parser hooks (which do not provide identical functionality to extension tags).

The attached patch works by:
1) Passing the current $frame to the extension tag-calling hook
   ($frame is also passed to the getVariableValue hook, too, in case extension writers have a need for $frame. there. too)
   $frame is added as an extra parameter, and therefore this change is transparent to existing extensions (which simply won't realize that there's an extra parameter available).
2) Passing the $frame back to the parser through recursiveTagParse
   Again, $frame is an extra, optional parameter, so there is no effect of this patch on any existing uses of recursiveTagParse; it simply makes additional functionality available to anyone who wishes to use it.
3) Assorted other code tweaks to pass the $frame variable as an optional argument to all necessary parser functions.

In terms of usage, it means that all existing tag extensions will continue to work they way they always have.  However, tag extensions that wish to expand template variables now have the option to do so, simply by
1) changing the argument list of the extension's implementation function, e.g. change:
     function efSampleRender( $input, $args, $parser )
  to:
     function efSampleRender( $input, $args, $parser, $frame )
2) add $frame to any recursiveTagParse calls, e.g., change:
      $output = $parser-&gt;recursiveTagParse( $text );
  to:
      $output = $parser-&gt;recursiveTagParse( $text, $frame );</pre>
    </div><div id="c81" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c81">Comment 81</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">nephele
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-26 22:02:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Following up on my previous post, I've run parserTests on the submitted patch (id=6056) and confirmed that the patch passes the parser tests (or at least, it does as well as the current HEAD (<a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/49912" title="revision 49912 in SVN">r49912</a>) -- HEAD currently fails 14 tests; after adding this patch, the code still fails those same 14 tests).  </pre>
    </div><div id="c82" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c82">Comment 82</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Chad H.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-07-15 19:23:46 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Allow use of templates and variables in &lt;html&gt; tags"
   href="show_bug.cgi?id=591">Bug 591</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c83" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c83">Comment 83</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Chad H.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-08-25 22:51:28 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Using ref inside formatnums causes parser error"
   href="show_bug.cgi?id=14792">Bug 14792</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c84" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c84">Comment 84</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">nephele
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-08-30 06:40:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Patched in <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/55682" title="revision 55682 in SVN">r55682</a> (see <a href="show_bug.cgi?id=2257#c80">comment #80</a> for example of how to modify an extension).</pre>
    </div><div id="c85" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c85">Comment 85</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dashiva</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-08-30 06:45:53 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=2257#c0">comment #0</a>)
<span class="quote">&gt; Possible solutions:
&gt; * Substitute parameters in parser hook input
&gt; * Give extensions access to the stack containing the parameters
&gt; 
&gt; I imagine the second would be a huge mess, so I would greatly prefer the first alternative.</span >

Well, here we are, four years later. Turns out I was dead wrong. :)

Much thanks for finally fixing this one.</pre>
    </div><div id="c86" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c86">Comment 86</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Raimond Spekking</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-05-17 20:19:34 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Imagemap cannot accept dynamic links."
   href="show_bug.cgi?id=23572">Bug 23572</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c87" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c87">Comment 87</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Adam Cuerden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-05-17 20:24:18 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Sorry, when will Wikimedia Commons be updated to the fixed code?</pre>
    </div><div id="c88" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c88">Comment 88</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Roan Kattouw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-08-13 09:33:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - rvexpandtemplates=true does not expand templates in ref tags"
   href="show_bug.cgi?id=24774">Bug 24774</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c89" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c89">Comment 89</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Roan Kattouw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-09-08 18:41:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - rvexpandtemplates=true does not expand templates in ref tags"
   href="show_bug.cgi?id=24774">Bug 24774</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c90" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2257#c90">Comment 90</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">The Evil IP address</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-09-06 15:11:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Template syntax isn't parsed within imagemaps"
   href="show_bug.cgi?id=30782">Bug 30782</a> has been marked as a duplicate of this bug. ***</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>

    <hr><div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=2257&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=2257">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=2257">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=2257">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>        


<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>

<br>
<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="head" class="noprint">
			<!-- /search -->
			<div id="p-search">
				<h5><label for="searchInput">Search</label></h5>
				<form id="searchform" action="buglist.cgi" method="get"
				 onsubmit="if (this.quicksearch.value == '')
				 { alert('Please enter one or more search terms first.');
				 return false; } return true;">
					<input type='hidden' name="title" value="Special:Search"/>
					<div id="simpleSearch">
						<input id="searchInput" name="quicksearch" type="text" title="Search Bugzilla [alt-f]" accesskey="f" value="" />
						<button id="searchButton" type='submit' name='button' title="Search Bugzilla for this text">&nbsp;</button>
					</div>
				</form>
			</div>
			<!-- /search -->
			<!-- personal -->
			<div id="p-personal" class="">
				<h5>Personal tools</h5>
				<ul >
							<li id="new_account_container">
								<a href="createaccount.cgi">New&nbsp;Account</a>
							</li>
						<li id="mini_login_container">
  <span class="separator">| </span>
  <a id="login_link" href="show_bug.cgi?id=2257&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('')">Log In</a>

  
  <form action="show_bug.cgi?id=2257" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login"
        onsubmit="return check_mini_login_fields( '' );"
  >
    <input id="Bugzilla_login" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('')"
    >
    <input class="bz_password" 
           id="Bugzilla_password" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy" value="password"
           title="Password"
           onfocus="mini_login_on_focus('')"
    >
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "email address",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('')">[x]</a>
  </form>
</li>
<li id="forgot_container">
  <span class="separator">| </span>
  <a id="forgot_link" href="show_bug.cgi?id=2257&amp;GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form"
        class="mini_forgot bz_default_hidden">
    <label for="login">Login:</label>
    <input type="text" name="loginname" size="20" id="login">
    <input id="forgot_button" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token" name="token" value="1419360217-ZJQLMqBylv6iYGMqFWT8wWoRlscX-RBXuONV9py9QO0">
    <a href="#" onclick="return hide_forgot_form('')">[x]</a>
  </form>
</li>

				</ul>
			</div>
			<!-- /personal -->
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="panel" class="noprint">
				<!-- logo -->
				<div id="p-logo"><a style="background-image: url(skins/contrib/Wikimedia/images/bugzilla-logo.png);" href="./"  title="Visit the main page"></a></div>
				<!-- /logo -->
				<!-- navigation -->
				<div class="portal">
					<h5>Navigation</h5>
					<div class="body">
						<ul><li><a href="query.cgi?format=specific">Search bugs</a></li>
			<li><a href="query.cgi?format=advanced">Advanced search</a></li>
			<li><a href="describecomponents.cgi">Browse projects</a></li>
			<li><a href="enter_bug.cgi">Enter a new bug</a></li>
                        <li>
                                <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
                        </li>	
						</ul>
					</div>
				</div>
				<!-- /navigation -->
				<!-- interaction -->
				<!-- /interaction -->
				<!-- toolbox -->
				<div class="portal">
					<h5>Links</h5>
					<div class="body">
						<ul><li><a href="report.cgi">Reports</a></li>
			<li><a href="weekly-bug-summary.cgi?tops=10&days=7">Weekly Summary</a></li>
				<li>
						<a href="request.cgi">Requests</a>
				</li>
						</ul>
					</div>
				</div>
				<!-- /toolbox -->
			</div>
		<!-- /panel -->		

		<!-- footer -->
		<div id="footer" >
			<ul id="footer-info">
				<li>Bugzilla version 4.4.5</li>
			</ul>

			<ul id="footer-places">
				<li><a href="https://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Bug_management/Bugzilla_etiquette" title="Bug management/Bugzilla etiquette">Bugzilla etiquette</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:About" title="Project:About">About MediaWiki.org</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:General_disclaimer" title="Project:General disclaimer">Disclaimers</a></li>
			</ul>
			<ul id="footer-icons" class="noprint">
				<li id="footer-icon-poweredby"><a href="http://www.bugzilla.org/"><img src="skins/contrib/Wikimedia/images/bugzilla-badge.png" height="31" width="88" alt="Powered by Bugzilla" /></a></li>
			</ul>
			<div style="clear:both"></div>
		<div class="outro"></div>
		</div>
		<!-- /footer -->
	</body>
</html>