<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 4582 &ndash; Provide preference-based autoformatting for unlinked dates</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="https://old-bugzilla.wikimedia.org/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=4582&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=4582">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=4582">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=4582">



    
    <link href="skins/standard/global.css?1389015166"
          rel="alternate stylesheet" 
          title="Classic"><link href="js/yui/assets/skins/sam/autocomplete.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="js/yui/assets/skins/sam/calendar.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/global.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/show_bug.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="extensions/Voting/web/style.css?1389015166" rel="stylesheet"
        type="text/css" ><!--[if lte IE 7]>
      


  <link href="skins/standard/IE-fixes.css?1389015166" rel="stylesheet"
        type="text/css" >
<![endif]-->

    <link href="skins/contrib/Wikimedia/global.css?1402013050" rel="stylesheet"
        type="text/css" title="Wikimedia"><link href="skins/contrib/Wikimedia/show_bug.css?1402441020" rel="stylesheet"
        type="text/css" title="Wikimedia">

      <link rel="stylesheet" href="skins/contrib/Wikimedia/vector.css?1403109885" media="screen"
            title="Wikimedia" />


    

    

    
<script type="text/javascript" src="js/yui/yahoo-dom-event/yahoo-dom-event.js?1389015166"></script><script type="text/javascript" src="js/yui/cookie/cookie-min.js?1389015166"></script><script type="text/javascript" src="js/yui/datasource/datasource-min.js?1389015166"></script><script type="text/javascript" src="js/yui/connection/connection-min.js?1389015166"></script><script type="text/javascript" src="js/yui/json/json-min.js?1389015166"></script><script type="text/javascript" src="js/yui/autocomplete/autocomplete-min.js?1389015166"></script><script type="text/javascript" src="js/yui/calendar/calendar-min.js?1389015166"></script><script type="text/javascript" src="js/global.js?1389015166"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 15
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 4582 – Provide preference-based autoformatting for unlinked dates",  
                             "show_bug.cgi?id=4582" );
        document.title = "Bug 4582 – Provide preference-based autoformatting for unlinked dates";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 4582 – Provide preference-based autoformatting for unlinked dates", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script type="text/javascript" src="js/util.js?1389015166"></script><script type="text/javascript" src="js/field.js?1389015166"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico" >
  </head>



  <body onload=""
        class="old-bugzilla-wikimedia-org bz_bug bz_status_RESOLVED bz_product_MediaWiki bz_component_Parser bz_bug_4582 yui-skin-sam">



<!-- If custom Wikimedia skin -->
   <div id="page-base" class="noprint"></div>
                <div id="head-base" class="noprint"></div>
                <!-- content -->
                <div id="content-container" >
                        <a id="top"></a>
                        <!-- bodyContent -->
                        <div id="bodyContent">
      <p class="header_addl_info">Last modified: 2014-11-04 22:52:49 UTC</p>

 <!-- If custom Wikimedia skin -->
<h1>Wikimedia Bugzilla is closed!</h1><div id="message" style="text-align: center; color: black">Wikimedia has <a href="https://www.mediawiki.org/wiki/Phabricator/versus_Bugzilla">migrated from Bugzilla to Phabricator</a>. Bug reports should be created and updated in <a href="https://phabricator.wikimedia.org">Wikimedia Phabricator</a> instead. Please <a href="https://www.mediawiki.org/wiki/Phabricator/Help#Creating_your_account">create an account in Phabricator and add your Bugzilla email address</a> to it.<br>Wikimedia Bugzilla is read-only. If you try to edit or create any bug report in Bugzilla you will be shown an intentional error message.<br>In order to access the Phabricator task corresponding to a Bugzilla report, just remove "static-" from its URL.<br>You could still run searches in Bugzilla or access your <a href="https://old-bugzilla.wikimedia.org/page.cgi?id=voting%2Fuser.html">list of votes</a> but bug reports will obviously not be up-to-date in Bugzilla.</div>

<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>
<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2014-11-04 22:52:49">
  <input type="hidden" name="longdesclength" value="291">
  <input type="hidden" name="id" value="4582">
  <input type="hidden" name="token" value="1419363809-vr35_zS2X_yNCvhZSkvhUxQiOwE9jACPFO4dOsHpA5M">
<div class="bz_alias_short_desc_container edit_form">
     <a href="show_bug.cgi?id=4582"><b>Bug&nbsp;4582</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">Provide preference-based autoformatting for unlinked dates</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>
</label>
</th>
          <td>Provide preference-based autoformatting for unlinked dates
          </td>
        </tr>
      </table>
    </div>
  </div>
  <script type="text/javascript">
    hideAliasAndSummary('Provide preference-based autoformatting for unlinked dates', '');
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >MediaWiki</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr>
    
    <td class="field_label">
      <label for="component">
        <a href="describecomponents.cgi?product=MediaWiki">
        Component:</a>
      </label>
    </td>
    
    <td>Parser
    
    (<a href="buglist.cgi?component=Parser&product=MediaWiki&resolution=---"
      target="new_window">Other open bugs</a>)
    
    </td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">All
       All
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>Normal
       enhancement<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=4582">21 
            votes</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=4582#vote_4582">vote</a>)
  </span>
      </td>
    </tr>

      <tr>
        <th class="field_label">
          <label for="target_milestone">
            <a href="page.cgi?id=fields.html#target_milestone">
            Target&nbsp;Milestone</a></label>:
        </th><td>---
  </td>
      </tr>            
          
          <tr>
      <th class="field_label">
        <a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">Andrew Garrett</span>
</span>
      </td>
    </tr>

    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'wikibugs-l\x40lists.wikimedia.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
          <a href="http://en.wikipedia.org/wiki/Wikipedia_talk:Date_debate"><span title="http://en.wikipedia.org/wiki/Wikipedia_talk:Date_debate">http://en.wikipedia.org/wiki/Wikipedi...
        </span></a>
      </span>
    </td>
  </tr>
  
    <tr><th class="field_label "
    id="field_label_status_whiteboard">

    <label for="status_whiteboard" accesskey="w">

  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>
</label>
</th><td colspan="2">  
  </td>
    </tr>
  
    <tr>
      <th class="field_label">
        <label for="keywords" accesskey="k">
          <a href="describekeywords.cgi"><u>K</u>eywords</a></label>:
      </th>
      <td class="field_value" colspan="2">
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label for="duplicates">Duplicates</label>:
    </th>
    <td class="field_value" colspan="2">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - $wgUseDynamicDates should not require unnecessary [[]]to work"
   href="show_bug.cgi?id=4817">4817</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - The &quot;merged&quot; date-link/autoformatting bug"
   href="show_bug.cgi?id=8267">8267</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Dynamic dates should be distinct from linked dates"
   href="show_bug.cgi?id=8404">8404</a> 
      </span>
      (<a href="buglist.cgi?bug_id=4817,8267,8404">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr>
    <th>&nbsp;</th>
  
    <td colspan="2" align="left" id="show_dependency_tree_or_graph">
      Show dependency <a href="showdependencytree.cgi?id=4582&amp;hide_resolved=1">tree</a>
  
        /&nbsp;<a href="showdependencygraph.cgi?id=4582">graph</a>
    </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2006-01-12 21:20 UTC by <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2014-11-04 22:52 UTC 
      (<a href="show_activity.cgi?id=4582">History</a>)
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>30 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="agarrett">agarrett</option>
                <option value="alexfusco5">alexfusco5</option>
                <option value="alexp">alexp</option>
                <option value="ashtongj">ashtongj</option>
                <option value="billclark">billclark</option>
                <option value="bjorsch">bjorsch</option>
                <option value="brion">brion</option>
                <option value="catlow">catlow</option>
                <option value="ckatz.wiki">ckatz.wiki</option>
                <option value="cyp">cyp</option>
                <option value="gangleri">gangleri</option>
                <option value="greg">greg</option>
                <option value="jonathan.l.schilling">jonathan.l.schilling</option>
                <option value="locke.cole.wiki">locke.cole.wiki</option>
                <option value="MacGyverMagic">MacGyverMagic</option>
                <option value="masem01">masem01</option>
                <option value="MediaWiki">MediaWiki</option>
                <option value="mrzmanwiki">mrzmanwiki</option>
                <option value="mxn">mxn</option>
                <option value="pandiculation">pandiculation</option>
                <option value="rich">rich</option>
                <option value="richard">richard</option>
                <option value="rkaldari">rkaldari</option>
                <option value="s.r.e.turner">s.r.e.turner</option>
                <option value="Siegel">Siegel</option>
                <option value="smccandlish">smccandlish</option>
                <option value="ui2t5v002">ui2t5v002</option>
                <option value="verdy_p">verdy_p</option>
                <option value="wclark">wclark</option>
                <option value="William.Allen.Simpson">William.Allen.Simpson</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         <tr><th class="field_label "
    id="field_label_cf_browser">


  <a 
      title="Please set this if the described problem seems to happen only in a specific web browser."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_browser"
  >Web browser:</a>

</th>
  <td class="field_value "
      id="field_container_cf_browser"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_platform">


  <a 
      title="The Mobile Platform the described problem was experienced on."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_platform"
  >Mobile Platform:</a>

</th>
  <td class="field_value "
      id="field_container_cf_platform"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_hugglebeta">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_hugglebeta"
  >Assignee Huggle Beta Tester:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_hugglebeta"  colspan="2">---</td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_patch">
        <td valign="top">
            <a href="attachment.cgi?id=5281"
               title="View the content of the attachment">
          <b>diff -u for includes/DateFormatter.php</b></a>

          <span class="bz_attach_extra_info">
              (4.07 KB,
                patch)

            <br>
            <a href="#attach_5281"
               title="Go to the comment associated with the attachment">2008-09-03 19:25 UTC</a>,

            <span class="vcard">billclark
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=5281&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_patch">
        <td valign="top">
            <a href="attachment.cgi?id=5292"
               title="View the content of the attachment">
          <b>Simpler patch, just eliminates links</b></a>

          <span class="bz_attach_extra_info">
              (988 bytes,
                patch)

            <br>
            <a href="#attach_5292"
               title="Go to the comment associated with the attachment">2008-09-05 18:54 UTC</a>,

            <span class="vcard">billclark
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=5292&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain bz_patch">
        <td valign="top">
            <a href="attachment.cgi?id=5311"
               title="View the content of the attachment">
          <b>Eliminates links, leaves date format untouched</b></a>

          <span class="bz_attach_extra_info">
              (2.13 KB,
                patch)

            <br>
            <a href="#attach_5311"
               title="Go to the comment associated with the attachment">2008-09-10 23:15 UTC</a>,

            <span class="vcard">billclark
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=5311&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain bz_patch">
        <td valign="top">
            <a href="attachment.cgi?id=5502"
               title="View the content of the attachment">
          <b>unlinks dates, preserves markup, uses Accept-Language for defaults (or DMY)</b></a>

          <span class="bz_attach_extra_info">
              (1.84 KB,
                patch)

            <br>
            <a href="#attach_5502"
               title="Go to the comment associated with the attachment">2008-11-04 19:21 UTC</a>,

            <span class="vcard">billclark
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=5502&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="2">
        <span class="bz_attach_view_hide">
        </span>
        <a href="attachment.cgi?bugid=4582&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>

  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js?1389015166" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>




<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-12 21:20:09 UTC
        </span>
      </div>



<pre class="bz_comment_text" >As recently discussed on the EN village pump (proposals), please create syntax for 
marking dates to be rendered subject to date preferences that does not overload the 
[[]] link syntax, adn does not create a link. This could help avoid the perrenial 
debate on overlinking of dates
User:DESiegel</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-12 22:45:10 UTC
        </span>
      </div>



<pre class="bz_comment_text" >IIRC this was done in part to encourage linking of dates so they can be used as useful 
metadata.</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ævar Arnfjörð Bjarmason</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-13 22:01:48 UTC
        </span>
      </div>



<pre class="bz_comment_text" >REOPENING from RESOLVED INVALID</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ævar Arnfjörð Bjarmason</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-13 22:02:10 UTC
        </span>
      </div>



<pre class="bz_comment_text" >RESOLVED WONTFIX</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-14 17:52:41 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Please note that the Current English Wikipedia Manual of Style 
specifically reccomends NOT linking dates UNLESS a link is 
needed to activate date preferense, and that some editors are 
removing such links en-mass as overlinking. There is consierable 
belife that date-links are not, in general, useful meta-daa, and 
that they are harmful overlinks. Please reconsider.</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-01 02:31:43 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - $wgUseDynamicDates should not require unnecessary [[]]to work"
   href="show_bug.cgi?id=4817">Bug 4817</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-02 17:08:11 UTC
        </span>
      </div>



<pre class="bz_comment_text" >See the fourth section of &lt;<a href="http://en.wikipedia.org/w/index.php">http://en.wikipedia.org/w/index.php</a>?
title=Wikipedia:Village_pump_%28proposals%29&amp;oldid=37860218&gt; (a perma-link) for 
on-wiki discussion.</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jason Spiro</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-02 18:01:22 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I resurrected the discussion at:

<a href="http://en.wikipedia.org/wiki/Wikipedia_talk:Date_debate">http://en.wikipedia.org/wiki/Wikipedia_talk:Date_debate</a></pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-02 20:09:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >and see <a href="http://en.wikipedia.org/wiki/Wikipedia:Date_debate">http://en.wikipedia.org/wiki/Wikipedia:Date_debate</a></pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Pcb21</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-03 10:30:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Please could the developers reconsider reopening this bug id. 

I am not sure that Brion's recollection is correct on this matter. The [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Day%0AMonth">Day
Month</a>]] and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Year">Year</a>]] links are not particularly helpful metadata in themselves.
(Having &gt;100,000 incoming links to [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2000">2000</a>]] for example is not that helpful) -
we are linking merely to activate preferences rather than they are useful links
(sometimes they are, sometimes they are not - depends on the article in question). 

The coupling is not natural and we should not, if possible, enforce the
editorial standards by technical means. If we could change MediaWiki so that
preferences always work, then editorial decisions about when to link could be
left to the editors rather than being &quot;forced into linking&quot; by the software.

Hope that makes sense,

Pete (en:User:Pcb21) </pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-03 11:32:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >[a] Agree that linking tons of dates in a page is irritating and
counterproductive. [b] Agree that formatting dates according to preferences is
useful; helpful, even.

Reopening as requested.</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">William Allen Simpson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-25 17:50:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The problem is that some (fairly few outspoken) folks have actually stated that
linking dates are almost never &quot;relevant&quot; (for example, de-linking &quot;1947&quot; in the
article &quot;Israel&quot;).  If the date isn't relevant, then it shouldn't be in the
article!  

Linking (many or most) dates is not irritating to me.

I propose the feature continue to work, and that (many or most) dates continue
to be linked.  The software itself follows the practice that any date relevant
enough to be specified is relevant to the article.  

I'm much more interested in an era preference, and would prefer that developers
spend limited time on that enhancement.</pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-25 20:56:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >An idea that came up within recent discussions was that dates could continue to
be linked, but that a stack would be maintained as links were processed and
formatted for display. Dates would continue to be shown according to
preferences, but duplicate links within the same section wouldn't be rendered.
This might be another idea to consider.</pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rich Farmbrough</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-03-16 13:02:44 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Linking dates does three good things:
* Allows formatted preferences to work
* Creates links to articles about the dates
* Provides information that an entity is a date

It also does several bad things
* Makes pages very busy
* Provides unneeded links
* Makes confusion over the second parenthetical comma of the dd month, yyyy, style
* Encourages linking of bare years, months and days of the week.
* Creates conflict.....

The options are (ISTM)
* Status quo.  The community can and will deal with these problems (except the
parenthetical comma).
* Auto preference.  Fraught with difficulty, but probably do-able.  (E.G, the
Long March 2 rocket... ).
* Preference markup. &lt;&lt;13 May 1955&gt;&gt;.
* * Version/phase a. simply does what the existing prefernce linking does.
* * b. Deal with ranges. 
* * c. Open ended preference system dealing with BC/BCE, English varieties, 12
hour vs 24 hour clock, units, etc..

</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-03-20 01:13:32 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Creating syntax for marking dates to be rendered subject to date preferences and that at the same time does not create a link would go a long way towards resolving a lot of 
unnecessary conflict on WP.</pre>
    </div><div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Phil Boswell</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-03-22 16:00:11 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It would be necessary to ensure that dates formatted with the new syntax could 
*also* be linked when appropriate.</pre>
    </div><div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">SPUI</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-03-25 09:58:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&quot;The 2000 March of a Million Men was attended by only two people.&quot; How would it
cope with that?</pre>
    </div><div id="c17" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-09 02:12:27 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&lt;nowiki&gt;.  Inelegant?  Possibly.  But less so, probably, than requiring every
date to be linked.  Regardless, I'm not yet convinced that this is worth much
developer time in any case.</pre>
    </div><div id="c18" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Steve Bennett</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-15 12:32:41 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Suggestion: continue to make linked dates format according to preferences, and
allow a non-linking format for just reformatting. (I confess I don't understand
the reformatting that currently goes on...presumably 19 January can redisplay as
&quot;January 19th&quot; or &quot;19/1&quot; for some people?)

Something like:

[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=19%20January">19 January</a>]] [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2000">2000</a>]] -&gt; Behaves as current
[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A19%20January">:19 January</a>]] [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A2000">:2000</a>]] -&gt; no links shown, only reformatting.

I propose the additional colon somewhat in the vein of [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Aimage">:image</a>]] and
[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Acategory">:category</a>]]...but better could surely be found. Hell, a space: [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%2019%20January"> 19 January</a>]]
(it couldn't link, but it could reformat).</pre>
    </div><div id="c19" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gennaro Prota</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-14 00:20:33 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I fully agree that date formatting and hyperlinking are completely distinct
concept; so one effect should not be obtained through the other.

I propose however to &quot;reverse the default&quot;: all dates should be reformatted by
the software, *unless* a special tag is used to prevent that (wanting user
preferences to work is the most common case; and this way they will work with no
clutter of the article source text). Of course usage of the disabling special
tag should be for good reasons. And well, that special tag(s) happens to already
exist: &lt;nowiki&gt;&lt;/nowiki&gt;, though a shorter alternative, I guess, would be
welcome syntactic sugar to most Wikipedians.
</pre>
    </div><div id="c20" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-14 23:38:38 UTC
        </span>
      </div>



<pre class="bz_comment_text" >One probem with this is that dates in direct quotations should not be 
reformated. Thus abnythign inside a vlockquote tag should also be exempt. 
Possibly sh should anythign inside &quot;double quotes &quot;.</pre>
    </div><div id="c21" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-16 02:33:10 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c19">comment #19</a>)
<span class="quote">&gt; I propose however to &quot;reverse the default&quot;: all dates should be reformatted by
&gt; the software, *unless* a special tag is used to prevent that (wanting user
&gt; preferences to work is the most common case; and this way they will work with no
&gt; clutter of the article source text).</span >

I would like this idea, personally, except that which formatting to display
would be a nightmare.  If we could do a city-by-IP lookup, that would be
satisfactory except for the nontrivial server lag that would be incurred if the
page had to have differently-rendered versions cached for different anons, and
look up which of the world's 4,294,967,296 valid IP addresses it is in some kind
of megabytes-long table.

(In reply to <a href="show_bug.cgi?id=4582#c20">comment #20</a>)
<span class="quote">&gt; One probem with this is that dates in direct quotations should not be 
&gt; reformated. Thus abnythign inside a vlockquote tag should also be exempt. 
&gt; Possibly sh should anythign inside &quot;double quotes &quot;.</span >

Would cause way too much difficulty if a mark is omitted, or if the mark is
being used to refer to itself ([[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=w%3AQuotation%20mark">w:Quotation mark</a>]], anyone?).  And it would be
totally worthless for any wiki that didn't use that quotation mechanism (e.g.,
used single quotes, or some other character entirely, or no character delimiter
at all).  Basically, it's a Very Bad Thing to have ordinary characters act
mainly as ordinary characters but secretly also as function characters.  Similar
arguments apply to &lt;blockquote&gt;, which most people aren't going to expect to
have the effect you mention even if it *is* markup.

I think &lt;nowiki&gt; is probably best.</pre>
    </div><div id="c22" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mats Gustafsson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-17 19:17:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I am happy with either the solution proposed by the original posting (and elaborated by <a href="show_bug.cgi?id=4582#c18">comment #18</a>) or the cleaner inverted solution of <a href="show_bug.cgi?id=4582#c19">comment #19</a>. Either 
approach is a major step forward from the present annoying convention of routine date-linking, which detracts from the readability of Wikipedia articles. Remember 
that the vast majority of Wikipedia users only read and never edit, so the appearance of the actual article is much more important than the syntax of the source text.

Simetrical (<a href="show_bug.cgi?id=4582#c21">comment #21</a>), I think you misunderstood <a href="show_bug.cgi?id=4582#c19">comment #19</a>. Conversion would of course still be based on user preferences (if any), not on the IP number.
- ~~~~</pre>
    </div><div id="c23" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gennaro Prota</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-18 14:23:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; ------- Additional Comments From Mats Gustafsson  2006-05-17 19:17 UTC</span >
&gt;
<span class="quote">&gt; I am happy with either the solution proposed by the original posting (and
&gt; elaborated by <a href="show_bug.cgi?id=4582#c18">comment #18</a>) or the cleaner inverted solution of <a href="show_bug.cgi?id=4582#c19">comment #19</a>.</span >

Thanks. About the &lt;nowiki&gt; tag, though, I changed my mind: I think an alternative
syntax would be much better, for two reasons. Firstly, &quot;nowiki&quot; means &quot;disable
wiki markup interpretation&quot;, which is something logically different from &quot;ignore
locales&quot;. Secondly, there could be (admittedly rare) cases where one doesn't want to
reformat the date but still link it or part thereof; in this case &lt;nowiki&gt;16
January [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2006">2006</a>]]&lt;/nowiki&gt; would not have the desidered effect. So, if it
doesn't cause PHP implementation problems (I know pretty much nothing about it)
I would propose one of these:

a) \16 January [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2006">2006</a>]]     (one leading backslash)
b) \16 January [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2006">2006</a>]]\    (maybe easier to parse)


<span class="quote">&gt; [...]
&gt; 
&gt; Simetrical (<a href="show_bug.cgi?id=4582#c21">comment #21</a>), I think you misunderstood <a href="show_bug.cgi?id=4582#c19">comment #19</a>. Conversion
&gt; would of course still be based on user preferences (if any), not on the IP
&gt; number.
&gt; - ~~~~</span >

Yes :-) One has to log in for this to work (which isn't different from now).
</pre>
    </div><div id="c24" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-18 20:28:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >In reply (In reply to <a href="show_bug.cgi?id=4582#c21">comment #21</a>)
In reply to <a href="show_bug.cgi?id=4582#c20">comment #20</a>)&gt; One probem with this is that dates in direct quotations 
should not be &gt; reformated. Thus anything inside a blockquote tag should also be 
exempt. &gt; Possibly so should anything inside &quot;double quotes &quot;.
<span class="quote">&gt;Would cause way too much difficulty if a mark is omitted, or if the mark isbeing used </span >
to refer to itself ([[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=w%3AQuotation%20mark">w:Quotation mark</a>]], anyone?). And it would betotally worthless 
for any wiki that didn't use that quotation mechanism (e.g.,used single quotes, or 
some other character entirely, or no character delimiterat all). Basically, it's a 
Very Bad Thing to have ordinary characters actmainly as ordinary characters but 
secretly also as function characters. Similararguments apply to &lt;blockquote&gt;, which 
most people aren't going to expect tohave the effect you mention even if it *is* 
markup.I think &lt;nowiki&gt; is probably best.

The problem is that there are lots and lots of EXISTING dates in quotes. a mechanism 
whioch would reformat them automatically and silently, and which would require that 
every such page be edited in order to preserve the integrity of quoted materiel is IMO 
simply unaceptable. If your arguments are sound 9and they do have considerable force) 
it merely shows that the &quot;reverse&quot; method of formattign all dates except thsoe marked 
not to be formatted has an unaceptable result on established wikis.

</pre>
    </div><div id="c25" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gennaro Prota</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-19 12:00:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c24">comment #24</a>)

Come on, are you saying there are implementation problems with this? Dates in
quotes or whatever quotation mechanism specified at the configuration level
would not undergo localisation. Borderline cases would be fixed by those who
edit the article, as soon as they will notice the problem. If you want to
nitpick there's the issue that some editors use quotes in place of double
primes, such as in

 5' 6&quot; (5 feets, 6 inches)

and similarly for angle amplitudes. If this is the stance towards the problem I
think we'll never fix it.
</pre>
    </div><div id="c26" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-19 21:26:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c25">comment #25</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=4582#c24">comment #24</a>)Come on, are you saying there are implementation problems </span >
with this? Dates in quotes or whatever quotation mechanism specified at the 
configuration levelwould not undergo localisation. Borderline cases would be fixed by 
those whoedit the article, as soon as they will notice the problem. If you want 
tonitpick there's the issue that some editors use quotes in place of doubleprimes, 
such as in5' 6&quot; (5 feets, 6 inches)and similarly for angle amplitudes. If this is the 
stance towards the problem Ithink we'll never fix it.


What i am mostly saying is that I think an explicit syntax to mandate localization is 
better than an assumption that all dates will be localized unless there is markup to 
avoid localization (as suggested in #19 above). I am further saying that IF authomated 
localization of all dates not marked in some way to dispaly as writen is used, then 
mechanisms which usually indicte explicit quotes (such as paired double-quotes, or the 
blockquote tag) should be considered as a form of markup prventign localization. when 
i made these points above, <a href="show_bug.cgi?id=4582#c20">comment #20</a> suggested that the sue of any such quotign 
mechanism to disable localization is a bad idea, nd i was reponding to that.

In short my views are:
1) a mechanism to specify localization of dates other than the overloading of linkign 
is highly desireable;
2) Dates in explicitly quoted content should never be localized (even if they are 
linked);
3) If new syntax to specify localixation of dates is created (such as &lt;date&gt;Date 
String&lt;/date&gt; or &lt;&lt;&lt;Date String&gt;&gt;&gt; or the like this would solve both 1) and 2) but 
existing dates would need to be converted to use the new markup;
4) an alternaitive is to localize ALL dates, except where markup indicats not to -- 
this could be the &lt;nowwiki&gt; tag, or a new similar tag, such as &lt;nodateloc&gt;
5) If such &quot;automatic localization&quot; is applied to existing wikis with large amounts of 
content, such as wikipedia, dates in direct quotes will be localized unless all the 
more common methos of indiactign a quote are also taken to disable date localization.
6) It may well be desireable to link a date that is not to be localized. Thsi could 
not be done if dates are localized by default, AND the &lt;nowiki&gt; tag is used to stop 
such localization, as it also stops linking.
7) I therefore conclude that localization by default is less desireable than new 
localization syntax, but IF it is implemented then new sysntax to turn this feature 
off, separate from the nowiki tag, is required; AND *if* localization by default is 
implemented, then paired double quotes, blockquote tags, and other common methods of 
indicating a direct quote MUST turn off this feature unless additiuonal markup is used 
to explicitly indicate localization sould proceed.
</pre>
    </div><div id="c27" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthew W. Jackson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-09 00:48:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >First of all, I do agree that over-linking to dates is a problem on Wikipedia. 
However, that is not the primary reason why I think the ability to format a date
to the user's locale without linking is important for MediaWiki.

Consider a Wiki other than Wikipedia that simply has no use for pages for each
year and date.  A smaller specialized wiki might want a date to display properly
but have no need for pages about &quot;1994&quot;.  Without creating a page, I believe
that linked dates will display in red.

So, no matter what side of the issue you take on Wikipedia, this should be added
to MediaWiki.  Whether or not Wikipedia style guidelines recommend its usage is
irrelevant.

I can almost see a syntax being created to support many types of &quot;literals,&quot;
that format based on locale, such as numbers, measurements (units), etc.  But
dates are the most important due to all the ambiguity problems.</pre>
    </div><div id="c28" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rich Farmbrough</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-07-14 22:35:22 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Matthew is right, red links are a problem both on the smaller wikipedias (e.g.
ang) and for iso formatted dates even on en.</pre>
    </div><div id="c29" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ligulem</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-14 18:54:49 UTC
        </span>
      </div>



<pre class="bz_comment_text" >How about doing &lt;date&gt;2006-09-14&lt;/date&gt; in wiki-text (the date value in ISO)?
Would be displayed in as per wiki defined default format (example: &quot;19
September, 2006&quot; for en.wikipedia) for *all* users (including anons), with
selectable override settings for users with logins.

And how about doing [[&lt;date&gt;2006-09-14&lt;/date&gt;]] for the linked case?

Could this be implemented as an extension?</pre>
    </div><div id="c30" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-14 21:30:18 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It could be very easily implemented as an extension.  The syntax, however, is
very awkward to type, and it would be harder to get it to catch on.  The nice
thing about the links is that people notice them and tend to link them
themselves (erroneously extending the idea to lone years, but that's a separate
issue).  That's why most of the solutions have focused on automatic stuff.</pre>
    </div><div id="c31" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Matthew W. Jackson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-14 21:44:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I suggest everybody take a look at linked dates on Commons*.  The year is blue
and the month/day is red.  It'd be much nicer if the entire date was just black.

And I don't think this syntax would be awkward: &lt;&lt;2006-09-14&gt;&gt; or &lt;&lt;September
14, 2006&gt;&gt;.  We already have &quot;{{&quot; and &quot;[[&quot;, so &quot;&lt;&lt;&quot; is a natural progression. 
I'm also not suggesting we remove the current link support, as sometimes you
want a date to be linked.

Another solution would be a new magic word and use this syntax:
{{date:2006-09-14}}.  The ParserFunctions extension, in combination with
templates, could also be made to fill this gap, and I've already requested such
support be added.  But that seems like a short-term solution to me.

I'd really prefer a unified syntax that doesn't need an extension.  The angle
bracket syntax seems perfect, as it could open the door to different types of
user preferences down the road (units, coordinates, etc.).

I could care less if Wikipedia adopts non-linked dates (although it seems like
there's a good chance they would).  Seeing as Wikipedia has articles for every
day and every year, there's no big problem with the current solution.  But
MediaWiki != Wikipedia.

* see
<a href="http://commons.wikimedia.org/wiki/Image:Freebirds_Austin_Tech_Ridge_Libby.jpeg#Summary">http://commons.wikimedia.org/wiki/Image:Freebirds_Austin_Tech_Ridge_Libby.jpeg#Summary</a>
for an example</pre>
    </div><div id="c32" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ligulem</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-14 22:08:38 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c30">comment #30</a>)
<span class="quote">&gt; ..  The syntax, however, is very awkward to type, and it would be harder to</span >
get it to catch on.

The syntax &lt;date&gt;2006-09-14&lt;/date&gt; could be layered under a template
({{date|2006-09-14}}) for the template likers. At least it wouldn't be as
invasive for the parser as &lt;&lt;2006-09-14&gt;&gt;. Also &lt;date&gt;2006-09-14&lt;/date&gt; is more
extensible with more tags. We already have &lt;ref&gt;..&lt;/ref&gt; from cite.php. And the
current date usage would still keep working.
Per the linking: A variant could be to say that &lt;date&gt;2006-09-14&lt;/date&gt; is
always linked and &lt;uldate&gt;2006-09-14&lt;/uldate&gt; is not (or something - just using
two different tags).</pre>
    </div><div id="c33" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-15 18:35:11 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - The &quot;merged&quot; date-link/autoformatting bug"
   href="show_bug.cgi?id=8267">Bug 8267</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c34" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rich Farmbrough</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-15 21:38:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Note that <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - minor cleanup of CoreParserFunctions.php"
   href="show_bug.cgi?id=8247">Bug 8247</a> has unanimous support from at least 70 editors at WP:MosNum.</pre>
    </div><div id="c35" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-16 00:54:32 UTC
        </span>
      </div>



<pre class="bz_comment_text" >This request is signed by 70 Wikipedians at <a href="http://en.wikipedia.org/wiki/Wikipedia_talk:Manual_of_Style_">http://en.wikipedia.org/wiki/Wikipedia_talk:Manual_of_Style_</a>%
28dates_and_numbers%29#List_of_supporters

Please create an additional syntax for autoformatting dates that does not make hyperlinks to 
date pages. The current syntax conflates the two independent functions of autoformatting and 
linking. The current syntax is simple; it would be an advantage if the additional syntax were 
also simple.

The new syntax is conceived not as a replacement but as an alternative, retaining (1) the 
option to link to a chronological article where useful, and (2) the validity of the huge number 
of date-links already marked up in the project.

There are significant advantages to allowing autoformatted dates to be black rather than blue, 
where there is consensus to do so in an article. Specifically, reducing the density of blued-out 
links will:

(1) improve the readability of the text;

(2) improve the aesthetic appearance of the text;

(3) remove low-value chronological links that may lead readers to pages that are irrelevant to 
an article;

(4) increase the prominence of high-value links;

(5) reduce the spill-over effect, in which editors feel they should link centuries, decades, and 
bare years, months and days of the week; and

(6) reduce conflict on Wikipedia.

Some signatories have suggested specific mark-ups, such as &lt;&lt;date&gt;&gt;, but on balance it is 
considered best that the engineers use their expertise to choose the most appropriate mark-
up.</pre>
    </div><div id="c36" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-16 00:56:57 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Sorry, the link didn't come through properly above. Here it is:

<a href="http://en.wikipedia.org/wiki/Wikipedia_talk:Manual_of_Style_%28dates_and_numbers%29#List_of_supporters">http://en.wikipedia.org/wiki/Wikipedia_talk:Manual_of_Style_%28dates_and_numbers%29#List_of_supporters</a>

Tony</pre>
    </div><div id="c37" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">William Allen Simpson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-16 12:12:46 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Farmbrough, in addition to posting an incorrect bug number, 
also removed my email from the CC list.  Dirty trick! 

Of course, he's been repeatedly sanctioned for removing 
date links over the past year.  This partisan hackery 
should cease immediately!
</pre>
    </div><div id="c38" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-16 17:20:26 UTC
        </span>
      </div>



<pre class="bz_comment_text" >All right, let's not have those arguments here.</pre>
    </div><div id="c39" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-19 14:39:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Dear developers

I have a responsibility to report back by the end of the month to the other 69 Wikipedians who have signed up to <a href="show_bug.cgi?id=4582#c35">Comment #35</a> above. Please note that <a href="show_bug.cgi?id=4582#c35">Comment #35</a> is not a 
mere restatement of the original comment, which appears to have been understood to request a change in the existing date-linking syntax. 

On the contrary, <a href="show_bug.cgi?id=4582#c35">Comment #35</a> asks for the bug to be fixed through the creation of a ''parallel'' syntax to the existing date-linking syntax, thus avoiding problems with retro-
compatibility and users who wish to link dates.

We realise that the developers give their time and expertise ''gratis'', and are grateful for this; however, we would appreciate a substantive response to the comment. </pre>
    </div><div id="c40" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-20 00:54:17 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Lack of substantive response means that none of us feels like writing the code,
generally.  If any of the 70 Wikipedians who were willing to spend a few seconds
to sign a petition are willing and able to spend a few days or more writing the
appropriate code and revising it in response to criticism, it might (but might
not, admittedly) get approved.  I'm not willing to commit (no pun intended) to
review the patch, but another developer might be.

I would be against using double brackets for even more things that aren't links,
personally.  At least right now they actually denote links.  I'd be in favor of
either auto-formatting by default, switched off by &lt;nowiki&gt;; or use of a &lt;date&gt;
tag (which could be implemented much more cleanly, via extension hook).  As
noted above.</pre>
    </div><div id="c41" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-20 17:07:55 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I'm working on a quickie proof-of-concept for this using a parser hook and
hacked-up copy of DateFormatter.php. Whether or not I'll get anywhere is up in
the air, but this one's got my interest for now, so we'll see...</pre>
    </div><div id="c42" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-27 22:53:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Dynamic dates should be distinct from linked dates"
   href="show_bug.cgi?id=8404">Bug 8404</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c43" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-27 22:57:42 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c40">comment #40</a>)
<span class="quote">&gt; I would be against using double brackets for even more things that aren't links,
&gt; personally.  At least right now they actually denote links.  I'd be in favor of
&gt; either auto-formatting by default, switched off by &lt;nowiki&gt;</span >

Agreed.  Using nowiki for the special cases is preferable.
</pre>
    </div><div id="c44" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-27 22:58:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c20">comment #20</a>)
<span class="quote">&gt; One probem with this is that dates in direct quotations should not be 
&gt; reformated.</span >

Not necessarily.  It's better to just be explicit and use nowiki tags where needed.</pre>
    </div><div id="c45" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-01-06 01:39:17 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Just to follow up...most of the work for the DateParser class is now done, and
the FormatDates extension has been checked into Subversion. I need to find some
time to write an exhaustive set of test cases for it, and run some profiling
checks on it.

The extension, for those who weren't following, introduces a &lt;date&gt; tag.</pre>
    </div><div id="c46" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rich Farmbrough</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-01-08 22:43:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Very, very cool.</pre>
    </div><div id="c47" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-01-08 22:54:21 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c45">comment #45</a>)
<span class="quote">&gt; The extension, for those who weren't following, introduces a &lt;date&gt; tag.</span >

So every single date in an article (except direct quotations) is now going to
look like &lt;date&gt;2006-01-08&lt;/date&gt; instead of [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2006-01-08">2006-01-08</a>]]?</pre>
    </div><div id="c48" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-01-08 23:31:50 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c47">comment #47</a>)
<span class="quote">&gt; So every single date in an article (except direct quotations) is now going to
&gt; look like &lt;date&gt;2006-01-08&lt;/date&gt; instead of [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2006-01-08">2006-01-08</a>]]?</span >

Existing text is left alone. Users have to use the date tags to wrap dates which
ought to be refactored.</pre>
    </div><div id="c49" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Phil Boswell</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-01-09 15:13:18 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It's looking excellent.

The only minor wrinkle is that it can't cope with years in the format [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2006%20in%20%0Amusic">2006 in 
music</a>|2006]]: it'll do the day+month component but you have to leave the year out of 
it. This should not present any particular problem unless your preference is set such 
that the order would be changed, in which case it won't (do you follow?). Since the 
year would perforce be linked in any case (duh!), you would have to be the most 
hardened anti-date nutter to object to the day/month being likewise.

HTH HAND</pre>
    </div><div id="c50" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rich Farmbrough</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-15 12:47:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >What's the next step?  I can write some test cases if that's a problem. ~~~</pre>
    </div><div id="c51" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-15 14:27:53 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c48">comment #48</a>)
<span class="quote">&gt; Existing text is left alone. Users have to use the date tags to wrap dates which
&gt; ought to be refactored.</span >

...which will be almost all of them.  The only dates you wouldn't want auto-formatted would be direct quotes and such, no?

If this hasn't been written yet, I just want to strongly re-assert my opinion that this should auto-detect dates and apply formatting to *ALL* of them, with &lt;nowiki&gt; tags used to escape from this behavior for the few exceptions that will exist.

(Dates have a limited vocabulary, which you will have to parse to reformat them anyway, and freely-licensed recognition code has probably already been written.  Ambiguous cases can just be left as they were typed, encouraging editors to change them into a format the parser recognizes with certainty.)

This is a wiki, remember?  The markup is supposed to be simple and clean, and the software is supposed to make sane assumptions about what the editor wants.  I know this has been severely eroded by Cite.php, but that doesn't mean we should just abandon the wiki concept altogether and &lt;put&gt;HTML-esque&lt;/parser&gt; &lt;hooks around=&quot;every&quot;/&gt; word.

For instance, there are a few instances where someone wants an asterisk at the beginning of the line without it becoming a list.  Should we give up and say &quot;It's impossible to think of all the different exceptions!&quot;, and go back to HTML, forcing users to type &lt;ul&gt;&lt;li&gt; around each item they *do* want listed (which is most of them)?  No.  We should use the asterisk to mean a list by default, and use nowiki tags for the rare exceptions, keeping the markup simple and easy to use for the vast majority of cases.</pre>
    </div><div id="c52" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-15 15:57:29 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I'm very pleased for this matter to be re-opened and addressed. 

A thought occurred to me. Why is it that the dates displayed after our signatures are autoformatted yet avoid the bright blue of links, yet it seems to be a technical hurdle to overcome the colour issue in the unfortunately coupled link/autoformatting function. Would it not be possible, as a quick-fix, to import whatever programming is used to autoformat those signature dates without linking them, to the normal autoformatting system?</pre>
    </div><div id="c53" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-15 16:01:17 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Signature dates are formatted once, and injected upon page save.

I have no further interest in doing more than tweaking and polishing this extension at the present time; I won't be rewriting it to take into account all free-standing dates, although I agree that the lack of support for this makes the extension almost useless, and was a significant design oversight.</pre>
    </div><div id="c54" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-17 21:53:49 UTC
        </span>
      </div>



<pre class="bz_comment_text" >To recap the issues (and I hope I'm getting this right):
1. Find a way to cause [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=YYYY-MM-DD">YYYY-MM-DD</a>]] to be formatted without it also being a link
2. Generate a &quot;pretty&quot; format by default (for readers who are not logged in and hence don't have a date preference)

Addressing these:
1. The fundamental complaint here is that the blue links clutter up the page. 
Can't the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=YYYY-MM-DD">YYYY-MM-DD</a>]] strings be simply &lt;span&gt;ned in a class that would make the &quot;links&quot; *appear* as plain text?

2. The objection that there is no standard date format, while valid, does not preclude that WP arbitrarily choose one.
Although I'm European, I'm not entirely stupid :) and I am not baffled by a string that reads &quot;October 17, 2007&quot;. Just as I am not going to be gasping for air when I read an article that uses &quot;color&quot; instead of &quot;colour&quot; or &quot;favor&quot; instead of &quot;favour&quot;. No sensible editor has a problem with the format of the timestamps in signatures, so I see no reason why that can't be &quot;acceptable&quot; in general too.

These stop gap measures do not necessarily have to become permanent, but they can work for now, and would be an awful sight better than the present status quo. If #1 is implemented with a template, any short term solutions could even be &quot;upgraded&quot; by a bot when &lt;date&gt;2006-01-08&lt;/date&gt; or [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Date%3A2007-10-17">Date:2007-10-17</a>]] or {{#strftime:}} or an article-wide {{DATEFORMAT:}} magic word or whatever is finally implemented.

Both the stop gaps I've suggested above are (I think) implementable with templates.

My two cents...
C.</pre>
    </div><div id="c55" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-17 22:51:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c54">comment #54</a>)
<span class="quote">&gt; 1. The fundamental complaint here is that the blue links clutter up the page. 
&gt; Can't the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=YYYY-MM-DD">YYYY-MM-DD</a>]] strings be simply &lt;span&gt;ned in a class that would make
&gt; the &quot;links&quot; *appear* as plain text?</span >

Why do we use link syntax for this formatting feature in the first place?  Why would we continue to do this even after recognizing that it is not semantically correct?

<span class="quote">&gt; 2. The objection that there is no standard date format, while valid, does not
&gt; preclude that WP arbitrarily choose one.</span >

It could guess the local format based on the geolocation of the IP requesting the page?</pre>
    </div><div id="c56" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-17 22:56:33 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c55">comment #55</a>)
<span class="quote">&gt; Why do we use link syntax for this formatting feature in the first place?  Why
&gt; would we continue to do this even after recognizing that it is not semantically
&gt; correct?</span >

* Someone made a bad decision once, which no doubt had some sane rationale at the time?
* No-one's changed the status quo at this time?

<span class="quote">&gt; It could guess the local format based on the geolocation of the IP requesting
&gt; the page?</span >

This might well introduce unacceptable caching dependencies, leading to cache fragmentation.</pre>
    </div><div id="c57" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-17 23:12:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c56">comment #56</a>)
<span class="quote">&gt; This might well introduce unacceptable caching dependencies, leading to cache
&gt; fragmentation.</span >

I don't know what that means, but wouldn't it just have to cache two versions of each page, for unregistered users? 

</pre>
    </div><div id="c58" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 04:45:48 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c57">comment #57</a>)
<span class="quote">&gt;I don't know what that means, but wouldn't it just have to cache two versions
&gt;of each page, for unregistered users? </span >

Thats not the kind of caching Rob is (presumably) referring to. Because the date format depends on &quot;who&quot; is viewing the page, this is one of the things that the server (i.e. cache) takes care of in &quot;real time&quot;, that is, on it way from disk to the network. The dependency/caching issue in this case would be the IP table upon which geolocation would necessarily be based. This table - which is anything but small - is what would have to be synchronized across the caches.

In any case, using geolocation just to determine an &quot;appropriate&quot; date format is probably not going to happen...
1. it would be inappropriate for this purpose. For example, an AOL user would get a US date no matter where he/she was located.
2. it would be extremely stressful for the servers, way in excess of any perceived advantage.
3. the WP board would (I hope) never approve of *any* criticized practice, leave alone for the sake of a darn date format.
</pre>
    </div><div id="c59" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c59">Comment 59</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 05:22:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Rob: couldn't FormattableDate() take $wgLanguageCode and $wgAmericanDates into consideration when selecting a &quot;default&quot; format?
i.e. 
  default: 
       if ($wgLanguageCode !== 'En' || $wgAmericanDates == false) {
           if ($wgLanguageCode == 'Jp' || $wgLanguageCode == 'Kr')
               return 'Y F j';
           return 'F j, Y';
       }
       return 'Y-m-d';

or some such? That would at least take care of the &quot;unpretty&quot; issue for all the non-en wikis.



</pre>
    </div><div id="c60" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c60">Comment 60</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 05:24:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c58">comment #58</a>)
<span class="quote">&gt; In any case, using geolocation just to determine an &quot;appropriate&quot; date format
&gt; is probably not going to happen...
&gt; 1. it would be inappropriate for this purpose. For example, an AOL user would
&gt; get a US date no matter where he/she was located.
&gt; 2. it would be extremely stressful for the servers, way in excess of any
&gt; perceived advantage.
&gt; 3. the WP board would (I hope) never approve of *any* criticized practice,
&gt; leave alone for the sake of a darn date format.</span >

'k.  Just an idea.  :-) 

</pre>
    </div><div id="c61" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c61">Comment 61</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-03 21:30:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I'm just going to make an executive decision and declare than having things that may or may not be dates in general body text should *not* be reformatted willy-nilly. Special magic links at least are already specially set off, but fiddling with general text can be a recipe for trouble. We already get enough complaints about things like the RFC links that I'd hate to have some-but-not-all-dates-and-also-things-that-resemble-dates being changed around.</pre>
    </div><div id="c62" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c62">Comment 62</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-03 21:48:38 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I completely agree with that, but I'd still like to see a syntax for formatting dates without linking them.</pre>
    </div><div id="c63" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c63">Comment 63</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-03 22:33:42 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c61">comment #61</a>)
<span class="quote">&gt; I'm just going to make an executive decision</span >

:-(

<span class="quote">&gt; We already get enough
&gt; complaints about things like the RFC links</span >

Really?

<span class="quote">&gt; that I'd hate to have
&gt; some-but-not-all-dates-and-also-things-that-resemble-dates being changed
&gt; around.</span >

You're making a decision based on a fear of what *might* go wrong if implemented as poorly as possible, instead of just thinking about it and realizing it's not very difficult to do right.

It would only format things that are unambiguously dates, erring on the side of caution.  Ambiguous things like 01-01-01 would not be auto-formatted, enabling the editor to change them into an alternative format that *is* auto-formatted if that's the desired meaning.  Otherwise it will just be formatted as originally typed.  How is that a problem?  Editors can always change it to a standard format, like they do with unclosed tags or mistypings.

And, as always, &lt;nowiki&gt; tags would be used for the rare special cases where you don't want auto-formatting, like documentation about the date formatting itself and direct quotations.

In the vast majority of cases, you want date formatting, so, since this is a wiki, the best solution is to automatically format general text.  This is a wiki, right?  I mean, if it's not anymore, just come out and say so.</pre>
    </div><div id="c64" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c64">Comment 64</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-04 00:48:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Brian, many users have become fed up with the amount of time this essential reform process is taking. At MOSNUM, what had been a firm prescription to use date autoformatting has been watered down because of the multitude of problems with the system. If we can't even fix the entanglement with the linking system—which is the most complained about issue—then I suspect there will be a push at MOSNUM to water it down further. If it goes on much longer, I, personally, will be inclined to encourage all nominators of featured article candidates to ditch the system completely.

That would be a pity.

Brian, I don't see evidence that you're offering much help at all. It's just the &quot;wontfix&quot; button. It's very frustrating. Can you suggest any other avenues?</pre>
    </div><div id="c65" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c65">Comment 65</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-04 21:43:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><a href="show_bug.cgi?id=4582#c62">Comment #62</a>: There is a parser function for date and time formatting, isn't there?

<a href="show_bug.cgi?id=4582#c64">Comment #64</a>: My personal recommendation would be to remove all date autoformatting and let a sane manual of style recommend the fairly standard international English form, eg '4 December 2008'. Of course that's too simple and obvious for Wikipedia. ;)</pre>
    </div><div id="c66" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c66">Comment 66</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-04 21:51:34 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c65">comment #65</a>)
<span class="quote">&gt; <a href="show_bug.cgi?id=4582#c64">Comment #64</a>: My personal recommendation would be to remove all date
&gt; autoformatting and let a sane manual of style recommend the fairly standard
&gt; international English form, eg '4 December 2008'. Of course that's too simple
&gt; and obvious for Wikipedia. ;)</span >

I suspect Mediawiki is used on a lot of sites that don't follow the English Wikipedia's Manual of Style.</pre>
    </div><div id="c67" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c67">Comment 67</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-04 22:23:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c61">comment #61</a>)
<span class="quote">&gt; I'm just going to make an executive decision and declare than having things
&gt; that may or may not be dates in general body text should *not* be reformatted
&gt; willy-nilly. Special magic links at least are already specially set off, but
&gt; fiddling with general text can be a recipe for trouble. We already get enough
&gt; complaints about things like the RFC links that I'd hate to have
&gt; some-but-not-all-dates-and-also-things-that-resemble-dates being changed
&gt; around.</span >

I am inclined to agree that AUTOformat code is undesirable. Quite aside from the issue of false positives (which as  Omegatron in <a href="show_bug.cgi?id=4582#c62">comment #62</a> says, can probably be avoided) there are still the issues of links in direct quotes, and links which for other reasons should not be reformatted. It is not enough to say that nowiki tags would prevent the auto-formatting, both because quotes are often subject to wiki formatting (for indentation, among other reasons) and because of the large mass of existing text which should not be auto-formatted. if automatic date formatting is done, it should at a minimum include a disabling syntax specific to this feature, different from the general nowiki tag. Better, IMO, would be taking all indications that tend to introduce direct quotes and also treating them as disabling syntax; better still is probably not having any such feature.

HOWEVER, I still DO think that an *explicit* syntax for invoking date formatting, not tied to a link, would be a major plus. Whether there is a practical way to specify a default for users who are not logged in or not, such a feature would IMO have significant benefits. if a useful default can be specified, that would be even better. This would be a major help in Wikipedia, where dates are often overlinked to get formatting. It would be even better on smaller wikis that use the software, which are unlikely to have any use for pages for every possible day and year, and so must have redlinks if date formatting is to be used.

I urge the developers to re-open the original request for an explicit non-link date formatting syntax (such as &lt;&lt;DateHere&gt;&gt; or &lt;date&gt;DateHere&lt;/date&gt;, but the precise format really is a much less important issue), quite apart from the issue of general auto-formatting for existing plain-text dates, and not simply mark this as &quot;won't fix&quot; because of disputes over the auto-formatting aspect.
</pre>
    </div><div id="c68" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c68">Comment 68</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-04 22:58:43 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I should be clear -- such a new syntax would be in *addition* to the current link-based syntax, not in total replacemnt of it. whether it eventually becomes favored is another issue.</pre>
    </div><div id="c69" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c69">Comment 69</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-04 23:58:44 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c67">comment #67</a>)
<span class="quote">&gt; both because quotes are
&gt; often subject to wiki formatting (for indentation, among other reasons)</span >

Nowiki tags don't work inside formatting tags?

<span class="quote">&gt; and
&gt; because of the large mass of existing text which should not be auto-formatted.</span >

Examples?  This wouldn't change any source code of articles, you realize.  It just formats them for display based on user preferences (which will probably be &quot;off&quot; by default for non-logged in users, as it currently is).

Do you mean text inside direct quotes?  How many instances like this do you estimate there are, even in the entire text of the English Wikipedia?  It's not going to autoformat &quot;four score and seven years ago&quot;.</pre>
    </div><div id="c70" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c70">Comment 70</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-05 18:59:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c69">comment #69</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=4582#c67">comment #67</a>)
&gt; &gt; both because quotes are
&gt; &gt; often subject to wiki formatting (for indentation, among other reasons)
&gt; Nowiki tags don't work inside formatting tags?</span >

True, it would be possible to have nowiki tags tightly bound to the actual date strings, and have any formatting codes outside such tags. However, if a special syntax is used to disable date localization, and ONLY date localization, it could be automatically joined to blockquote formatting with a template. I think that such special nodateloc tags would be cleaner and clearer, and would permit a date that should be linked, but should not be reformatted/localized (this is probably rare, but would occur upon occasion). 

<span class="quote">&gt; &gt; and
&gt; &gt; because of the large mass of existing text which should not be auto-formatted.
&gt; Examples?  This wouldn't change any source code of articles, you realize.  It
&gt; just formats them for display based on user preferences (which will probably be
&gt; &quot;off&quot; by default for non-logged in users, as it currently is).
&gt; Do you mean text inside direct quotes?  How many instances like this do you
&gt; estimate there are, even in the entire text of the English Wikipedia?  It's not
&gt; going to autoformat &quot;four score and seven years ago&quot;.</span >

I would estimate, admittedly without real evidence, that there are tens of thousands of date strings in directly quoted content in the en Wikipedia alone, and hundreds of date strings where the format is being mentioned, not just used, and so should not be reformatted either. There are also the many date strings on talk pages created by signatures, and by templates which act like signatures. I think that none of these should be reformatted, although that might be debated. There are millions of these, at least.

I also think that if auto-formatting is to be implemented, and to be of significant value, there probably should be a non-empty default date preference set for non-logged-in users, either a single one for any given wiki, which becomes that wiki's standard, or one somehow based on the IP address. I understand that the latter may add excessive bandwidth and cache problems, at least for large wikis with many users, such as the major Wikipedias. Such wikis would probably opt for a single default style for non-logged-in users. But my views remain unchanged even if no such default preference is to be implemented.

My views on auto-formatting are, in short:

1) Changing the effective display of many pages after the fact is at least possibly unwise.
2) Changing displayed formats in existing directly quoted content is completely unacceptable.
3) Requiring a search of all existing text for directly quoted date strings and other instances of date stings that should not be reformatted is, at least, a significant burden on editors of wikis with large existing content, such as the major Wikipedias.
4) Therefore, if auto-formating is implemented, tags such a blockquote and paired double quotes (or perhaps paired single quotes) should disable auto-formatting. Which tags serve this function perhaps should be configurable on a wiki-by-wiki basis.
5) If auto-formatting of date strings is to be implemented, considerable care must be taken to avoid and test for false positives, and there should be a commitment by the responsible developers to fix the autoformant code if instances of false positives are found.

My views on some new way to format date strings to match preferences are:
1) The overloading of link syntax for this purpose is, at best awkward and poor design.
2) The link-based syntax encourages overlinking. While there may be debates on when dates are valuable links, and when they are not, almost everyone will agree that multiple occurrences of date strings, all linked, in close textual proximity to each other, when the dates are identical or close in time, is overlinking. (I personally think the vast majority of dates should be unlinked, but that is an opinion that is controversial.)
3) The link-based syntax is quite awkward for some date formats, particularly the &quot;Month dd, YYYY&quot; format, as it leads to a link to a page about a particular calender date unconnected with a year, which is unlikely to be useful metadata, and requires the editor to create two links for what is logically a single entity.
4) On smaller wikis, the date-based syntax causes redlinks which are even more distracting and confusing for the reader than bluelinks, and invite the creation of pages for specific dates which may be of no value to a wiki more specialized than a Wikipedia instance.
5) The ability to specify date reformatting using a non-link-based syntax would avoid these problems. So would auto-formatting all date strings.
6) A non-link-based date syntax might encourage the use of the non ambiguous ISO date format, particularly if a default date preference is assigned to non-logged-in users.
7) Therefore, either a new non-link-based syntax forcing localization, or auto-formatting for the same purpose, should be implemented. The first choice is simpler, and will cause fewer problems, but will require editorial effort before it makes a difference anywhere. The second will have wide effects at once, but at least some of those will be undesirable, and require editorial efforts to fix.
</pre>
    </div><div id="c71" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c71">Comment 71</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-08 04:34:46 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Could I remind participants that some 80 Wikipedians signed the original petition to have the system fixed (eight more have signed up since, and further promotion of the existence of this page would be very likely to generate a lot more signatures).

Tony1</pre>
    </div><div id="c72" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c72">Comment 72</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-08 04:35:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Could I remind participants that some 80 Wikipedians signed the original petition to have the system fixed (eight more have signed up since, and further promotion of the existence of this page would be very likely to generate a lot more signatures).

Tony1</pre>
    </div><div id="c73" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c73">Comment 73</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-18 02:27:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Let's keep it open for now and see what happens...</pre>
    </div><div id="c74" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c74">Comment 74</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 02:42:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Speaking from the perspective of a non-Wikipedia MediaWiki user (my own sandbox wiki), tying the date formatting to links is annoying in that it generates tons of unnecessary links that are probably not relevant to the project. This has been covered above.

Also covered above is the possibility of a parser hook, which Rob wrote as an extension. I don't think that's a particularly viable option, because XTHML-style tags are often inconvenient to type. I myself am OK with them, as I write a lot of HTML-style code, but I expect most users of MediaWiki don't do so, and would find using the &lt; and &gt; keys for dates all the time cumbersome.

&lt;&lt;DateHere&gt;&gt;-type constructs, also as mentioned above, use similar syntax to the current links, and would add no additional article size (not that size is a major concern in this case). It does use the &lt; and &gt; keys again, which as I've stated, could be inconvenient for &quot;normal&quot; users.

Now, I've tried to come up with some ideas for alternatives, not the least of which is to simply use regular expressions to look for common date formats and reformat them, excluding quoted text (probably). I don't know any off the top of my head, but I'm sure there are established regexes to match common date formats; and really, why should the software have to deal with possible date formats like 27 Dec 90 - that would be crazy to try to implement reliably.

Another idea is to use something like d2007-12-31d (dDecember 31, 2007d) to denote dates. How often is it that a string exactly matching the format of a common date arrangement is wrapped in the 'd' character? Or perhaps we could use ?2007-12-31? or ?d2007-12-31?d (the latter allowing for other preferences like ?m21 lbs.?m for measurements). They make the source a little harder to read, but at least the ones with question marks are set off a bit.

So those are my ideas for now. Anyone have feedback?</pre>
    </div><div id="c75" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c75">Comment 75</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 04:02:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Hey Voyager, thanks for your suggestions. &lt;&lt; and &gt;&gt;, or the single pair, would be no problem for Wiki users. As for the string that starts and ends with &quot;d&quot;, it's fine by me, but others more familiar with the technical language will comment if they see a problem.

It would be great to get this thing off the ground. We desperately need to resolve the bug so that we can all move on from the tension at WP about the autoblotching of full dates.

Tony</pre>
    </div><div id="c76" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c76">Comment 76</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 04:11:21 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c74">comment #74</a>)
<span class="quote">&gt; Also covered above is the possibility of a parser hook, which Rob wrote as an
&gt; extension. I don't think that's a particularly viable option, because
&gt; XTHML-style tags are often inconvenient to type. I myself am OK with them, as I
&gt; write a lot of HTML-style code, but I expect most users of MediaWiki don't do
&gt; so, and would find using the &lt; and &gt; keys for dates all the time cumbersome.</span >

Agreed.
 
<span class="quote">&gt; Now, I've tried to come up with some ideas for alternatives, not the least of
&gt; which is to simply use regular expressions to look for common date formats and
&gt; reformat them, excluding quoted text (probably). I don't know any off the top
&gt; of my head, but I'm sure there are established regexes to match common date
&gt; formats; and really, why should the software have to deal with possible date
&gt; formats like 27 Dec 90 - that would be crazy to try to implement reliably.
&gt; 
&gt; Another idea is to use something like d2007-12-31d (dDecember 31, 2007d) to
&gt; denote dates.</span >

Or just say that anything in ISO 8601 format should be automatically formatted.  How often do those occur in quotations or text that shouldn't be auto-formatted?</pre>
    </div><div id="c77" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c77">Comment 77</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 04:17:34 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I guess I visited this bug because I've been mildly frustrated by this omission (can I call it that?) in MediaWiki. I'd like auto-formatted dates on my wiki, but I don't want to make articles for every day and year. On Wikipedia it's at least within the scope of the project; within my local wiki, it's just note-taking and (eventually) a project wiki.

If others don't think the &lt; and &gt; would be inconvenient to type, then by all means we should go ahead and implement markup like the &lt;&lt;Date Here&gt;&gt; syntax from above. Thinking over my suggestions for character delimiters, only the ?x &quot;tags&quot; seem like they'd be really appropriate; just having letters would probably be confusing.

Actually, what if they were to have syntax like d?2007-12-31?d, or d?2007-12-31?, or even d?2007-12-31?d ? (Whoa, that's confusing placement on that last one!) I think symmetry is an integral part of &quot;now it's on, now it's off&quot; markup like HTML and wikicode (the second option above notwithstanding).

On a side note, I've changed the bug summary to better reflect what we actually want, which is simply a way to autoformat dates without linking.

UPDATE before post: I just got an email about Omegatron's comment (<a href="show_bug.cgi?id=4582#c76">comment #76</a>), and that's not a bad idea. ISO 8601 is a good way to detect dates. There would have to be some escaping of template parameters so things like {{cite web}} don't get broken by the autoformatting (the template takes care of rendering on output), but that's actually a ''very'' good idea. If we want linked dates, we simply add the same [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=brackets">brackets</a>]] around them as we do now; unlinked ISO 8601 dates get formatted as well, and anything else is displayed as typed unless linked (in which case the current parsing would apply). Also, the signature timestamps should be changed to use the ISO 8601 format (e.g. output 23:34, 2007-12-31) if this method is adopted.</pre>
    </div><div id="c78" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c78">Comment 78</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 04:26:42 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c77">comment #77</a>)
<span class="quote">&gt; UPDATE before post: I just got an email about Omegatron's comment (comment
&gt; #76), and that's not a bad idea. ISO 8601 is a good way to detect dates. There
&gt; would have to be some escaping of template parameters so things like {{cite
&gt; web}} don't get broken by the autoformatting (the template takes care of
&gt; rendering on output)</span >

No.  The template would be updated to let the autoformatting do its job.  It already recommends to use ISO 8601 in the template parameters.

I've already been researching this, though, and *proper* ISO 8601 might only be useful from the years 1582 to 9999?  After 9999 you are supposed to write it as +12345-01-01, and before 1582 you are supposed to convert the date to the proleptic Gregorian calendar.  So 0826-03-16 is actually 12 March 826.  :-D

<a href="http://en.wikipedia.org/wiki/Wikipedia:Manual_of_Style_(dates_and_numbers)#Calendars">http://en.wikipedia.org/wiki/Wikipedia:Manual_of_Style_(dates_and_numbers)#Calendars</a>
<a href="http://www.tondering.dk/claus/cal/node4.html">http://www.tondering.dk/claus/cal/node4.html</a>
<a href="http://www.w3.org/International/questions/qa-date-format">http://www.w3.org/International/questions/qa-date-format</a></pre>
    </div><div id="c79" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c79">Comment 79</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 04:41:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c78">comment #78</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=4582#c77">comment #77</a>)
&gt; &gt; UPDATE before post: I just got an email about Omegatron's comment (comment
&gt; &gt; #76), and that's not a bad idea. ISO 8601 is a good way to detect dates. There
&gt; &gt; would have to be some escaping of template parameters so things like {{cite
&gt; &gt; web}} don't get broken by the autoformatting (the template takes care of
&gt; &gt; rendering on output)
&gt; 
&gt; No.  The template would be updated to let the autoformatting do its job.  It
&gt; already recommends to use ISO 8601 in the template parameters.
&gt; 
&gt; I've already been researching this, though, and *proper* ISO 8601 might only be
&gt; useful from the years 1582 to 9999?  After 9999 you are supposed to write it as
&gt; +12345-01-01, and before 1582 you are supposed to convert the date to the
&gt; proleptic Gregorian calendar.  So 0826-03-16 is actually 12 March 826.  :-D
&gt; 
&gt; <a href="http://en.wikipedia.org/wiki/Wikipedia:Manual_of_Style_(dates_and_numbers)#Calendars">http://en.wikipedia.org/wiki/Wikipedia:Manual_of_Style_(dates_and_numbers)#Calendars</a>
&gt; <a href="http://www.tondering.dk/claus/cal/node4.html">http://www.tondering.dk/claus/cal/node4.html</a>
&gt; <a href="http://www.w3.org/International/questions/qa-date-format">http://www.w3.org/International/questions/qa-date-format</a>
&gt; </span >

It just seems that the template would take e.g. accessdate and do [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2007-12-31">2007-12-31</a>]], letting the autoformatting on links apply normally as it does now, actually. My misspeak (?; that doesn't sound right).

Regarding the date formatting before 1582: Ew. I don't want to think about that, honestly. Of course, somebody has to think about it, which is why we pay our devs the big bucks (oh wait... :D).

If we autoformat dates, the software is going to have to handle them somehow. So dates before 1582 can be assumed to be proleptic or they can be assumed to be Julian. But not both, so far as I know. If MediaWiki does a simple comparison on the year and branches based on what year is used, performing optionally an additional conversion from Julian to proleptic Gregorian dates based on user preferences (that'd have to be added if we choose this option - sorry Brion), then dates that are already in the proleptic Gregorian calendar would be converted incorrectly.

Probably the best way to handle it is to just format the date, without any calendar conversion, and let the surrounding wikitext specify what calendar the date obeys. Perhaps it's not as easily read by machines, if MediaWiki eventually supports the scraping of metadata like dates and measurements from wiki articles, but it's probably easier to code and maintain (and for backwards compatibility and ease of use, for that matter).

I think that's &quot;proper&quot; ISO 8601, since actual proper ISO 8601 (sans quotes) is defined as exactly what you say it is, with a plus before years with more than four digits. But we have 8,000 years to worry about plussed dates. (Unless someone's planning on writing future history?)
</pre>
    </div><div id="c80" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c80">Comment 80</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 04:51:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Really, the safest thing to do is not change the raw date that is input. Let's keep away from ISO, please, which is not favoured by Wikipedia. Can't we just substitute exactly the double square brackets currently in use with the arrows? So:

 &lt;&lt;September 27&gt;&gt;, &lt;&lt;1980&gt;&gt; 

or 

&lt;&lt;27 September&gt;&gt; &lt;&lt;1980&gt;&gt;

depending on whether US or international formatting is used in the article? That means no one will have to learn new ways of inputting the autoformatting code. This is critical if it's to gain wide support. Let's not complicate matters.

Tony</pre>
    </div><div id="c81" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c81">Comment 81</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 06:02:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c79">comment #79</a>)
<span class="quote">&gt; It just seems that the template would take e.g. accessdate and do
&gt; [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2007-12-31">2007-12-31</a>]], letting the autoformatting on links apply normally as it does
&gt; now, actually. My misspeak (?; that doesn't sound right).</span >

Yes.

<span class="quote">&gt; Probably the best way to handle it is to just format the date, without any
&gt; calendar conversion, and let the surrounding wikitext specify what calendar the
&gt; date obeys.</span >

Yes.

<span class="quote">&gt; Perhaps it's not as easily read by machines, if MediaWiki
&gt; eventually supports the scraping of metadata</span >

Yeah, I guess that would be the only concern.  But if it's scraping dates, it can be smart enough to not scrape things incorrectly before a certain date.

So 0826-03-16 would behave just like [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=0826-03-16">0826-03-16</a>]] does now, and display as &quot;March 16, 826&quot;.  Easy and simple.

(I just checked, and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=826-03-16">826-03-16</a>]] doesn't work, by the way.)

<span class="quote">&gt; (Unless someone's planning on writing future history?)</span >

You mean like this?

<a href="http://en.wikipedia.org/wiki/11th_millennium_and_beyond#Simultaneous_occurrence_of_solar_eclipse_and_transit">http://en.wikipedia.org/wiki/11th_millennium_and_beyond#Simultaneous_occurrence_of_solar_eclipse_and_transit</a>

(In reply to <a href="show_bug.cgi?id=4582#c80">comment #80</a>)
<span class="quote">&gt; Really, the safest thing to do is not change the raw date that is input. Let's
&gt; keep away from ISO, please, which is not favoured by Wikipedia.</span >

Not favoured by *you*, you mean.  ISO 8601 is the preferred format for citation templates and tables on Wikipedia.  Or do you mean in article prose?  You do realize what we're talking about, right?  Using ISO format as a form of &quot;source code&quot;, which is then formatted on article display in your preferred written-out format.

<span class="quote">&gt; Can't we just
&gt; substitute exactly the double square brackets currently in use with the arrows?
&gt; So:
&gt; 
&gt;  &lt;&lt;September 27&gt;&gt;, &lt;&lt;1980&gt;&gt; </span >

Hard to type, and confusingly similar to HTML, just like the &lt;date&gt; tags.  Not a good solution and not very wiki-like.</pre>
    </div><div id="c82" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c82">Comment 82</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 07:23:37 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Not favoured by *me*? Well, I'm referring only to this, in WP's MOS:

&quot;ISO 8601 dates (1976-05-13) are uncommon in English prose and are generally not used in Wikipedia. However, they may be useful in long lists and tables for conciseness and ease of comparison.&quot;

That's all. Now I see what you're talking about, though. That's fine if you mean to avoid the current autodud system, you just input an ISO date: no problem.

The double arrows, IMV, are not at all similar to single arrows unless you're almost blind and refuse to wear spectacles. I don't find the arrows hard to type, and don't see why others would. 

However, I don't care what symbols are used, as long as they're short and simple and easy. Please go ahead.</pre>
    </div><div id="c83" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c83">Comment 83</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 14:19:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c81">comment #81</a>)
<span class="quote">&gt; &gt; (Unless someone's planning on writing future history?)
&gt; 
&gt; You mean like this?
&gt; 
&gt; <a href="http://en.wikipedia.org/wiki/11th_millennium_and_beyond#Simultaneous_occurrence_of_solar_eclipse_and_transit">http://en.wikipedia.org/wiki/11th_millennium_and_beyond#Simultaneous_occurrence_of_solar_eclipse_and_transit</a></span >

Ugh, I never saw that article. Well, perhaps we ''should'' press for an extra (\+\d{1,3})? in whatever regex ends up in the code to detect these dates after all. Can we leave it at seven-digit years for now? Of course now someone will pop up with an article that mentions a date in the year <a href="https://gerrit.wikimedia.org/r/#q,802701000,n,z" title="Git commit 802701000">802701000</a>... :P

<span class="quote">&gt; 
&gt; Not favoured by *you*, you mean.  ISO 8601 is the preferred format for citation
&gt; templates and tables on Wikipedia.  Or do you mean in article prose?  You do
&gt; realize what we're talking about, right?  Using ISO format as a form of &quot;source
&gt; code&quot;, which is then formatted on article display in your preferred written-out
&gt; format.
&gt; 
&gt; &gt; Can't we just
&gt; &gt; substitute exactly the double square brackets currently in use with the arrows?
&gt; &gt; So:
&gt; &gt; 
&gt; &gt;  &lt;&lt;September 27&gt;&gt;, &lt;&lt;1980&gt;&gt; 
&gt; 
&gt; Hard to type, and confusingly similar to HTML, just like the &lt;date&gt; tags.  Not
&gt; a good solution and not very wiki-like.
&gt; </span >

For both of the above, exactly my feelings. Thanks for putting them into words for me; I was trying and failing to think of how to respond last night.</pre>
    </div><div id="c84" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c84">Comment 84</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 14:31:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c82">comment #82</a>)
<span class="quote">&gt; Not favoured by *me*? Well, I'm referring only to this, in WP's MOS:
&gt; 
&gt; &quot;ISO 8601 dates (1976-05-13) are uncommon in English prose and are generally
&gt; not used in Wikipedia. However, they may be useful in long lists and tables for
&gt; conciseness and ease of comparison.&quot;
&gt; 
&gt; That's all. Now I see what you're talking about, though. That's fine if you
&gt; mean to avoid the current autodud system, you just input an ISO date: no
&gt; problem.
&gt; 
&gt; The double arrows, IMV, are not at all similar to single arrows unless you're
&gt; almost blind and refuse to wear spectacles. I don't find the arrows hard to
&gt; type, and don't see why others would. 
&gt; 
&gt; However, I don't care what symbols are used, as long as they're short and
&gt; simple and easy. Please go ahead.
&gt; </span >

Graah, I was going to do a double reply just like Omegatron but forgot to click the second link. I feel so bad for double posting. But I won't dwell on it.

I don't think we should add more markup codes unless there's a reason to do so. &lt;date&gt; tags would be awfully long, and &lt;&lt;2007-12-31&gt;&gt; looks funny (to me; other reasons below). There is the capability to detect dates automatically during parsing if we insist on a single format, like ISO 8601, that is not separated by spaces. The whole regex could (and probably should) be wrapped in \b(regex for date)\b to help avoid false matches. Er, or am I wrong and hyphens-are-the-same as spaces where \b is concerned?

For the &lt;&lt;double arrows&gt;&gt;, I personally find that they make the wikitext harder to read on the edges, since the symbols and the numbers on each end seem to blend. Perhaps I have a funny monitor or something, but that's my reasoning (in addition to the &quot;looks funny&quot; mentioned above).

Really, if all the dates in articles were converted to ISO 8601 in the source code, it would be one step closer to semantic MediaWiki, even if there's no markup around them, because they'd all be consistent. I can see a new Help: page or two if this is implemented to get newbies accustomed to  ISO dates...</pre>
    </div><div id="c85" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c85">Comment 85</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 14:49:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c82">comment #82</a>)
<span class="quote">&gt; That's all. Now I see what you're talking about, though. That's fine if you
&gt; mean to avoid the current autodud system, you just input an ISO date: no
&gt; problem.</span >

Yes, exactly.  And for the rare cases like tables where ISO format is the desired display, just use nowiki tags.

(In reply to <a href="show_bug.cgi?id=4582#c83">comment #83</a>)
<span class="quote">&gt; Ugh, I never saw that article. Well, perhaps we ''should'' press for an extra
&gt; (\+\d{1,3})? in whatever regex ends up in the code to detect these dates after
&gt; all.</span >

Might as well.

<span class="quote">&gt; Can we leave it at seven-digit years for now? Of course now someone will
&gt; pop up with an article that mentions a date in the year <a href="https://gerrit.wikimedia.org/r/#q,802701000,n,z" title="Git commit 802701000">802701000</a>... :P</span >

Don't worry *too* much about it.  The current system only works on ISO dates up to December 99th, 9999, after all.  :-)</pre>
    </div><div id="c86" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c86">Comment 86</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 19:45:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Although I am a strong proponent of separating date syntax from linking syntax, I also strongly disagree with the idea that dates, even just ISO 8601 dates, should automatically be magical. For a start, we shouldn't go adding magic to all the dates that are already in the encyclopaedia. Much more importantly, I believe Brion has already vetoed this approach in <a href="show_bug.cgi?id=4582#c61">comment 61</a> above.</pre>
    </div><div id="c87" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c87">Comment 87</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 20:06:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c86">comment #86</a>)
<span class="quote">&gt; Although I am a strong proponent of separating date syntax from linking syntax,
&gt; I also strongly disagree with the idea that dates, even just ISO 8601 dates,
&gt; should automatically be magical. For a start, we shouldn't go adding magic to
&gt; all the dates that are already in the encyclopaedia. Much more importantly, I
&gt; believe Brion has already vetoed this approach in <a href="show_bug.cgi?id=4582#c61">comment 61</a> above.
&gt; </span >

Most of the dates that are in the encyclopedia aren't in ISO 8601 format. The ones that are in the text already tend to be formatted as &quot;October 23, 2007&quot; or &quot;15 April, 1952&quot;; stuff like that. We're talking about ''only'' auto-formatting dates in the format yyyy-mm-dd; nothing else. Brion's comment doesn't apply, as far as I can tell, because what besides a date is formatted like an ISO 8601 date string?</pre>
    </div><div id="c88" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c88">Comment 88</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 20:21:30 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c87">comment #87</a>)
<span class="quote">&gt; Most of the dates that are in the encyclopedia aren't in ISO 8601 format.</span >

As Tony pointed out, these are already recommended against in article text, so it's not like there's going to be many false positives there.  The only cases I know of where they are in use and should *not* be autoformatted is tables (which are relatively rare and can be nowikied).

Can anyone think of any other examples of potential conflicts?   Certainly there will be a few weird cases, but I don't know why people are portraying this as the end of the world.  It's just the formatting of dates.  Changes to templates or the software break stuff much more dramatically than this all the time, and editors have it fixed in a short period of time.</pre>
    </div><div id="c89" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c89">Comment 89</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 20:25:44 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c88">comment #88</a>)
<span class="quote">&gt; Can anyone think of any other examples of potential conflicts?   Certainly
&gt; there will be a few weird cases, but I don't know why people are portraying
&gt; this as the end of the world.  It's just the formatting of dates.  Changes to
&gt; templates or the software break stuff much more dramatically than this all the
&gt; time, and editors have it fixed in a short period of time.
&gt; </span >

Somehow I'm reminded of the UNIQ bug from November... Even that wasn't as big a deal as all that. We made lists, got editors involved in fixing the pages, and life went on. The same thing will happen if the new date formatting breaks something. It'll get found and corrected.

I'm not sure about whether the formatter should be disabled inside tables or not. Since that's the most likely place for intended ISO dates, it could be practical, but on the other hand it's possible that someone will want auto-formatting dates in a table. Probably best to have it opt-out (e.g. &lt;nowiki&gt; or even something like &lt;nofmt&gt;) no matter where if it's going to do the plain date thing.</pre>
    </div><div id="c90" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c90">Comment 90</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 20:28:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c89">comment #89</a>)
<span class="quote">&gt; Probably best to have it opt-out (e.g.</span >

&lt;nowiki&gt;2007-12-31&lt;/nowiki&gt;

I don't see why this is seen as such a big deal.</pre>
    </div><div id="c91" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c91">Comment 91</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 20:41:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It's a deal (I won't say a big deal, but a deal nonetheless) because there are already some ISO dates in the encyclopaedia that shouldn't be magicked, and so it will cause complaints.

I also think it's just as easy to train new users to write (something like) &quot;&lt;date&gt;January 1, 2008&lt;/date&gt;&quot; or &quot;&lt;&lt;January 1, 2008&gt;&gt;&quot; as &quot;2008-01-01&quot;. Neither is the way they'd naturally write it or read it, after all.

Also, if ISO dates become magical, we'd have to choose a default date preference for unregistered and new users. That's not necessarily a bad idea in itself, but it's a change, and people may have views about which date preference to choose.

To me it makes a lot more sense that if an editor wants magic to happen, they should ask for magic. Magic shouldn't happen behind their backs because it will tend to have unexpected and undesired consequences occasionally -- not in the majority of cases, but enough to be noticed. This is the way that pretty much all the wiki syntax works -- you have to ask for it.</pre>
    </div><div id="c92" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c92">Comment 92</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-31 21:02:30 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c91">comment #91</a>)
<span class="quote">&gt; To me it makes a lot more sense that if an editor wants magic to happen, they
&gt; should ask for magic. Magic shouldn't happen behind their backs because it will
&gt; tend to have unexpected and undesired consequences occasionally -- not in the
&gt; majority of cases, but enough to be noticed. This is the way that pretty much
&gt; all the wiki syntax works -- you have to ask for it.
&gt; </span >

Magic like the automatic &lt;pre&gt; tags around lines that start with a space? A lot of people don't ask for that; I've seen a lot of cases where there's been an unintentional space at the beginning of a line which makes the whole paragraph scroll off to the right. And don't we have a Preview button to help avoid mistakes stemming from unintentional markup interpretation?</pre>
    </div><div id="c93" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c93">Comment 93</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-01 00:09:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c91">comment #91</a>)
<span class="quote">&gt; To me it makes a lot more sense that if an editor wants magic to happen, they
&gt; should ask for magic.</span >

And we should remove the auto-linking of ISBN numbers, because there are a few cases where they should not link to the Book sources page.  See <a href="http://en.wikipedia.org/wiki/International_Standard_Book_Number#Check_digit_in_ISBN-10">http://en.wikipedia.org/wiki/International_Standard_Book_Number#Check_digit_in_ISBN-10</a> for example.

Oh, and we should also remove the auto-linking of URLs, because sometimes people want them to just be written out without actually becoming a link.  See <a href="http://en.wikipedia.org/wiki/URL_normalization#Normalization_process">http://en.wikipedia.org/wiki/URL_normalization#Normalization_process</a> for some examples.

And we should remove the auto-linking of RFC numbers, since there are some cases where this conflicts and people don't want an actual link.  See ... well, I can't find any examples.  But I'm sure there are a few cases where people don't want them to be linked.

We certainly don't want to confuse users by linking these things every time, when they should only be links 99.9% of the time.  Users should have to explicitly spell out what they want with special tags, since we certainly don't want to make assumptions about what they want.  Let's call it an &quot;a&quot; tag, for &quot;Anchor&quot;, and then we'll have the link text inside the tags, with a URL which we'll label &quot;href&quot; for &quot;Hypertext REFerence&quot;, ...

This way we'll know exactly when users want links to be created, and they won't have to be bothered with those bothersome &quot;nowiki&quot; tags in the handful of cases that they don't.  It will be a great improvement to the usability of our wiki software.&lt;signature block/&gt;&lt;date&gt;&lt;today's date/&gt;&lt;/date&gt;</pre>
    </div><div id="c94" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c94">Comment 94</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-01 00:57:06 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Automatically rendering ISO-formatted dates as autoformatted would need to be turned off. Autoformatting doesn't work with date ranges (3–7 January 2010, the way MOS says to format such a range), nor slashed dates (night of 3/4 July). I guess you'd just write these ranged/slashed items in raw form without any auto.</pre>
    </div><div id="c95" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c95">Comment 95</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-01 21:16:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c66">comment #66</a> w.r.t to some normalized value like '4 December 2008')
<span class="quote">&gt; I suspect Mediawiki is used on a lot of sites that don't follow the English
&gt; Wikipedia's Manual of Style.</span >

True, but all it needs do is use the same config setting that determines the date style for talk/history. See $wgLanguageCode and $wgAmericanDates and <a href="show_bug.cgi?id=4582#c59">comment #59</a>. 
NB: This would just be the *default*, i.e. active only if there is no user-setting to override it.

(In reply to <a href="show_bug.cgi?id=4582#c80">comment #80</a>)
<span class="quote">&gt; Can't we just substitute exactly the double square brackets currently in use with the arrows?
&gt; So: &lt;&lt;September 27&gt;&gt;, &lt;&lt;1980&gt;&gt; </span >

There is no need to institute a new syntax. What is wanted is for the dates to be formatted but not linked (or alternatively, the link to not be an obvious link), which has very little to do with the fact that it appears in square brackets.

To that end, it does not make any difference whether the value is put in square brackets or in some altogether novel format like angle brackets, &lt;date&gt; or d? or whatever else. All these do what square brackets do already, which is to &quot;flag&quot; it as needing special handing. Square brackets work fine. No need to change it. The actual generation/formatting/color of a link (or not) is something that the server does anyway.

It is /trunk/extensions/FormatDates/DateParser.php and/or /trunk/extensions/FormatDates/FormattableDate.php that need fixing first. Specifically, the fact that PREF_ISO and PREF_NONE are treated as synonymous in FormattableDate.determineFormat(). As such, the purpose of PREF_NONE is lost, which might under normal circumstances be used to switch to a sensible default. 

The solution is to either fix determineFormat() or to have DateParser.convertPref() intelligently select an actual default format. i.e. it would not return self::PREF_NONE if no preference is set, but instead pick a suitable alternative (e.g. based on $wgLanguageCode and/or $wgAmericanDates).
</pre>
    </div><div id="c96" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c96">Comment 96</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-01 21:44:06 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c94">comment #94</a>)
<span class="quote">&gt; Autoformatting doesn't work with date ranges (3–7 January 2010,
&gt; the way MOS says to format such a range), nor slashed dates (night of 3/4
&gt; July). I guess you'd just write these ranged/slashed items in raw form without
&gt; any auto.</span >

ISO 8601 specifies periods of time, too; written with a slash between them, so we could auto-format that in a smart way as well (&quot;1938-10-17/2007-11-30&quot; becomes &quot;October 17, 1938 – November 30, 2007&quot; according to my preference, while &quot;2010-01-03/07&quot; becomes &quot;3–7 January 2010&quot; according to yours).  But it wouldn't be useful in cases where you want to add birth locations, &quot;circa&quot;, and so on.</pre>
    </div><div id="c97" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c97">Comment 97</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-02 00:56:33 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Well, I don't mind this ISO solution; nor the arrows substituted for square brackets. Just as long as the result is not blue/underlined as for links: that's the feature that upsets the greatest number of users.

Not quite sure I understand <a href="mailto:cyp&#64;abwesend.de">cyp&#64;abwesend.de</a>'s statement that there's no need for new syntax.

At some stage, we need to establish a time-line and/or bring to a head what is to be done. Sorry to be bossy (and I'm a total tech-idiot at that); but we've postponed the push to have the autoblotch made explicitly optional on WP (which would be the start of the end of it, I'm afraid) because of this new activity here.

At the same time, we're very appreciative of the technical skills and knowledge brought to bear here, pro bono. </pre>
    </div><div id="c98" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c98">Comment 98</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-02 01:00:34 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c97">comment #97</a>)
<span class="quote">&gt; Well, I don't mind this ISO solution; nor the arrows substituted for square
&gt; brackets. Just as long as the result is not blue/underlined as for links:
&gt; that's the feature that upsets the greatest number of users.
&gt; </span >

The linking itself bothers me. It's not such an issue on Wikipedia, where every year and day of the year has an article; but on smaller wikis (as I've mentioned before), having links just to format the dates clutters up the Special:Wantedpages list. And the blue is annoying, yes. If it were just the formatting that was irritating, we could simply push for a special class to be added to auto-formatted links and fix the appearance in CSS. The result should not merely be not blue; it should be not linked.</pre>
    </div><div id="c99" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c99">Comment 99</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-11 02:35:01 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c97">comment #97</a>)
<span class="quote">&gt; Not quite sure I understand <a href="mailto:cyp&#64;abwesend.de">cyp&#64;abwesend.de</a>'s statement that there's no need
&gt; for new syntax.</span >

This bug report actually conflates three issues. The reasons why they haven't been dealt with 
are enumerated at the end of this comment.

The three issues (and for #2 and #3 the potential solutions) are:

1. The description of this bug report is 'Provide preference-based autoformatting for unlinked dated'.
   In other words, the person _wants_dates_to_be_identified_by_pattern_, and not 
   by [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] or &lt;date&gt;&lt;/date&gt; or whatever.

2. Articles are already being overloaded with linked dates. That is, people (me included) want to 
   inhibit the /existing/ [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=dates">dates</a>]] from appearing as links.

   To describe the &quot;solution&quot;, I have to first describe the problem, which is this:
   The '[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=wikilink">wikilink</a>]]' syntax &quot;tells&quot; the server that what is between the brackets needs to be 
   dealt with in a &quot;special&quot; way. What the server then does with it is something like this: 
       a) call DateFormatter to reformat all instances of [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=dateish-string">dateish-string</a>]] into [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date%20links">date links</a>]]
       b) convert all instances of [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=internal%20links">internal links</a>]] (which now includes the reformatted 
          [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=dateish-string">dateish-string</a>]]s) into regular html hyperlinks.
   Thus, if one didn't want dates to be link-ified, then all it would take is for the elements
   in the $this-&gt;targets[] array in DateFormatter to not be [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=wikilink">wikilink</a>]] format.
   For example,   $this-&gt;targets[self::DMY] = '[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=F%20j">F j</a>|j F]] [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Y">Y</a>]]'
   would read     $this-&gt;targets[self::DMY] = 'j F Y'
   See <a href="http://svn.wikimedia.org/viewvc/mediawiki/trunk/phase3/includes/DateFormatter.php">http://svn.wikimedia.org/viewvc/mediawiki/trunk/phase3/includes/DateFormatter.php</a> 
   which is called from Parser.php in the same directory.

   NB: the DateFormatter() is only called when $wgUseDynamicDates is set to 'true'. I don't think
   this option is enabled by default. 

3. People (me included) have also asked that the &quot;default&quot; be more human-friendly than ISO 8601.

   The easiest way to do this would be to change the way DateFormatter.reformat()
   deals with &quot;no preferred date format&quot; (i.e. $preference is set to, or defaults to self::NONE);
   For example, it could default to the same date format as used on talk pages.
   There are of course more complex solutions possible, including:
   b) passing a new localsettings parameter to the DateFormatter.reformat() which would be the 
      override value when $preference is/becomes self::NONE.
   b) inferring a default date format from the server's language code ($wgLanguageCode) and 
      $wgAmericanDates when the language code is English.

<span class="quote">&gt; At some stage, we need to establish a time-line and/or bring to a head what is
&gt; to be done. </span >

Point #1 should never be instituted, and (presumably) the reason why this bug was once 
         closed as WONTFIX.
Point #2 can't be implemented on the server side because then dates that *really* need 
         linking wouldn't be linked either!
Point #3 if I'm reading the source right, this could be implemented without major issues, 
         but nobody really cares. ;)

Point #2 can really only be dealt with by a site-specific formal ruling to inhibit 
unnecessary date linking and (optionally) disabling $wgUseDynamicDates for .en. Turning 
existing overlinking into normal strings can be delegated to a bot.

</pre>
    </div><div id="c100" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c100">Comment 100</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-11 03:34:31 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c99">comment #99</a>)
<span class="quote">&gt; 1. The description of this bug report is 'Provide preference-based
&gt; autoformatting for unlinked dated'.
&gt;    In other words, the person _wants_dates_to_be_identified_by_pattern_, and
&gt; not 
&gt;    by [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] or &lt;date&gt;&lt;/date&gt; or whatever.</span >

No.  The original request, and the thing that is most hated by everyone, is the fact that localization depends on *linking* the dates.  The link syntax is overloaded.  That's what this bug is supposed to get rid of.

Finding dates by pattern is the best way to do this.  (Instead of adding yet another wiki syntax that will have to be wrapped around 99% of the dates in the entire encyclopedia.)  But apparently that's too hard or something.

So the compromise method is to pick just *one* pattern and localize dates that fall into that pattern.  ISO is already recommended against in text, is designed to be machine-readable, and is unambiguous, so it should be used as the pattern to match.  Dates written in ISO in the article source will be localized to the user's preferred format, while regular written-out dates (used in quotations or whatever) will be untouched.

I've written up a better description here:

<a href="http://en.wikipedia.org/wiki/User:Omegatron/Date_formatting">http://en.wikipedia.org/wiki/User:Omegatron/Date_formatting</a>

(Also see talk for discussion about guessing unregistered users' preferred format based on their browser's headers.)</pre>
    </div><div id="c101" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c101">Comment 101</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-11 08:01:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Omegatron, you don't seem to have realised that ISO 8601 is also, at least as far as editors are concerned, &quot;another wiki syntax that will have to be wrapped around 99% of the dates in the entire encyclopedia&quot;. All dates would have to be changed to either (i) dates in natural language with new markup round them or (ii) ISO format; and written in the corresponding way in future. I argued before that (i) is preferable because text transformations should be requested explicitly, but I also suspect more editors would prefer to write in style (i).

cyp, the original request says &quot;please create syntax for marking dates to be rendered subject to date preferences that does not overload the [[]] link syntax, adn does not create a link&quot;, which does not correspond to any of your #1, #2 and #3. It requests new markup for dates, and I still think this is the best approach.
</pre>
    </div><div id="c102" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c102">Comment 102</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-11 08:08:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Stephen, I'm one of those people who would prefer to write in style (ii). It's more easily internationalized that way. ISO 8601 is an international standard, after all. More markup is just more markup and makes things harder to type. The software is capable of regex matching of dates, and ISO 8601 is the most foolproof way to implement it. I'm against adding additional tags, but I don't like typing tags that the software I'm using (MediaWiki or otherwise) can insert for itself.</pre>
    </div><div id="c103" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c103">Comment 103</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-11 14:40:27 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I'm really pleased to see these ideas being debated. However, as a normal, non-technical user, I'm thoroughly confused (what is &quot;localising&quot;, for example?). 

As the original organiser of the 86-signature petition of Wikipedians asking for linking and autoformatting to be decoupled—or for ''something'' to be done to stop the blue—may I ask for the short-list of potential strategies/solutions to be stated as plainly and simply as possible? 

That is, something like this. 

Option 1: 
*what you key in
*how it will be displayed
*what is required technically/administratively to achieve it
*advantages
*disadvantages

 Option 2:
 ....

etc.</pre>
    </div><div id="c104" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c104">Comment 104</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-12 07:06:32 UTC
        </span>
      </div>



<pre class="bz_comment_text" >By the way, if you haven't seen it, here's the original petition of 88 Wikipedians from December 06. I'm sure it would multiply hyperbolically if restarted.

<a href="http://en.wikipedia.org/wiki/Wikipedia_talk:Manual_of_Style_%28dates_and_numbers%29/Archive_D1#A_new_parallel_syntax_for_autoformatting_dates">http://en.wikipedia.org/wiki/Wikipedia_talk:Manual_of_Style_%28dates_and_numbers%29/Archive_D1#A_new_parallel_syntax_for_autoformatting_dates</a>

Tony</pre>
    </div><div id="c105" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c105">Comment 105</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-15 03:41:41 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&#64;Omegatron, Stephen Turner: I evidently misunderstood what it was that the person who filed this bug wanted, which is (if I understand it now), formatting of date-like thingies without these also being links.

One simple solution:
The parser functions already have a #time function that allows dates to be reformatted. Whats missing is the means for it to obtain the user's date preference. Either...
1. add a {{DATEPREF}} magic word, which would be #switch-adjusted for a call to #time
2. adjust #time, so that calling it with a null first argument causes it to use user preferences.
In either case, wiki installations could then have a {{date|dateish-value}} template that wraps the back-end and that then displays a dateish-value as a formatted date. Option #1 is preferable because its more flexible.

Getting real:
* the vast majority of people actually *reading* articles are anonymous users for whom dates are not reformatted. 
* ISO dates (where such a function would actually be quite useful) do not typically appear in article space; dates like &quot;January 14, 2008&quot; are far more common. The ISO dates also remain unformatted for anon readers.
* is '14 January 2008' really more readable than 'January 14, 2008'?
* it does not solve the over-the-top zeal with which dates are being linked.
</pre>
    </div><div id="c106" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c106">Comment 106</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-15 08:14:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Thanks for your reply, cyp. I'd just like to comment on your last two bullet points.

'14 January 2008' and 'January 14, 2008' are equally readable, but if we follow that argument to its conclusion, why have date preferences at all? Actually, abolishing date preferences is maybe another solution to the problem, but while we have them we need a way to invoke them without also linking.

On zeal: I think it does solve it, or at least permits it to be solved. There are several overlapping factors here. (1) I think there has been a cultural shift over the years to link less. My understanding is that before my time there was a general assumption that every year number should be linked. Now, although there are differences of opinion, more editors are inclined to regard those links as useless clutter. (2) Users are encouraged in the Manual of Style to link full dates (day-month or day-month-year) to make date preferences work. The proposed change in this bug would make that unnecessary. No doubt it would take some time for existing users to be educated and for new users not to see so many examples and copy them, but it would happen. (3) It would also help with overlinking bare years, or months and years, because many new and intermediate users don't understand that there is no autoformatting gain to linking these and assume that they all have to be linked too.
</pre>
    </div><div id="c107" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c107">Comment 107</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-15 14:41:44 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c105">comment #105</a>)
<span class="quote">&gt; In either case, wiki installations could then have a {{date|dateish-value}}
&gt; template that wraps the back-end</span >

So it would be like this?

&quot;'''George Washington''' ({{date|February 22, 1732}} – {{date|December 14, 1799}}) was a central, critical figure in the founding of the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=United%20States">United States</a>]].  He was born on {{date|February 22, 1732}} ({{date|February 11, 1731}}, [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Old%20Style%20and%20New%20Style%20dates">Old Style and New Style dates</a>|O.S.]])...&quot;

How would you link the dates that *should* be linked?  Would it handle ranges?

<span class="quote">&gt; * ISO dates (where such a function would actually be quite useful) do not
&gt; typically appear in article space; dates like &quot;January 14, 2008&quot; are far more
&gt; common. The ISO dates also remain unformatted for anon readers.</span >

Default formatting for unregistered users would be &quot;14 January 2008&quot;, and would be surrounded by a css class so that it could be further manipulated by javascript if desired (something in Common.js).  Then the servers only need to cache one version of each page.  See the discussions:

<a href="http://en.wikipedia.org/wiki/User_talk:Omegatron/Date_formatting#Good_idea">http://en.wikipedia.org/wiki/User_talk:Omegatron/Date_formatting#Good_idea</a></pre>
    </div><div id="c108" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c108">Comment 108</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-16 03:06:50 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c106">comment #106</a>)
<span class="quote">&gt; if we follow that argument to its conclusion, why have date preferences at all? </span >

To misquote Tennyson,... not ours to reason why, ours but to do and sigh. :)
Some scheme is necessary to determine how dates are to be formatted. I see the user-pref as an extension of that, albeit an incomplete one since the default is not in a natural language.

<span class="quote">&gt; On zeal: I think it does solve it, or at least permits it to be solved. </span >

Good point. Yes, an alternative would mitigate the present need to link.

</pre>
    </div><div id="c109" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c109">Comment 109</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-16 03:09:53 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c107">comment #107</a>)
<span class="quote">&gt; So it would be like this?
&gt; 
&gt; &quot;'''George Washington''' ({{date|February 22, 1732}} – {{date|December 14,
&gt; 1799}}) was a central </span >

yes. In much the same way as one today would write
  [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=February%2022">February 22</a>]], [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=1732">1732</a>]] – [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=December%2014">December 14</a>]], [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=1799">1799</a>]]
or 
  [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=1732-02-22">1732-02-22</a>]] – [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=1799-12-14">1799-12-14</a>]] 
or whatever, with the result being the same, but sans linkage.

(NB: #time presently depends on php's own date() function, which can't deal with dates before 1970 and after 2038. This can be solved in much the same way that DateFormatter.php deals with the problem)

<span class="quote">&gt; How would you link the dates that *should* be linked?  </span >

The alternative wouldn't affect existing $wgUseDynamicDates functionality, so [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] syntax would still work for users with a date preference.

Ideally, the alternative {{date}} would (in contrast to dynamic dates) also have a human-friendly default, so it may be useful to have an alternate &quot;with links&quot; template (say {{ldate}}) that would always generate a human-friendly result even though $wgUseDynamicDates would not. Its just a matter of semantics, e.g. {{#time: F j, Y|2008-01-15}} versus {{#time: [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=F%20j">F j</a>]], [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Y">Y</a>]]|2008-01-15}}

Also, with the presently enabled features on the server side, there is no functionality on the local installations for a template to determine whether there is a year present or not, and thus the basic {{date}} would not be able to be able to deal with dates that have no year value; &quot;{{date|January 15}}&quot; would return a wrong result. Thus, there would have to be other templates to deal with such values anyway. Again, its just a matter of semantics. e.g. Some front-end template calling a back-end core template with {{date/core|January 15|1985|linkage=no|canonical=no}} or whatever.

<span class="quote">&gt; Would it handle ranges?</span >

No. And it shouldn't. One tool, one job.
 
<span class="quote">&gt; Default formatting for unregistered users would be &quot;14 January 2008&quot;, and would
&gt; be surrounded by a css class so that it could be further manipulated by
&gt; javascript if desired (something in Common.js).  </span >

Thats a good idea. {{date|whatever}} would then just read 
 &lt;span name=&quot;wpAutoDate&quot;&gt;{{{1|{{CURRENTMONTHNAME}} {{CURRENTDAY2}}, {{CURRENTYEAR}}}}}&lt;/span&gt;
Javascript would do the rest. 

This could even be implemented right now, with the preferred date format eventually being passed in a 'var wgUserDateformat' (as is already done for wgUserName, wgContentLanguage etc).

There are a few pitfalls that need to be navigated around, but the idea is good. It will need be very carefully written in order to not be rejected as mis-usable. It could also end up being fairly long. But the advantages would definitely outweigh the disadvantages.
</pre>
    </div><div id="c110" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c110">Comment 110</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-16 10:51:09 UTC
        </span>
      </div>



<pre class="bz_comment_text" >In reply to Stephen Turner: yep, abolishing date autoformatting (or at least making it optional) is a trigger waiting to be pulled at MOSNUM. The two main formats are equally readable, and frankly, I'd much rather read the one I don't use—in normal black text—than a blue splotch. 

But it the kind folks here can decide on a way to fix the bug, we'd all be fine about keeping it. 

Tony</pre>
    </div><div id="c111" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c111">Comment 111</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-16 14:49:55 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c109">comment #109</a>)
<span class="quote">&gt; there is a year present or not, and thus the basic {{date}} would not be able
&gt; to be able to deal with dates that have no year value; &quot;{{date|January 15}}&quot;</span >

So there would be a syntax for full dates, a different one for month-day dates, a different one for human-friendly defaults, and a completely different one for linked dates?

<span class="quote">&gt; &gt; Would it handle ranges?
&gt; 
&gt; No. And it shouldn't. One tool, one job.</span >

Date ranges should be formatted, too.  &quot;5–7 January 1979&quot; vs &quot;January 5–7, 1979&quot;.  Would there be another template for ranges?

What advantages would this have over the ISO proposal?

&quot;'''George Washington''' (1732-02-22/1799-12-14) was a central, critical figure in the founding of the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=United%0AStates">United
States</a>]].  He was born on 1732-02-22 (1731-02-11, [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Old%20Style%20and%20New%20Style%20dates">Old Style and New Style dates</a>|O.S.]])...&quot;

<span class="quote">&gt; &gt; Default formatting for unregistered users would be &quot;14 January 2008&quot;, and would
&gt; &gt; be surrounded by a css class so that it could be further manipulated by
&gt; &gt; javascript if desired (something in Common.js).  
&gt; 
&gt; Thats a good idea.</span >

Ok.  (Moved to <a href="http://en.wikipedia.org/wiki/User:Omegatron/Date_formatting#Proposal_for_defaults">http://en.wikipedia.org/wiki/User:Omegatron/Date_formatting#Proposal_for_defaults</a>)</pre>
    </div><div id="c112" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c112">Comment 112</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-16 18:34:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=4582#c109">comment #109</a>)
&gt; So there would be a syntax for full dates, a different one for month-day dates,
&gt; a different one for human-friendly defaults, and a completely different one for
&gt; linked dates?</span >

Without any extra mustard that regular [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] wouldn't give you either, you'd need only 1 template. For linkage functionality, which is not what this bug is asking for, you'd need another (and/or an additional parameter for the first). Irrespective of the number, the result is always human friendly.

As I said before, its only a matter of semantics. The number of functions you want is both directly proportionate to complexity and is inversely proportional to its ease of use. 

<span class="quote">&gt; Date ranges should be formatted, too.  &quot;5–7 January 1979&quot; vs &quot;January 5–7,
&gt; 1979&quot;.</span >

Whats wrong with '5 January—7 January 1979'? Will you want '30 January—1 February 1979' and '30 December 1978—1 January 1979' to be handled too? What about '10 BC—10 AD'? How about ranges with &quot;to&quot;? Or &quot;about&quot;, &quot;mid&quot;, &quot;early&quot;, &quot;late&quot; qualifiers?

<span class="quote">&gt; Would there be another template for ranges?</span >

That depends on the degree of complexity that you are willing to impose on the editor, and the threshold of acceptance for the increased complexity of the code. *Technically* there is no need for more than one template for *everything*.

Don't buy a cow if you're expecting eggs or wool.
</pre>
    </div><div id="c113" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c113">Comment 113</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-16 18:42:00 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Regarding some of the recent discussion, I would oppose any changes that would make the core feature complex enough to require a wrapper template...</pre>
    </div><div id="c114" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c114">Comment 114</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ross Patterson</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-19 19:45:56 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c110">comment #110</a>)
<span class="quote">&gt; In reply to Stephen Turner: yep, abolishing date autoformatting (or at least
&gt; making it optional) is a trigger waiting to be pulled at MOSNUM.</span >

Lest anyone read Tony's statement as &quot;MOSNUM will soon be anti-date-formatting&quot;, it's actually a matter of quite a bit of argument, and there's currently no obvious end result.  It may happen, but it also may not.

en:User:RossPatterson</pre>
    </div><div id="c115" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c115">Comment 115</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-20 11:50:16 UTC
        </span>
      </div>



<pre class="bz_comment_text" >That's true; so let's do something about it here and everyone will be relieved.

Tony


</pre>
    </div><div id="c116" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c116">Comment 116</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-23 08:35:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >People at WP have been asking for a synopsis of what has been decided on this page, and in one case specifically for &quot;some conclusion on what syntax/code/markup has been decided, and who if anyone has written code to implement it&quot;. 

I wonder whether we're in a position to provide this information; I lack the technical skills to do so. 

en:User:Tony1</pre>
    </div><div id="c117" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c117">Comment 117</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-23 13:07:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c116">comment #116</a>)
<span class="quote">&gt; People at WP have been asking for a synopsis of what has been decided on this
&gt; page, and in one case specifically for &quot;some conclusion on what
&gt; syntax/code/markup has been decided, and who if anyone has written code to
&gt; implement it&quot;.</span >

I don't think anything has been decided.  Where are they asking?  They can read the bug report and comment on it themselves, can't they?</pre>
    </div><div id="c118" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c118">Comment 118</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-23 13:47:28 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The impression formed by the most recent correspondent, on my talk page, is that &quot;Discussion is all over the place, and I'm looking for a synopsis&quot;. Like other Wikipedians, this correspondent appears to be keen for progress here; he probably wonders where to start to contribute.

I wonder whether the discussion has raised several possible solutions that can be summarised—along with the perceived advantages and disadvantages of each—by someone who has the skills. Then we might set about deciding on a definitive option, and how it might be pursued. 

I'd be pleased to see the easiest technical solution at the moment—anything to remove the blue splotches.</pre>
    </div><div id="c119" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c119">Comment 119</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-23 13:57:30 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c118">comment #118</a>)
<span class="quote">&gt; I'd be pleased to see the easiest technical solution at the moment—anything
&gt; to remove the blue splotches.</span >

Long-term usefulness is more important than urgently getting rid of something that has been there for years anyway.  Let's think carefully about what we *really* want it to do.  Implementing the dynamic date feature without predicting the long-term consequences of linking every date was what caused this problem in the first place, no?  The people clamoring to get rid of these ugly blue splotches ASAP need to relax; a technical solution will be implemented eventually.  They can help decide *which* technical solution to go forward with instead of arguing about style guidelines that will be rendered moot by it anyway.</pre>
    </div><div id="c120" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c120">Comment 120</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-23 14:14:54 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Thanks very much, but I won't &quot;relax&quot;, as you put it, until something is done about it. This issue has been here for more than a year now—I don't call that &quot;clamouring&quot; or &quot;ASAP&quot;. How long this sad function has been inflicted on us has no relevance at all. If it had been implemented last week, the need to address its deficiencies would be just as great. The lack of impetus on this page is what concerns me, and others at WP.</pre>
    </div><div id="c121" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c121">Comment 121</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ryan Kaldari</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-28 16:05:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >We have a problem on the English Wikipedia. Template Citation pulls in accessdates without wikilinking them, while Cite News, Cite Web, etc, wikilink the date when it is pulled in. Thus editors have to remember to use unlinked ISO dates for Cite web, Cite news, etc. but have to remember to use a wikilinked regular date for Citation. The fact that these two sets of templates aren't consistent is ridiculous, but neither is willing to change as it would break thousands of articles if either changes to the other convention. I tried to get Citation to switch to using the unlinked ISO convention (that gets converted by the template), but the editors there said there was no reason to force the change since this bug is supposed to be fixed soon (in a matter of weeks they claim). Reading through the comments here, I'm only more confused as to the status of this bug. What is the status, and when is the expected implementation date, if any?</pre>
    </div><div id="c122" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c122">Comment 122</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-28 16:17:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c121">comment #121</a>)
<span class="quote">&gt; Reading through the comments here, I'm only more confused as
&gt; to the status of this bug. What is the status, and when is the expected
&gt; implementation date, if any?</span >

Who said a few weeks?  Who's going to write it?  Can't you switch to the unlinked ISO date to make all the templates consistent and then have a bot fix them?</pre>
    </div><div id="c123" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c123">Comment 123</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-28 16:40:07 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c122">comment #122</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=4582#c121">comment #121</a>)
&gt; &gt; Reading through the comments here, I'm only more confused as
&gt; &gt; to the status of this bug. What is the status, and when is the expected
&gt; &gt; implementation date, if any?
&gt; 
&gt; Who said a few weeks?  Who's going to write it?  Can't you switch to the
&gt; unlinked ISO date to make all the templates consistent and then have a bot fix
&gt; them?
&gt; </span >

I don't know how many pages use {{citation}} -- I've only come across {{cite stuff}} templates in the wild myself. Perhaps the number is small enough to recruit a small number of AWB users and have them do a mass fix run right after the template is changed.</pre>
    </div><div id="c124" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c124">Comment 124</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ryan Kaldari</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-01-28 17:24:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Fullstop says he's working on it so maybe he has something up his sleeves. In the meantime, I've changed the Citation template to format the accessdate with the date template. It's not an ideal solution, but I guess it will work until we can get a bot lined up to do a mass-conversion.</pre>
    </div><div id="c125" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c125">Comment 125</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-02-15 15:38:27 UTC
        </span>
      </div>



<pre class="bz_comment_text" >A Javascript-based solution for this issue is at
   <a href="http://en.wikipedia.org/wiki/User:Fullstop/autodate.js">http://en.wikipedia.org/wiki/User:Fullstop/autodate.js</a>

en.wiki users can add
   importScript('User:Fullstop/autodate.js');
to their monobook.js. 

Dates tagged with {{date|...some date...}} will be automagically converted. 
To tag dates manually, use &lt;span class=&quot;wpAutoDate&quot;&gt;...some date...&lt;/span&gt;

Documentation is in <a href="http://en.wikipedia.org/wiki/User:Fullstop/autodate.js">http://en.wikipedia.org/wiki/User:Fullstop/autodate.js</a> itself.

Have fun. :)

ps: Let me know of any interest in a test-case generator written to stress autodate.
</pre>
    </div><div id="c126" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c126">Comment 126</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-02-15 17:08:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >That script looks interesting, but it doesn't solve the problem for unregistered users or users who don't install the script. Even if it's installed in the site JS, it still leaves out non-JavaScript browsers. I'm considering putting it in my monobook.js, but I don't think it's more than a workaround for this bug.</pre>
    </div><div id="c127" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c127">Comment 127</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-02-15 23:43:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c126">comment #126</a>)
<span class="quote">&gt; That script looks interesting, but it doesn't solve the problem for
&gt; unregistered users or users who don't install the script. Even if it's
&gt; installed in the site JS, it still leaves out non-JavaScript browsers. </span >

1. Amazing but true, its not a solution for world hunger either.
2. Its /meant/ to run as site JS. How could anyone even think otherwise?

And at the risk of disillusioning you further, client-side scripting is also the only solution for whatever it is you think this bug is about. 

That is because -- with the exception of minimal phase3 stuff (i.e. [...]/[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=...">...</a>]] translation, which includes DateFormatter.php stuff) -- articles are not rewritten on the way from the cache to the client. No templates, no custom &lt;time&gt;&lt;/time&gt;, whatever. All that was processed at the time of last save; its all cached and is all end-user independent.

Autodate.js is also the only solution that (were it in site JS) would work correctly for unregistered users. Actually, as long as the script is _not_ site JS (and as long as the server does not emit a wgUserDateFormat variable), the script also cannot infer a registered user's date pref. Meaning: at present (as long as its not site JS), the script treats an registered user in the same way it would an unregistered one. Of course, I have a solution for that too, but I'm not going to implement it; because the whole point is that the script is /meant/ to be running as site JS. (oh duh!)

But all that aside, if anyone thinks there is a perfect solution to this problem, perhaps even with real working code and not just empty talk, then for heaven's sake lets hear/see it. Until then, how about some /practical/ feedback? Something actually *useful* would be nice.
</pre>
    </div><div id="c128" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c128">Comment 128</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-02-16 00:15:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c127">comment #127</a>)

<span class="quote">&gt; Autodate.js is also the only solution that (were it in site JS) would work
&gt; correctly for unregistered users. Actually, as long as the script is _not_ site
&gt; JS (and as long as the server does not emit a wgUserDateFormat variable), the
&gt; script also cannot infer a registered user's date pref. Meaning: at present (as
&gt; long as its not site JS), the script treats an registered user in the same way
&gt; it would an unregistered one. Of course, I have a solution for that too, but
&gt; I'm not going to implement it; because the whole point is that the script is
&gt; /meant/ to be running as site JS. (oh duh!)</span >

Did you read <a href="http://en.wikipedia.org/wiki/User:Omegatron/Date_formatting#Proposal_for_defaults">http://en.wikipedia.org/wiki/User:Omegatron/Date_formatting#Proposal_for_defaults</a> ?</pre>
    </div><div id="c129" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c129">Comment 129</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-02-16 10:07:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; Did you read
&gt; <a href="http://en.wikipedia.org/wiki/User:Omegatron/Date_formatting#Proposal_for_defaults">http://en.wikipedia.org/wiki/User:Omegatron/Date_formatting#Proposal_for_defaults</a>
&gt; ?</span >

What exactly is it that you're trying to say? Yes, I've read #Proposal_for_defaults. But what does that have to do with the text that you're quoting? 

As you might infer from the autodate documentation, the script effectively does what is described in that proposal. As such, you could consider autodate to be the proof-of-concept that your proposal is (fundamentally) sound.

Incidentally, the {{date|...}} template (which adds the &lt;span class=...&gt; tags that autodate.js sees) pre-formats dates as 'dmy' (aka &quot;RFC 2822&quot;) dates. That is then what a user who does not have JS enabled (or is not running the script) will see.
</pre>
    </div><div id="c130" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c130">Comment 130</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Schilling</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-07-10 03:05:03 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I feel strongly that defaults for un-logged-in users can be based upon their
browser's language and locale settings.  That's what those settings are there for!
I've worked on I18N/L10N projects that did this, and it's the standard way that
a lot of e.g. Java server-side webpage software is set up to operate.

This change could be made *now*, independently of decoupling date autoformatting
from the link syntax.  It would let a lot of unregistered users see dates, 
especially in Wikipedia citations, in their native format rather than ISO format.</pre>
    </div><div id="c131" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c131">Comment 131</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-07-10 09:08:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Well, the horse has bolted, I think. Over the past year, date autoformatting has gone from being mandatory to being no longer encouraged at Wikipedia's MOSNUM style guide. The problem with Jonathon's suggestion is that there are multiple issues: the fact that it's a self-indulgent in-house-only facility (our readers put up with the strange bright-bluing of dates and wonder why, since they see the raw format, often inconsistent within articles); and of course it's STILL tangled up with the linking mechanism, despite our huge petition more than a year ago.

I wouldn't hold my breath for any technical changes given our experience, and I firmly believe that we're better off without autoformatting. Heck, we've been managing very well with different varieties of English spelling, as long as consistent within each article: who CARES whether day or month comes first in a date? It's piffle.

The only thing to happen now is for the practice of not autoformatting to filter through properly to WPians.

Tony</pre>
    </div><div id="c132" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c132">Comment 132</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Schilling</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-07-10 12:15:03 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I'm not arguing for autoformatting, I don't mind seeing it go either.

But the fact remains that there are zillions of autoformatted dates
currently in WP articles.  Until they all disappear, a simple technical
change can render them more reasonably to not-logged-in readers.  This is
especially the case for dates in cite template usages, which will likely
be the last to be un-autoformatted and where not-logged-in readers currently 
see most of them in raw, unfriendly technical ISO format.</pre>
    </div><div id="c133" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c133">Comment 133</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-03 19:25:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=5281" name="attach_5281" title="diff -u for includes/DateFormatter.php">attachment 5281</a> <a href="attachment.cgi?id=5281&amp;action=edit" title="diff -u for includes/DateFormatter.php">[details]</a></span>
diff -u for includes/DateFormatter.php

This patch implements auto-formatting for non-wikilinked dates.</pre>
    </div><div id="c134" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c134">Comment 134</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-04 01:44:11 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Thanks, but I have to rain on that parade now. First, as most correspondents here probably know, date autoformatting (DA) is now deprecated by the Manual of Style. One of the key reasons is that we now realise it is inherently bad for editors not to see the dates that our IP readers see. A large-scale audit of dates in general WIkipedia articles—in which DA is removed, ''inter alia''— is revealing autoformatting to be a major source of date-mess in our articles; this applies even to WP's most popular articles. It's easy to see why we have been performing so poorly in this respect: a British editor comes along to the article on J. F. Kennedy, for example, and adds a few dates in international format, forgetting that the international format s/he is viewing in the article is not the real, underlying format. So we have three or four international dates among many US formatted dates—this in an article that couldn't be more American if you tried. Because most editors haven't yet switched their prefs to &quot;no preference&quot;—something all serious contributors should do forthwith—these inconsistencies remain, viewed by our readers.

Here's the breakdown (in parentheses) from the auditing of a sample of 71 such articles (with my prior off-the-cuff estimations in square brackets, out of interest): 
#a small proportion of dates in the &quot;other&quot; format (36.6% of the 71 audited articles) [40%];
#a messy mixing of the formats, where the correct format can be determined via MOSNUM's rules (8.5%) [10%];
#a messy mixing of the formats, where the correct format needs further input by local editors (I don't see it as my job to go back to the first date that appeared in the article—I typically leave a note at the talk page, asking them to buzz me if they need further assistance) (8.5%) [5%];
#the completely wrong date format (e.g., US dates for an Irish rock group) (5%) [fewer than 5%]
#all correct (~ 40%) [40.8%]. 

Within the first four categories, six articles contained faulty dates (&quot;th&quot;, weird order or syntax, etc).

It's a no-brainer that keeping our dates under good management is going to improve markedly as we move on from the DA period, apart from all of the other benefits of removing DA. So as much as I admire the motivation behind Bill's creation of a patch, using it will simply retain a major impediment to the good management of dates in WP articles. 

Tony</pre>
    </div><div id="c135" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c135">Comment 135</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-04 02:17:45 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c134">comment #134</a>)
<span class="quote">&gt; Thanks, but I have to rain on that parade now. First, as most correspondents
&gt; here probably know, date autoformatting (DA) is now deprecated by the Manual of
&gt; Style.</span >

You mean linking dates.  The software should autoformat dates without links, so that they are always consistent for viewers, whether logged in or not.</pre>
    </div><div id="c136" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c136">Comment 136</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-04 06:03:00 UTC
        </span>
      </div>



<pre class="bz_comment_text" >As long as it results in people moving away from linking dates for no *article*-meaningful reason, then great.  I can't believe its taken this long to get there.</pre>
    </div><div id="c137" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c137">Comment 137</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ryan Kaldari</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-04 15:44:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I think you've convinced me Tony. Is there a bug for removing Auto-formatting entirely?</pre>
    </div><div id="c138" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c138">Comment 138</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-04 16:12:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" >By all means, Ryan. The instructions for installation and usage are here:

<a href="http://en.wikipedia.org/wiki/User_talk:Tony1#More_on_date_formatting">http://en.wikipedia.org/wiki/User_talk:Tony1#More_on_date_formatting</a>

User Lightmouse, the author, has a page for feedback, a wishlist, and a register for any technical issues you uncover, here:

<a href="http://en.wikipedia.org/wiki/User:Lightmouse/wishlist">http://en.wikipedia.org/wiki/User:Lightmouse/wishlist</a>

Tony</pre>
    </div><div id="c139" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c139">Comment 139</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerry Ashton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-04 17:39:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >1. Bill Clark's patch should be much better documented before it is given serious consideration.

2. I think Tony Souter misunderstood Ryan Kaldari's question. I think Ryan asked if there is a request for a mediawiki change that would entirely eliminate Auto-formatting, so that if the software encountered [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=4%20September">4 September</a>]] [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2008">2008</a>]] it would treat it as a link to the article 4 September, a link to the article 2008, and nothing more. The concept that the order of the elements might be changed would be removed from the software. The Date Format box on the Date and time tab of User preferences would disappear, or would only apply to system-generated timestamps such as the time edits were performed. Right?</pre>
    </div><div id="c140" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c140">Comment 140</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-04 17:45:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >You mean as though all WPians had chosen &quot;no preference&quot; in their date-format prefs ... That's what we advise they do already. I can see no point in that proposal, if it's really what Ryan meant. </pre>
    </div><div id="c141" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c141">Comment 141</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-04 19:37:14 UTC
        </span>
      </div>



<pre class="bz_comment_text" >If it's decided upon that autoformatting should be turned off (and there's no consensus for this on WP) then it's a one-line change to the configuration file in MediaWiki.  If official policy is to effectively disable autoformatting, by either unlinking nearly all dates or by having all registered users specify &quot;No preference&quot; then it would be far better to disable the function entirely in the parser.  I don't understand the point about documentation; I didn't add any new code, just some extra variable definitions that are just as obvious in their meaning as the other, similarly undocumented ones already there.

NOTE: This patch should NOT be applied without additional discussion on WP.  If and when it is applied, it will cause all unlinked dates to be autoformatted, unless they are surrounded by a &amp;lt;nowiki&gt; tag.  Dates that have been intentionally left unlinked (such as those in quotes, etc.) will need to have the &amp;lt;nowiki&gt; tag wrapped around them, prior to this patch being applied.</pre>
    </div><div id="c142" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c142">Comment 142</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 02:32:57 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&#64;Jonathan Schilling:

I have working Javascript that will set a datepref cookie whose value is inferred from browser locale/time settings. The cookie's values are the same as those DateFormatter.php uses, i.e. 'mdy'/'dmy'/'ymd'/'ISO 8601'.  

But its a chicken-egg/bureaucratic problem. If DateFormatter.php doesn't support such a cookie, then wikis won't implement such a Javascript function. And vice-versa.

&#64;Bill Clark: 

as you already seem to be aware ;), causing unlinked dates to be autoformatted is not such a GoodThing. But you can avoid that with a twist to the tale:  make the *existing* [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] syntax reformat dates *without* links. And make [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A%20">: </a>]] reformat dates *with* links (':' because dates are in main namespace). Yes, it perverts [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] syntax a bit, but date formatting is perverted to begin with and I don't suppose it would cause any serious disruption.


</pre>
    </div><div id="c143" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c143">Comment 143</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 02:47:43 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Guys, I appreciate your technical expertise, don't get me wrong; two and a half years ago, I'd have been delighted to have received your input. But by now the WP community has moved on, having realised the disadvantages in trying to solve a non-problem with hi-tech, no matter how &quot;simple&quot; these proposed programming solutions might seem. 

As much as this must seem like &quot;looking a gift horse in the mouth&quot;, I have to say that the horse has bolted and is off to better grasslands. No one here has presented an argument that month or date first really matters in the first place. WPians have reacted positively, in many cases enthusiastically, to the removal of DA, and now we'd like to get on with WYKIWYG (What You Key in Is What You Get). I think they wouldn't react positively to another round of tech solutions. For what?

If the move to get rid of DA had happened overnight, it might be different. But it's steadily evolved over the past two years and more, from mandatory to optional and now to deprecated. During this period, it has been debated extensively (what you see on this page is a mere iceberg tip).

Thanks for your efforts, but they don't seem to be at all relevant now. Issue sorted. 

Tony</pre>
    </div><div id="c144" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c144">Comment 144</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 07:38:37 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Tony, you seem to think that all the people tracking this bug are DA fans. You need to remember that this is a *bug* report, and the problem is [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=autoformatting">autoformatting</a>]], which is either enabled or disabled, and having it enabled is not a bug per se. So really all anyone can do is ask to get rid of its most painful aspects. That way, those /other fellows/ who like DA can have their damned DA, and everyone else can preserve their sanity. 

So, (for me at least) its an issue of finding an option to give the DA fans so that they don't get on my nerves. This bug report was (as I see it) another way to make DAs irrelevant, and I'd like to think that many of the people think like me and voted for deprecation. :)

But you can come down from your high horse even if I'm wrong. :) Deprecating DAs hasn't really changed anything. [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=autoformatting">autoformatting</a>]] is still enabled. A bazillion articles still have ADs by the score. Mix-and-match still abounds. Everyone still has to deal with the bluelink blizzard. IPs still get to see gobbledygook.

Its great that a resolution has be found on the MOS front. But the battle to get rid of DAs altogether has not yet been won. Until then, don't rest on your laurels, and don't underestimate the resistance. Until/unless you have an alternative to appease the DA fans /and/ a fix (alas, tech!) for existing DAs, there is no way you (or I or anyone else) will find consensus at WP:VPR/WP:VPT to turn off autoformatting.
</pre>
    </div><div id="c145" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c145">Comment 145</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 15:26:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Count me as one of the DA fans.  I much prefer it to the alternative, which would be a return to the bad old days of editors arguing over date formats.  There's some work going on with the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Wikipedia%3AWikiProject%20Dates">Wikipedia:WikiProject Dates</a>|Dates WikiProject]] to compile statistics on just how many articles have mix-and-match formatting, linked dates, unlinked dates, etc.  From there we can hopefully make some progress on cleanup -- which I agree needs to be done, whether or not we keep DA.

Tony, I wish you'd stop with your anti-tech comments.  Within hours of your pointing out this bug to me, I provided a working patch.  Then I created a WikiProject to deal with the cleanup issue.  I also enlisted the aid of the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Wikipedia%3AWikiProject%20Database%20Analysis">Wikipedia:WikiProject Database Analysis</a>|Database Analysis WikiProject]] to generate some useful statistics (though in retrospect some of those people seem to be a bit nuts... though that's just more evidence of the lack of consensus on this issue, I suppose.)  I'm putting some serious effort into dealing with this issue and reaching some kind of workable solution that satisfies everybody, not just the anti-DA crowd.  When you make disparaging remarks about the quality of the programming work done by me or anyone else, you're alienating people.

Also, this has been an issue for a lot longer than two years.  I remember arguments over date formatting back in 2003, and even earlier.  You are the one who is coming in at the &quot;tail end&quot; and missing out on all of the historical context.  The reluctance of the WikiMedia sysadmins to touch this issue stems from their experiences being burnt by this in the past.

I think we should focus our efforts on cleaning up the problems that everybody agrees are problems -- the mix-and-match articles, and those for which the default format are inappropriate.  That can be done without unlinking, and without pissing people off.  Once that's done, we can revisit the issue of DA.  Does that sound workable?

We should probably continue discussion of this on the talk page for the Dates WikiProject, since it has now gone well beyond the scope of this bug report.</pre>
    </div><div id="c146" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c146">Comment 146</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerry Ashton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 17:08:56 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Requirement:
Considering that <a href="http://meta.wikimedia.org/wiki/Help:Date_formatting_and_linking">http://meta.wikimedia.org/wiki/Help:Date_formatting_and_linking</a> seems to be an official statement that the all-numeric date/time format for the wikimedia software is ISO 8601, and

Considering that section 4.1.2.1 of ISO 8601:2000 provides 

   calendar year is, unless specified otherwise, represented
   by four digits. Calendar years are numbered in
   ascending order according to the Gregorian calendar
   by values in the range [0000] to [9999]. Values in
   the range [0000] through [1582] shall only be used
   by mutual agreement of the partners in information
   interchange.

Considering that the partners in information in interchange for Wikipedias in various languages are the editors and the readers, and it is not feasible to reach a mutual agreement amongst the readers and editors to use years with 5 or more digits, or to use years in the range [0000] through [1582],

Therefore, let y be the year. The autoformatting software shall only act upon dates that meet the requirement 1583&lt;= y &lt;= 9999 an none others.</pre>
    </div><div id="c147" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c147">Comment 147</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 17:22:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&quot;The autoformatting software shall only act upon dates that meet the requirement 1583&lt;= y &lt;= 9999 an none others.&quot;

No, that's too confusing.  Just remove references to ISO 8601 in the documentation, since the vast majority of readers don't understand the implications of Gregorian/Julian calendar choice anyway.  Formatting dates as YYYY-MM-DD has a long tradition independent of ISO, and most readers assume &quot;1008-03-15&quot; and &quot;15 March, 1008&quot; are the same date.  Prohibiting the first format isn't going to make things any better, because most people will still assume that &quot;15 March, 1008&quot; occurred exactly 1000 years prior to &quot;15 March, 2008&quot; anyway.  Despite what ISO 8601 says, most readers do not assume that the choice of date format has any implication with regards to the calendar being used.</pre>
    </div><div id="c148" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c148">Comment 148</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerry Ashton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 17:43:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I should have narrowed my last sentence above to say:

Therefore, let y be the year. The autoformatting software shall not transform a date into or out of the ISO 8601 format unless 1583 &lt;= y &lt;= 9999.

I disbelieve that there is a long tradition of the format YYYY-MM-DD independent of ISO.

What is the proper forum to see binding arbitration?</pre>
    </div><div id="c149" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c149">Comment 149</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 18:41:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&#64;Gerry, nothing would be accomplished by such a restriction. There is no actual date manipulation behind the scenes, so a date that says 1500-01-01 will still come out January 1, 1500. That is to say, the choice of calendar/prolepsis lie with the person specifying the 1500-01-01 to begin with.

Also, ISO mandates that all year values must be at least 4 digits long, so effectively &quot;0009-10-11&quot; is just useful/useless as &quot;October 11, 9&quot;.

&#64;Bill, re your patch, see <a href="show_bug.cgi?id=4582#c61">comment #61</a>.</pre>
    </div><div id="c150" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c150">Comment 150</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 18:54:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=5292" name="attach_5292" title="Simpler patch, just eliminates links">attachment 5292</a> <a href="attachment.cgi?id=5292&amp;action=edit" title="Simpler patch, just eliminates links">[details]</a></span>
Simpler patch, just eliminates links

This is a simpler patch that preserves the normal functioning of autoformatting (dates must be linked to be autoformatted) but renders the dates WITHOUT LINKS.  If you want to link to a date, you can use the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A11%20September">:11 September</a>]] style (similar to how categories work) although that will not autoformat.</pre>
    </div><div id="c151" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c151">Comment 151</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 19:07:54 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Bill, that patch doesn't solve any of the relevant problems and will probably just compound them.  There is no point in having an autoformatting function that only works some of the time, and having link syntax overloaded to NOT LINK is going to confuse the heck out of a lot of editors.  The functions need to be completely decoupled. The fact that a very large number of dates will remain linked and not be autoformatted for some time is just something we'll have to live with for the short term, and bots can clean up most of it.  If someone wants to autoformat a date, there needs to be another syntax entirely for doing so, that can be used with intentional linking of dates in the rare cases where this is actually a good idea; the specifics don't matter too much to anyone, on either side, I don't think.</pre>
    </div><div id="c152" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c152">Comment 152</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 19:19:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The patch solves the problem of overlinking.  The syntax is exactly the same as with categories, and should be no more confusing than adding a page to a category vs. linking to a category.  It preserves the requirement that dates be specially marked up in order to be autoformatted.  The only drawback to the patch is that it won't preserve links to dates that were intentionally linked but not specially formatted (either with a &quot;:&quot; or a &quot;|&quot;) but since some editors are currently mass-unlinking articles without regard to the intentions of the original editors anyway, this patch is actually less disruptive than those activities.  I agree that a special syntax for dates would be preferable, but that would require changes to articles whereas this patch solves the biggest problem most people have with date autoformatting (overlinking) while requiring absolutely no changes to article text, except in those cases where a date was intentionally linked (which critics of date autoformatting are already disregarding anyway.)</pre>
    </div><div id="c153" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c153">Comment 153</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerry Ashton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 19:24:09 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Cypsy: That which cannot be done correctly should not be done at all. If the software cannot operate differently depending on the value of the year, any input date in the ISO 8601 format should be output with no changes, and the possibility of displaying dates in the ISO 8601 format should be removed altogether. This would leave the system to only reformat dates that contain a spelled-out month.</pre>
    </div><div id="c154" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c154">Comment 154</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 19:31:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Comment to Bill: No denigration of the tech work is intended on my part.  It is also cool to have a WikiProject for cleaning up the date mess at en.wikipedia.  WRT you and Tony:  That date issues have arisen as early as 2003 doesn't make the concerns raised by later editors invalid, and characterizing Tony as basically a noob on the issue doesn't fly, since MOS has been discussing this, and begging for a fix, for years, with Tony as a major participant.  So, rather than grouching at each other (Tony, this means you too!), focusing on fixing the problem at its source seems likely to be much more productive. :-)  That said, I don't have any objection to the new patch, on further thought, though I think it doesn't go far enough, and that having no connection between the link and autoformatting functions, by using separate syntaxes, should remain a goal.
</pre>
    </div><div id="c155" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c155">Comment 155</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-10 23:15:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=5311" name="attach_5311" title="Eliminates links, leaves date format untouched">attachment 5311</a> <a href="attachment.cgi?id=5311&amp;action=edit" title="Eliminates links, leaves date format untouched">[details]</a></span>
Eliminates links, leaves date format untouched

This patch will cause linked dates to be rendered without the link, and in the same format as they appear in the wikicode (although it will add missing commas where appropriate) -- in other words, this patch completely nullifies date autoformatting.  It is only intended for testing purposes, pending community approval of a proposal to temporarily disable date autoformatting to gauge editor response.</pre>
    </div><div id="c156" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c156">Comment 156</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-11 02:08:57 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Yes, and it will leave us with the maintenance problem: when WP's editors don't see the raw formatting in their display mode, they don't fix errors, they introduce NEW errors, and wrong global choices of formatting are left that way for years. The whole idea was hair-brained in the beginning.</pre>
    </div><div id="c157" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c157">Comment 157</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Richard Morris</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-23 23:44:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Is there any action on this bug. en.wikipedia is in quite a state of limbo at the moment. Some bots are going round delinking dates, and changing them to  ISO 8601 format which renders poorly for IP users. No one seems to really know what we should be doing and it all seems to hinge on resolution of this bug. 
See <a href="http://en.wikipedia.org/wiki/Template_talk:Citation#.22Wiki-magic.22.3F">http://en.wikipedia.org/wiki/Template_talk:Citation#.22Wiki-magic.22.3F</a>, <a href="http://en.wikipedia.org/wiki/Wikipedia_talk:Citation_templates#De-linking_dates">http://en.wikipedia.org/wiki/Wikipedia_talk:Citation_templates#De-linking_dates</a></pre>
    </div><div id="c158" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c158">Comment 158</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 02:03:32 UTC
        </span>
      </div>



<pre class="bz_comment_text" >To declare that the English WP is in &quot;a state of limbo&quot; skews the real state of affairs. It is well-known on this page that, finally, date autoformatting was strongly discouraged at the dates and numbers style guide MOSNUM, back in August. Since since, no surprisingly, there has been much removal of DA by scripts, bots and manually by editors, in what is a widely accepted change for the better.

There are some six disadvantages in the use of DA, and if anyone is interested, I can link them to a list and explanation. WP has moved on from what was its foolish adoption of a toy that would never work for readers—only for editors at WP. It has led to very poor management of date formatting, since editors can't see what their readers see (in display mode).

It is untrue to say that the removal of DA is rendering dates in ISO. ISO dates are not supposed to be used in running prose (but is, contrary to long-established rules), but some editors are keen to retain it as the display of a few of the citation templates in the reference sections at the bottom of articles. There was absolutely no reason to link ISO dates, and they are steadily being delinked.

I suggest that this page be closed, since a solution is no longer relevant.

Tony</pre>
    </div><div id="c159" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c159">Comment 159</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 07:13:28 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I disagree. I know you (Tony) have now got your preferred solution after years of campaigning -- and I've come round to the view that it's the best solution given the current abilities of the code -- but I still think that it would be valuable to be able to autoformat dates without linking them, and conversely.
</pre>
    </div><div id="c160" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c160">Comment 160</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tony Souter</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 08:04:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >So it's *your* preferred solution, too ... and that of a huge number of others—in fact, all but a tiny minority of hard-line WPians who haven't yet put a good case. I need to dispel this implication that it's *my* solution, as though I'm an autocrat.

The issue is, in fact, much wider than the simple decoupling of linking and date-autoformatting functions as proposed here; among the other pressing reasons is the in-house nature of DA (our readers don't see it, so it's rather indulgent), and the fact that it prevents WPians from maintaining date formats properly (they're in a bad state).

So I'm unsure which part of my post above that you &quot;disagree&quot; with. I don't wish to start a long debate about it here, though. </pre>
    </div><div id="c161" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c161">Comment 161</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 10:03:45 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It's not my preferred solution. It's my preferred policy given the current code. I still think the code leads to a suboptimal policy.</pre>
    </div><div id="c162" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c162">Comment 162</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 13:17:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Concur with Tony: This is not &quot;his&quot; issue, it is the issue of a large number of editors, including the majority of the MOS regulars. The &quot;sea of blue&quot; problem caused by the overloading of linking and autoformatting of dates is one that the resolution of which seems to have very few critics (while a handful of them are exceedingly vocal about it, being loud and incessant doesn't a better argument make).

I can also see Stephen's point that there could be some use for a date autoformatting function that did not operator-overload the linking function, but want to reiterate Tony's caution that use of it on Wikipedia by editors will lead to date messes in articles - if editors are not seeing what the non-logged-in reader sees, then errors and inconsistencies are guaranteed.  That is, it may be useful for MediaWiki, as a software package, to offer this functionality, but it is generally NOT useful to have it available at Wikipedia or other Wikimedia Foundation sites, which have high standards of &quot;product&quot; quality for the end-user reader.  Just because a function or plug-in for MW exists does not mean that it has to be used at WP.</pre>
    </div><div id="c163" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c163">Comment 163</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 16:20:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Oh thank heavens for this forum, where we're not constrained by the phony politeness of Wikipedia itself, or people crying &quot;personal attack! personal attack!&quot; whenever they get the chance.

Tony, you're an idiot who clearly doesn't understand the first thing about technology.  You should just leave Wikipedia for good, and stop annoying people.  At the very least you should drop yourself from replies on this ticket, since you've made it clear you have no interest whatsoever in a solution to the problem outlined here.  Bypassing autoformatting is not the same as fixing it, so your asshole-ish actions of mass delinking aren't actually a &quot;solution&quot; at all.  Go away.

(Please just direct complaints about my venting at Tony directly to me, rather than this list.)

Now, for those here that actually give two shits about autoformatting:  What features would we like to see implemented?  I'm more than happy to develop a patch to implement a solution, if we can all just agree on what it should be.  That is -- and always has been -- the real problem:  Agreeing on the specification.

I recommend we just completely ignore the MOS-nuts who have some sort of vendetta against date links (I think everyone knows who those people are) and proceed with fleshing out a good specification.  This list is probably a better place to do it, because of the ease of communication in this less-restrained forum.  Once a workable solution has been developed, THEN we can propose it at VP or wherever and get approval of a wider range of editors, and then propose it to the core developers.

After having spent some time thinking about an improved autoformatting feature, I have the following suggestions:

* Use a completely new markup, something like [[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=August%2010%2C%202005">August 10, 2005</a>]]].  My reasoning is that we could treat dates as a special case of links, so that single brackets go with external links, double brackets go with internal links (and categories), and triple brackets go with autoformatted links -- which we could eventually use for other things such as units of measure or even spelling variations (how nice would it be to have [[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=colour">colour</a>]]] display variable spelling of the word for different readers?)

* Allow preference settings (and possibly the default for non-logged-in-users) to render autoformatted dates WITHOUT links, to prevent complaints about the &quot;sea of blue&quot; for people that are bothered by such things.  Users that prefer to have dates linked could also set that preference, so links would autoformat AND appear as links for those users.

* Add support for auto-generated timelines.  A timeline would work like a category, so that an article page for a particular date would automatically be populated with links to articles that reference that date, complete with anchor tags to take you to the exact point in the article where the date is mentioned.  The tricky part would be figuring out how the text of the timeline page should appear (since presumably we'd want more than just a link, so something like a cross between a category page and a list page.)

* Use the browser's locale settings to provide default date formatting for non-logged-in users.  This will guarantee that autoformatted dates will appear in a consistent format throughout the site for ALL users, rather than defaulting to their raw format as they do now (which introduces inconsistency.)

I think the only way we'll get widespread support for a rewrite of the autoformatting feature is to really improve it, which is why I'm suggesting completely new features like the auto-timelines.  It'll make it more time-consuming to develop this way, but if we can make it really really useful to people then it should be worth it.

-Bill Clark</pre>
    </div><div id="c164" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c164">Comment 164</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerry Ashton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 17:18:46 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The first requirement is that it be written by someone other than Bill Clark,
because his response to input he does not like is to castigate the person who
provided input rather than think about the input.

The second requirement is to avoid confounding the concepts of a date that
is mentioned in an article with a date that is relevant in an article. For
example, &quot;Professor Jones found a carved stone on January 1, 1970*, which says
that Clamipiter died on February 14, 82&quot;. Clearly a timeline about Clamipiter should
include February 14, 82 Julian calendar, and exclude January 1, 1970, Gregorian
calendar. For a hugh pool of dates that have little or no relevance to the topic
of an article, see the citations in any article.

*All dates within this comment are in the Gregorian calendar for dates on
or after 15 October 1582, and the Julian calendar before that date.

-Gerry Ashton</pre>
    </div><div id="c165" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c165">Comment 165</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 17:43:12 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The proposed features sound good to me (as does linking being off by default). I think that the autoformatting should also be off by default (at least on WP; I don't care what new installations of MW do) for the reason already identified, that editors with this feature turned on are generally blind to date formatting inconsistencies in the articles they are editing, unless they are paying a whole lot of attention, which is rarely the case.</pre>
    </div><div id="c166" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c166">Comment 166</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 17:45:54 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(Re: Gerry's 2 technical issues, there's a third one: Dates that appear in quotations. These should never be autoformatted, as this will alter the quoted material (in most cases) before it reaches the reader.</pre>
    </div><div id="c167" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c167">Comment 167</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerry Ashton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 18:01:29 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Fourth technical issue: autoformatted dates should provide a pleasing appearance
when there is an era indicator. An example if an off-the-cuff solution were
attempted is given below.

Wikitext before processing:
&quot;According to the Wikipedia article &quot;Julian calendar&quot;, which was last edited
[[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=23%20October%202008">23 October 2008</a>]]], AD 8 was a leap year; therefore 29 February AD 8 existed.&quot;

The second date is not marked up, because an off-the-cuff solution does not provide
for era indication. When this is presented to someone who prefers American dates it
will read:

&quot;According to the Wikipedia article &quot;Julian calendar&quot;, which was last edited
October 23, 2008, AD 8 was a leap year; therefore 29 February AD 8 existed.&quot;

This of course creates a style clash.</pre>
    </div><div id="c168" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c168">Comment 168</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 18:56:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; I think that the autoformatting should also be off by default
&gt; (at least on WP; I don't care what new installations of MW do)
&gt; for the reason already identified, that editors with this feature
&gt; turned on are generally blind to date formatting inconsistencies
&gt; in the articles they are editing, unless they are paying a whole
&gt; lot of attention, which is rarely the case.</span >

No, it should be ON by default, because that eliminates the entire problem
with inconsistencies.  All dates (other than those in quotes) will be
marked up with the new syntax, so they will all be displayed in the same
format.  For users that haven't set a preference (or aren't logged in)
some other method should be used to determine the format to use, such as
the locale setting from their browser.

The current problem with inconsistency stems from the fact that
autoformatting is turned off for non-logged-in users, and so they see the
raw date format, which might be inconsistent.  If autoformatting was
automatically turned on by default for ALL users, there would never be any
inconsistency in display.

-Bill Clark</pre>
    </div><div id="c169" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c169">Comment 169</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 19:06:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c166">comment #166</a>)
<span class="quote">&gt; (Re: Gerry's 2 technical issues, there's a third one: Dates that appear in
&gt; quotations. These should never be autoformatted, as this will alter the quoted
&gt; material (in most cases) before it reaches the reader.
&gt; </span >

There's no way to identify these automatically, since there are any number of ways that people include quotations.

It's also a completely unnecessary concern; Dates in quotes simply shouldn't be marked up, and if they're not marked up (i.e. put in triple-brackets) then they won't be autoformatted.

The same would apply for anything we want to use the triple-brackets for in the future, such as spelling variations or unit conversions.  A quote containing the word &quot;colour&quot; should always read &quot;colour&quot; and never &quot;color&quot; so it should never be marked up as [[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=colour">colour</a>]]] in the wikitext.

So that's really an editor issue, not a technical one.  And it's already covered.

-Bill Clark</pre>
    </div><div id="c170" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c170">Comment 170</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 19:10:38 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c164">comment #164</a>)
<span class="quote">&gt; The first requirement is that it be written by someone other than Bill Clark,
&gt; because his response to input he does not like is to castigate the person who
&gt; provided input rather than think about the input.</span >

&lt;&lt;plonk!&gt;&gt;

I understand your concerns (and Tony's) and if you actually read anything I wrote, you'd realize that.  You're just an idiot, and THAT'S why I castigate you.  Fortunately I can be free to speak my mind about what a dumb-ass you are, here.

Now you too should go away, since your points are trivial to take into account and your constant harping on Gregorian vs. Julian calendar is really tiring.  Yes, we understand.  Yes, era and calendar -awareness will be built into a new system.  Now shut up and let us work.

-Bill Clark</pre>
    </div><div id="c171" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c171">Comment 171</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 19:15:00 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Bill:

* Quotations: Okay, that makes sense. I think I simply misunderstood you the
first time around as suggesting that locale info be used to auto-format dates,
regardless of markup, and that clearly doesn't seem to be the proposal.

* Default to ON, use locale info for non-logged-in users: If/when there is a
solution for non-logged-in users, then I will concur with you completely, so
long as it really is across-the-board -- something consistent needs to happen
for non-logged-in users for whom no locale settings can be determined.</pre>
    </div><div id="c172" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c172">Comment 172</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 19:32:42 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c171">comment #171</a>)
<span class="quote">&gt; * Quotations: Okay, that makes sense. I think I simply misunderstood you the
&gt; first time around as suggesting that locale info be used to auto-format dates,
&gt; regardless of markup, and that clearly doesn't seem to be the proposal.</span >

No problem.  I probably wasn't being clear enough, because there was a PREVIOIUS patch I submitted that WOULD have caused &quot;naked&quot; dates (i.e. not marked up at all) to be autoformatted.  But you're correct that in the latest proposal only marked-up dates would be autoformatted.

<span class="quote">&gt; * Default to ON, use locale info for non-logged-in users: If/when there is a
&gt; solution for non-logged-in users, then I will concur with you completely, so
&gt; long as it really is across-the-board -- something consistent needs to happen
&gt; for non-logged-in users for whom no locale settings can be determined.</span >

All (major) browsers send locale information, so that should never be an issue.  For the tiny fraction of readers that use some exotic browser, I think defaulting to international format should be fine.  (NOTE: I actually don't know of a single browser that doesn't send locale information, but I'm leaving open the possibility that some exists somewhere.)

One source of complaint might be that not all readers will have the &quot;correct&quot; locale setting in their browser.  For instance, it's possible that somebody in the UK might have a browser that's mistakenly set for en-US for some reason, and in that case they would see American-style date formats when they wouldn't be expecting it.

However, I think that using the locale setting is preferable to using IP addresses (the other serious alternative) because:

a) Users have control over their locale settings, whereas they have little to no control over their IP address (this is an issue for Europeans living in America or vice-versa, since they'd otherwise have no way of overriding an IP-derived default format.)

b) It's much less work on the servers to check the locale setting (actually the &quot;Accept-language&quot; header) than to do lookups on IP addresses -- although we could do ROUGH mapping of IP addresses fairly efficiently, if it came down to it.

-Bill Clark</pre>
    </div><div id="c173" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c173">Comment 173</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 19:51:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; For the tiny fraction of readers that use some exotic browser, I think
&gt; defaulting to international format should be fine.</span >

Right.

<span class="quote">&gt; One source of complaint might be that not all readers will have the &quot;correct&quot;
&gt; locale setting in their browser.</span >

Not our problem; we cannot account for every possible operator error. Using the locale info should work just fine in most cases, and it's not like the few rare cases of incorrect settings will generate something unintelligible.

<span class="quote">&gt; However, I think that using the locale setting is preferable to using IP
&gt; addresses (the other serious alternative)</span >

Agreed.</pre>
    </div><div id="c174" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c174">Comment 174</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 20:02:07 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Okay, since Tony has now started reposting my comments from here on Wikipedia itself, I'm no longer going to write anything here.  If you want to email me directly to discuss this, please feel free to do so (<a href="mailto:billclark&#64;berkeley.edu">billclark&#64;berkeley.edu</a>) although at this point I think there is enough information (including stuff from the ticket history) to start working on a first pass.  Thanks for all the useful feedback (especially S. McCandlish.)  -Bill</pre>
    </div><div id="c175" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c175">Comment 175</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 20:06:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(edit collision)

An alternative suggestion:

Using patch #3 (<a href="show_bug.cgi?id=4582#c155">comment  #155</a> ) as a base... 

#1:  
   Instead of 
      $this-&gt;mTarget = $i;
   simply do 
      $this-&gt;mTarget = '&lt;span class=&quot;someclass&quot;&gt;' + $i + '&lt;/span&gt;';
   And so leave the post-processing to the wiki (client) side, 
   e.g for meta-data handling or Javascript handling or whatever.
   (JS is already available btw, it would only need to be made site-wide).

#2: 
   For ISO dates /and only for those/, convert the date to something 
   human-friendly. In the absence of a user pref for guidance, look for 
   &quot;magic&quot; to decide what to convert to. &quot;Magic&quot; being (for example) a 
   new Wikimedia magic word, or inclusion in a category, or some (dummy) 
   template that is being transcluded.

The timeline is a really cool idea. It would also emphasize the (ir)relevance 
of a linked date.

&#64;S. McCandlish: A user's locale settings are not known to servers unless
these were to be inferred using Javascript and then transmitted by cookie. 
But if using Javascript to infer locale then we might as well do the whole 
date rewriting stuff in Javascript too. 
</pre>
    </div><div id="c176" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c176">Comment 176</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 20:18:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Re: browser locale being transmitted. I forgot about Accept-Language.

Whats transmitted for US usage is &quot;en-us&quot; plus some other stuff:
  Accept-Language:  	en-us,en;q=0.5
&quot;en-us&quot; would be enough to rule out &quot;24 October 2008&quot; usage. 
So everyone else gets &quot;24 October 2008&quot;. Indeed easy.


</pre>
    </div><div id="c177" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c177">Comment 177</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 20:50:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c163">comment #163</a>)

&lt;snip&gt;

<span class="quote">&gt; What
&gt; features would we like to see implemented?  I'm more than happy to develop a
&gt; patch to implement a solution, if we can all just agree on what it should be. 
&gt; That is -- and always has been -- the real problem:  Agreeing on the
&gt; specification.</span >
As the original poster of this bug, what I would like, and have always wanted, is syntax that would autoformat a date, WITHOUT linking it. If the editor wants it linked, thy can put in a link, and enclose the new syntax in the piped porion. If a link is not wanted, none need be coded.

Autoformatting and linking are two quite separate operations, why retain the association between thm that has been the source of much trouble?

<span class="quote">&gt; I recommend we just completely ignore the MOS-nuts who have some sort of
&gt; vendetta against date links (I think everyone knows who those people are) and
&gt; proceed with fleshing out a good specification.  </span >

I don't think i am an MOS nut, but i do think that date links are wildly overused on wikipedia. I also think that many instalations of MediaWiki software exiost that are not wikipedia, and do not routinely have articles on dates. on such wikis, links to dates are almost never useful, when inserted for the sake of autoformatting, they are red-links.

&lt;snip&gt;

<span class="quote">&gt; I have the following suggestions:
&gt; * Use a completely new markup, something like [[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=August%2010%2C%202005">August 10, 2005</a>]]].  My
&gt; reasoning is that we could treat dates as a special case of links, so that
&gt; single brackets go with external links, double brackets go with internal links
&gt; (and categories), and triple brackets go with autoformatted links -- which we
&gt; could eventually use for other things such as units of measure or even spelling
&gt; variations (how nice would it be to have [[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=colour">colour</a>]]] display variable spelling
&gt; of the word for different readers?)</span >
My preferce would be to use &lt;&lt;August 10, 2005&gt;&gt; or even &lt;date&gt;August 10, 2005&lt;/date&gt;, to make it clear that this syntax is in no way conencted with linking. 

<span class="quote">&gt; * Allow preference settings (and possibly the default for non-logged-in-users)
&gt; to render autoformatted dates WITHOUT links, to prevent complaints about the
&gt; &quot;sea of blue&quot; for people that are bothered by such things.  Users that prefer
&gt; to have dates linked could also set that preference, so links would autoformat
&gt; AND appear as links for those users.</span >
This is where i most strongly disagree, it preserves the confusing idea that every autofomatted date is in some sense a link, even if the link dispaly is supressed for soem (most) users. Why do this? Simply separate the functions, and an editor can specify either autoformatting or a link, or both, as may suit the neeeds of the particular article and the wiki on which it exists.

<span class="quote">&gt; * Add support for auto-generated timelines.  A timeline would work like a
&gt; category, so that an article page for a particular date would automatically be
&gt; populated with links to articles that reference that date, complete with anchor
&gt; tags to take you to the exact point in the article where the date is mentioned.
&gt;  The tricky part would be figuring out how the text of the timeline page should
&gt; appear (since presumably we'd want more than just a link, so something like a
&gt; cross between a category page and a list page.)</span >
This is a much larger scope than the siample provision of autoformatting without linking, although it might be useful in its own right.

<span class="quote">&gt; * Use the browser's locale settings to provide default date formatting for
&gt; non-logged-in users.  This will guarantee that autoformatted dates will appear
&gt; in a consistent format throughout the site for ALL users, rather than
&gt; defaulting to their raw format as they do now (which introduces inconsistency.)</span >
This I agree with.
-David E. Siuegel</pre>
    </div><div id="c178" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c178">Comment 178</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 21:06:48 UTC
        </span>
      </div>



<pre class="bz_comment_text" >There ARE a few other places that use US formatting, though.</pre>
    </div><div id="c179" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c179">Comment 179</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 21:13:14 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; My preferce would be to use &lt;&lt;August 10, 2005&gt;&gt; or even &lt;date&gt;August 10,</span >
2005&lt;/date&gt;, to make it clear that this syntax is in no way conencted with
linking.

The &lt;date&gt;...&lt;/date&gt; idea makes sense, in that it is self-explanatory, but may be too long-winded for people to adopt it. The &lt;&lt;...&gt;&gt; idea might work better.</pre>
    </div><div id="c180" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c180">Comment 180</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-24 23:40:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c178">comment #178</a>)
<span class="quote">&gt; There ARE a few other places that use US formatting, though.</span >
Yes there are, but can they be identified with 'Accept-Language'?

(In reply to <a href="show_bug.cgi?id=4582#c179">comment #179</a>)
a) &lt;&lt;...&gt;&gt; or &lt;date&gt;...&lt;/date&gt; do not fix the problems with the existing 
   syntax. The articles would still be awash in seas of blue. 
b) the existing syntax it is very well entrenched. Indeed, it is probably 
   too well entrenched to dislodge. That is, editors are probably going to 
   continue to use the old syntax just out of sheer habit.
b) although the overloading of square brackets to reformat dates is really 
   just syntactic sugar, it has the advantage of flattening the 
   learning curve. There is no additional syntax to learn.
d) our (old hand) inclination to identify square brackets with linkage first 
   and date parsing second is a conceit. There is no real /reason/ to 
   envision things in that order. After all, we don't &quot;link&quot; to images or 
   &quot;link&quot; to categories either. When we /want/ to link to images or categories 
   we put a ':' before the name. With that we change the default behavior of 
   whatever it is in [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]]. There is no reason why this cannot also be true 
   for dates.

Now note the order of clauses in the following phrase: &quot;syntax that would autoformat a date, WITHOUT linking it&quot;. For that we don't need to invent altogether new syntax. We merely need to /negate/ the implied link. Bill's second patch (theoretically described in <a href="show_bug.cgi?id=4582#c150">comment #150</a>) did precisely that: 

[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] for dates that should be linked, and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] for dates that shouldn't be linked.

Such a thing would require no changes to well established editing habits, nor would it require sending out a bot to rewrite articles. We already use ':' syntax when we want the default behavior of [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] to change for images and categories. This transfers easily to dates.

</pre>
    </div><div id="c181" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c181">Comment 181</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-25 01:50:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c180">comment #180</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=4582#c178">comment #178</a>)
&gt; &gt; There ARE a few other places that use US formatting, though.
&gt; Yes there are, but can they be identified with 'Accept-Language'?
&gt; (In reply to <a href="show_bug.cgi?id=4582#c179">comment #179</a>)
&gt; a) &lt;&lt;...&gt;&gt; or &lt;date&gt;...&lt;/date&gt; do not fix the problems with the existing 
&gt;    syntax. The articles would still be awash in seas of blue. </span >
This is true, but I gather that existing areticels are already beign delinked en masse. 

<span class="quote">&gt; b) the existing syntax it is very well entrenched. Indeed, it is probably 
&gt;    too well entrenched to dislodge. That is, editors are probably going to 
&gt;    continue to use the old syntax just out of sheer habit.</span >
More deeply entranched habits have been changed on wikipedia in the past, although this one will be a problem. but it will be a problem whatever is done  -- editors with entrenched habits will complain loudly if existing syntx suddenly works differently.

<span class="quote">&gt; b) although the overloading of square brackets to reformat dates is really 
&gt;    just syntactic sugar, it has the advantage of flattening the 
&gt;    learning curve. There is no additional syntax to learn.</span >
Frankly i think it will be harder to learn to use the colon. That is too subtle, people will miss it. People often fail to sue it when needed, or use it when not needed, in the existign bracket syntaz,
 
<span class="quote">&gt; d) our (old hand) inclination to identify square brackets with linkage first 
&gt;    and date parsing second is a conceit. There is no real /reason/ to 
&gt;    envision things in that order. After all, we don't &quot;link&quot; to images or 
&gt;    &quot;link&quot; to categories either. When we /want/ to link to images or categories 
&gt;    we put a ':' before the name. With that we change the default behavior of 
&gt;    whatever it is in [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]]. There is no reason why this cannot also be true 
&gt;    for dates.</span >
The pracket syntax for both images and categories is pretty much invariably described as a &quot;link&quot;, albiet one with special properties. Whenever there is overloaded syntax, ther is a choice of how to view it. Peiople usign C++ don't have to think of &quot;+&quot; as additon first and concatenation second, but they do, and will. Linking (in the basic sense) is FAR more commonthan is date-autoformattign, and until now date autoformatting always linked also. We can play Humpty Dumpty (&quot;my words mean whatever I say they mena, neither more nor less&quot;) but people won't listen. Bracket syntax will be thoguht of as a link, like it or not. And anyway, WHY use the same syntazx for two quite different functions, whatever you call it.

<span class="quote">&gt; Now note the order of clauses in the following phrase: &quot;syntax that would
&gt; autoformat a date, WITHOUT linking it&quot;. For that we don't need to invent
&gt; altogether new syntax. We merely need to /negate/ the implied link. Bill's
&gt; second patch (theoretically described in <a href="show_bug.cgi?id=4582#c150">comment #150</a>) did precisely that: 
&gt; [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] for dates that should be linked, and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] for dates that
&gt; shouldn't be linked.</span >
Yes that would accomplish that goal. When i first lised this bug, several years ago, i did not think that chnging the meaning of existing syntax by fiat and all at once would be acceptable, and even today I'm not convinced that it is a good idea. But it would acomplish my stated goal.
 
<span class="quote">&gt; Such a thing would require no changes to well established editing habits, nor
&gt; would it require sending out a bot to rewrite articles. We already use ':'
&gt; syntax when we want the default behavior of [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] to change for images and
&gt; categories. This transfers easily to dates.</span >

I suspect it would not in fact be easy. Moreover, i suspect the effect of changing the redition of existing markup, on many many pages, would be so strongly resisted that the change would never be implemented. I am generally opposed to date-linking, but I find the idea dubious. At least bot-changes are recorded in the history, and can be individually reverted.
-Daivid E. Siegel
</pre>
    </div><div id="c182" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c182">Comment 182</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-25 16:52:28 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; our (old hand) inclination to identify square brackets with linkage first 
&gt; and date parsing second is a conceit. There is no real /reason/ to 
&gt; envision things in that order. After all, we don't &quot;link&quot; to images or 
&gt; &quot;link&quot; to categories either. When we /want/ to link to images or categories 
&gt; we put a ':' before the name. With that we change the default behavior of 
&gt; whatever it is in [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]]. There is no reason why this cannot also be true 
&gt; for dates.</span >


Works for me.  Someone brought that up earlier, and I'd forgotten.  This would be intuitive and probably easier to implement than an entirely new syntax.  I also really like the idea that it would instantly de-link dates by default the moment Wikipedia installed it.

<span class="quote">&gt;  Linking (in the basic sense) is FAR more commonthan is</span >
date-autoformattign

So?  The very commonness of pointlessly linking dates (the &quot;sea of blue&quot; problem) is very much at the heart of the matter.

<span class="quote">&gt;  When i first lised this bug, several years
&gt;  ago, i did not think that chnging the meaning of existing syntax by fiat and
&gt;  all at once would be acceptable, and even today I'm not convinced that it is a
&gt;  good idea. But it would acomplish my stated goal.</span >

The only way to find out is to try it.  I would think that this would be vastly preferable to massively unlinking all dates (there are some bots and individuals doing this, but given literally millions of linked dates no one need panic; they will not just suddenly all disappear).

<span class="quote">&gt; I suspect it would not in fact be easy. Moreover, i suspect the effect of
&gt; changing the redition of existing markup, on many many pages, would be so
&gt; strongly resisted that the change would never be implemented.</span >

I don't follow you.  There's already a general consensus that (visible) date linking should mostly stop; there doesn't seem to be any reason to fear any more of a backlash against this particular way of implementing that than against any other method (such as removing [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20and%20"> and </a>]] around dates), or against the general proposal to stop linking dates generally.

<span class="quote">&gt; At least bot-changes are
&gt; recorded in the history, and can be individually reverted</span >

The [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3ADATE">:DATE</a>]] proposal doesn't have anything to do with editing and history; it's a presentational matter.  What you're arguing seems to be akin to arguing that no changes to the sitewide .css files would be accepted by the community without a massive RFC or VP debate, but (aside from the fact that the debate in this case has already long since occurred more generally) this proves not the be the case at all. The CSS has been radically changed many times without outcry, despite major display alterations in WP's output.  See the histories of the two major CSS files, or for that matter just look at <a href="http://nostalgia.wikipedia.org/">http://nostalgia.wikipedia.org/</a>, if you don't believe me.</pre>
    </div><div id="c183" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c183">Comment 183</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Richard Morris</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-25 21:01:22 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Following up on the &lt;date&gt; idea looking at the html-5 spec there is a time element: <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/text-level-semantics.html#the-time-element">http://www.whatwg.org/specs/web-apps/current-work/multipage/text-level-semantics.html#the-time-element</a>. This has a syntax like &lt;time datetime=&quot;2006-09-23&quot;&gt;a Saturday&lt;/time&gt;, there may be some advantage is using this, which would make future transition to html-5 easier.

S. McCandlish's argument that editors should see what IP uses see is compelling.</pre>
    </div><div id="c184" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c184">Comment 184</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerry Ashton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-26 00:04:53 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The interesting document brought to our attention by Richard Morris has this to say about the purpose of the time element:

&quot;The primary use cases for these elements are for marking up publication dates e.g. in blog entries, and for marking event dates in hCalendar markup. Thus the DOM APIs are likely to be used as ways to generate interactive calendar widgets or some such.&quot;

I don't claim to fully understand the spec, but it seems to say the actual value of the time element is the number of milliseconds since 1970-01-01 00:00 UTC. This is likely to lead to it being poorly suited to describe historical events. In particular, dates are Gregorian, and there is no provision to represent BC years. Also, years must be less than or equal to 9999. The suggested use for the element might mean that the people working on that element would not be interested in making it robust for all historical dates.

Since our use would require some kind of extension, we would probably be better off avoiding creating a tag with the same name but different meaning. </pre>
    </div><div id="c185" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c185">Comment 185</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Masem</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-26 15:32:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >One of the problems we are still left with by simply switching the syntax of date autoformatting without linking is what non-logged in users see, which is a huge crux of the argument.  Since this has been determined to be something that needs to be set per-page, defaulting to international format if a page is not specifically tied to a country that uses the US format, that has to be part of a working end solution.

To me, a simple option altogether is to provide some means of setting a specified date on a per article basis, and then a magic word that determines the date format based on the per-page setting and user pref.  From this, templates can handle the rest, including whether to link or not (Editors have to be mindful of Julian vs Gregorian calendars, and BC/AD as well when entering dates, there are certain defaults we can make via templates for this, and make sure resulting displays show any flags for such).  Not knowing the code well enough to figure out how to do this, the simplest approach seems to be to 
  1) Assume international format as default per-page.
  2) Allow the magic word __DF_US__ (Date Format US) to override this.   A __DF_INT__ can be added as well for completeness, but again, we start with the assumption this is default.  Presumably the tag would need to be a non-display element at the start of the article in the same way the TOC is done.
  3) The magic word DATEFORMAT returns either &quot;US&quot; or &quot;INT&quot; as to be interpreted by a template.  (If a magic word can't be expanded before template instructures, this could also be a #if-like template function).  This magic word/function returns the US date format if:
     - The user is logged in and has US set.
     - The user is not logged in, or has set no preference, and the per-page setting is set to US.

</pre>
    </div><div id="c186" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c186">Comment 186</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-29 17:10:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c185">comment #185</a>)
<span class="quote">&gt; One of the problems we are still left with by simply switching the syntax of
&gt; date autoformatting without linking is what non-logged in users see, which is a
&gt; huge crux of the argument.  </span >

That has been settled; everyone will see whatever 'Accept-Language' suggests they should see. 

<span class="quote">&gt; Since this has been determined to be something that needs to be set per-page, </span >

A) Dateformatting has not in fact been &quot;determined to be something that needs to be set per-page&quot;. This is a server-related bug report of a specific Mediawiki extension. This is not en.wikipedia.org. This is also not anything to do with magic words. Date-formatting has been user-oriented as long as server-side date-formatting has existed, and there has been no discussion to change that model, which is also way beyond the scope of this bug report.

B) Don't put the cart before the horse. If you want that magic word to be supported, you will first have to ensure that that magic word exists. To do that you will need to file a different bug report, or submit a patch for approval etc. *Once* the magic exists adding support for it will not require major changes to dateformatter.

Incidentally, what you are asking for is not going to happen without some thoughtful consideration (elsewhere!) of its ramifications; after all, it will constitute the very first editor-defined content-related magic word, and as such represents a brand-new facility. While there is some precedent for such a thing, CATEGORYSORT and DISPLAYTITLE are not content related. Some thought should also be given to how the facility could be extended/used in the future, e.g. for ENGVAR (think 'Content-Language') and era, and how bots and browsers may make use of it.

Also, content-oriented magic is by definition incompatible with user-oriented settings (which date formatting is), and the order of precedence (or getting rid of the user-oriented setting) will either need executive decision or will need to be discussed in open forum (elsewhere!). Good luck.

Your idea is sound, but the feature you want does not exist yet, and so can't be used here (yet). (BTW: double-underscore magic words are preprocessor commands, not environment variables).
</pre>
    </div><div id="c187" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c187">Comment 187</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-29 22:20:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c182">comment #182</a>)
<span class="quote">&gt; &gt; our (old hand) inclination to identify square brackets with linkage first 
&gt; &gt; and date parsing second is a conceit. There is no real /reason/ to 
&gt; &gt; envision things in that order. After all, we don't &quot;link&quot; to images or 
&gt; &gt; &quot;link&quot; to categories either. When we /want/ to link to images or categories 
&gt; &gt; we put a ':' before the name. With that we change the default behavior of 
&gt; &gt; whatever it is in [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]]. There is no reason why this cannot also be true 
&gt; &gt; for dates.
&gt; Works for me.  Someone brought that up earlier, and I'd forgotten.  This would
&gt; be intuitive and probably easier to implement than an entirely new syntax.  I
&gt; also really like the idea that it would instantly de-link dates by default the
&gt; moment Wikipedia installed it.</span >
There is a difference, IMO, between delinking done as an edit, even by a bot, that can be reverted, and all-at-once effective delinking across an entire site. Also, this is a change to the software, which would affect more sites than Wikipedia. Not all those sites will have the same views as the wikipedia community does, perhaps.

<span class="quote">&gt; &gt;  Linking (in the basic sense) is FAR more commonthan is
&gt; date-autoformattign
&gt; So?  The very commonness of pointlessly linking dates (the &quot;sea of blue&quot;
&gt; problem) is very much at the heart of the matter.</span >

My point is that most editors consider the [[ syntax to basically mean &quot;link&quot; and that the idea that it actually means any one of several things, depending on context, is not  taken in. Even the category and image uses are spoken of as links. Changign the software so that [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] si no longer a link, but [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] is, seems perverse to me, adn likely to be confusing.

<span class="quote">&gt; &gt;  When i first lised this bug, several years
&gt; &gt;  ago, i did not think that chnging the meaning of existing syntax by fiat and
&gt; &gt;  all at once would be acceptable, and even today I'm not convinced that it is a
&gt; &gt;  good idea. But it would acomplish my stated goal.
&gt; The only way to find out is to try it.  I would think that this would be vastly
&gt; preferable to massively unlinking all dates (there are some bots and
&gt; individuals doing this, but given literally millions of linked dates no one
&gt; need panic; they will not just suddenly all disappear).</span >
Actualy i think tha tthe both method is preferable -- it allows individuals watchign particualr articles to see the change and relink where appropriate, and no one denies that date links are proper in some (if perhaps few) cases. With a sudden site-wide change, the burden is shifted to thsoe wishing to maintain the status quo, whch seems mistaken to me.

<span class="quote">&gt; &gt; I suspect it would not in fact be easy. Moreover, i suspect the effect of
&gt; &gt; changing the redition of existing markup, on many many pages, would be so
&gt; &gt; strongly resisted that the change would never be implemented.
&gt; I don't follow you.  There's already a general consensus that (visible) date
&gt; linking should mostly stop; there doesn't seem to be any reason to fear any
&gt; more of a backlash against this particular way of implementing that than
&gt; against any other method (such as removing [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20and%20"> and </a>]] around dates), or against
&gt; the general proposal to stop linking dates generally.
&gt; &gt; At least bot-changes are
&gt; &gt; recorded in the history, and can be individually reverted
&gt; The [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3ADATE">:DATE</a>]] proposal doesn't have anything to do with editing and history;
&gt; it's a presentational matter.  What you're arguing seems to be akin to arguing
&gt; that no changes to the sitewide .css files would be accepted by the community
&gt; without a massive RFC or VP debate, but (aside from the fact that the debate in
&gt; this case has already long since occurred more generally) this proves not the
&gt; be the case at all. The CSS has been radically changed many times without
&gt; outcry, despite major display alterations in WP's output.  See the histories of
&gt; the two major CSS files, or for that matter just look at
&gt; <a href="http://nostalgia.wikipedia.org/">http://nostalgia.wikipedia.org/</a>, if you don't believe me.</span >

Have any such changes in &quot;presentation&quot; changed things so that what was a link before was not a link afterwards? if not, then i don't think they are relevant. There is IMO a diffrence in kind, not just in degree, between changing color or text style or even layout, and changing from linked to non-linked.

Morever, this change, if made, will be MORE than site-wide. No change to site level css files changes things for every wiki using the media-wiki software, but this change would do that.

-DES


</pre>
    </div><div id="c188" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c188">Comment 188</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-30 00:30:34 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Keep it simple.  The plan as currently outlined makes sense.  There is no &quot;shift in burden&quot;; there simply *won't be* a burden any longer.  Cannot agree that &quot;'[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=..">..</a>]]' means 'link'&quot;; it *usually* means &quot;link&quot;, but it also means &quot;inline an image&quot; or &quot;add a category&quot;, and Wikipedians and other users of MW understand this just fine.  Adding another variant isn't going to cause any heads to asplode.  The great benefit of doing it the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A...">:...</a>]] way is that the bots that are ticking people off can just STOP, as can manual de-linking sprees, and in any (rare) case where a date should be linked all it takes is the addition of a single character to make it happen.  Enough kvetching; let's just do this and move forward.  PS: There's nothing &quot;sudden&quot; about any of this; the matter's been debated (at WP; other wikis, WMF or not, have not seemed to care one way or the other, judging by the lack of their commentary here) for *years* and come out strongly in favor of de-linking of dates.  </pre>
    </div><div id="c189" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c189">Comment 189</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-30 15:09:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >One advantage to using a new markup (e.g. [[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=30%20October%2C%202008">30 October, 2008</a>]]] or &lt;&lt;30 October, 2008&gt;&gt;) as opposed to the existing markup ([[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=30%20October%2C%202008">30 October, 2008</a>]]) is that a new markup would improve the efficiency of the parser function with regards to matching date formats.  That in turn would allow us to greatly expand the number of patterns that can be matched, so that dates in a variety of other formats could be recognized (e.g. 10/30/2008, October 30th 2008, Oct. 30, etc.)

As currently implemented, the date parsing code is first run against the entire page text, and checks the contents of each [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=foo">foo</a>]] item to see if &quot;foo&quot; matches a known date format.  That means that each wikilink in a page will be checked against each and every date format, which is inefficient.  If a new -- UNIQUE -- markup is used, then ONLY dates will match the markup pattern, and so the &quot;inside&quot; portion can be matched against pretty much as many different date format patterns as we like, without a significant  performance hit.

-Bill Clark</pre>
    </div><div id="c190" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c190">Comment 190</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-30 19:58:32 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Bill,...

A) using a new markup may (/may/, see below) be an advantage vis-a-vis the current scheme, but *not* using a new markup is also *not* a disadvantage vis-a-vis the current scheme. 

B) if I'm reading your &quot;allow us to greatly expand the number of patterns&quot; correctly, you envision that [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=October%2030th%202008">October 30th 2008</a>]], [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Oct.%2030">Oct. 30</a>]] etc would be individually regex matched, i.e. using a separate rule for each possible variation. But there are only six primitive regexes, no more than DateFormatter's present set of eight. So, if your version stuck to primitives instead of trying every possible combination with a regex, there would be no more matching than DateFormatter is already doing.

C) DateFormatter does not have to continue to be the monolithic beast that it is now. The process can (/should/!) be split to run in two halves. The first half would run pre-cache (e.g. at 	ParserFirstCallInit) and would pre-process the multitude of human-esque date formats to a &quot;normalized&quot; (simplified) form that can be quickly machine-processed later. The second half, running ex-cache (like DateFormatter now), would then convert the simplified form into whatever 'Accept-Language'/user-pref/etc says it should be. How dates are tagged/preprocessed internally (for faster processing later) is left to the developer's discretion; editors don't see it or need to care about it.

</pre>
    </div><div id="c191" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c191">Comment 191</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-30 20:22:10 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c190">comment #190</a>)

<span class="quote">&gt; B) if I'm reading your &quot;allow us to greatly expand the number of patterns&quot;
&gt; correctly, you envision that [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=October%2030th%202008">October 30th 2008</a>]], [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Oct.%2030">Oct. 30</a>]] etc would be
&gt; individually regex matched, i.e. using a separate rule for each possible
&gt; variation. But there are only six primitive regexes, no more than
&gt; DateFormatter's present set of eight. So, if your version stuck to primitives
&gt; instead of trying every possible combination with a regex, there would be no
&gt; more matching than DateFormatter is already doing.</span >

I don't follow this at all.  Could you explain it in some more detail?

<span class="quote">&gt; C) DateFormatter does not have to continue to be the monolithic beast that it
&gt; is now. The process can (/should/!) be split to run in two halves. The first
&gt; half would run pre-cache (e.g. at    ParserFirstCallInit) and would pre-process
&gt; the multitude of human-esque date formats to a &quot;normalized&quot; (simplified) form
&gt; that can be quickly machine-processed later. The second half, running ex-cache
&gt; (like DateFormatter now), would then convert the simplified form into whatever
&gt; 'Accept-Language'/user-pref/etc says it should be. How dates are
&gt; tagged/preprocessed internally (for faster processing later) is left to the
&gt; developer's discretion; editors don't see it or need to care about it.</span >

I'm not sure I follow this, either.  Where would the normalized dates be stored?  If I'm understanding this correctly, you're saying that some normalization of the date format should take place when a new edit is submitted, stored (where?) and then when the cache is rebuilt following the first page request, the new DateFormatter code can operate on the normalized dates.  That would seem to either require a new place to store the normalized page text or else we would be replacing the submitted article text with the normalized version, neither of which I think is a great idea.  Could you clarify this point as well?

-Bill Clark
</pre>
    </div><div id="c192" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c192">Comment 192</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-31 05:01:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I'm not a php guy, so what follows is only my take from what I can glean by reading the code.

Explaining B)

DateFormatter presently loops through 8 regexes, each being a particular date-format pattern. So, e.g. [d M Y] has one pattern, and [d M] has another pattern and so on. The entire article is searched through eight times, once for each regex.

In that scheme, if you also wanted to handle [31st October 2008] and [31 Oct. 2008] and [31st Oct. 2008] and [31 Oct 2008] and [31st Oct,] etc ad nauseum, you would need a new regex for each of them, and the number of passes through the article rises accordingly.

But you could also find a &quot;primitive&quot; that matches all of the above (see link in the email I sent a few days ago). In such a regex punctuation would be ignored, the test for month names would be {October|Oct) (with /i of course), the day-number test would be (\\d{1,2})(st|nd|rd|th), and the year + era would also be parenthesized as optional.

When you make the regex as encompassing as possible, the regex handler does not have to return to the calling routine as often, which cuts out one pass through the article for every regex that you save. While the regex itself gets slower, this is not as significant as extra runs through the php. After all, the regex handler is native. 

Secondly, and irrespective of which syntax is chosen, running through the article N times is wasteful. phase3/includes/Parser.php does this much faster by exploding all &quot;links&quot; to an array, string-manipulating them there, and then merging them back. Incidentally, since parser.php is processing each and every [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] anyway you'd be handed each &quot;link&quot; on the silver platter if you could get the devs to provide a call/hook from that level. I'm guessing but the end of the inner loop in replaceInternalLinks2() seems like a good place.

Explaining C)

Currently, when an editor presses save, the article is saved in two &quot;states&quot;. One state in the editable form which editors see, and the other is the form that /eventually/ makes it way to the client as html. The second of these two forms is immediately run through a preprocessing phase, which includes most (all?) template expansion and many mediawiki extensions such as cite.php. This is relatively slow, and this preprocessed form is what is cached.

Later, when a client requests an article, the preprocessed version is retrieved from cache and processing is finalized before finally becoming the html as you see it. This, &quot;final&quot; stage is where DateFormatter currently sits (after all, it needs to be userpref aware, and so needs to be update content on the fly) and also where &quot;links&quot; are expanded to become &quot;red links&quot;, &quot;blue links&quot;, image links, category links, &quot;Special:&quot; namespace links, &quot;Media:&quot; links, ISBN links, PUBMED links, inline images, etc etc etc.

So, the date normalization would be done at about the same time as template expansion et al, which is in the state that eventually becomes html. Its not in the in the state that would subsequently be edited.

</pre>
    </div><div id="c193" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c193">Comment 193</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-31 16:47:12 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c192">comment #192</a>)
<span class="quote">&gt; Secondly, and irrespective of which syntax is chosen, running through the
&gt; article N times is wasteful. phase3/includes/Parser.php does this much faster
&gt; by exploding all &quot;links&quot; to an array, string-manipulating them there, and then
&gt; merging them back. Incidentally, since parser.php is processing each and every
&gt; [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] anyway you'd be handed each &quot;link&quot; on the silver platter if you could get
&gt; the devs to provide a call/hook from that level. I'm guessing but the end of
&gt; the inner loop in replaceInternalLinks2() seems like a good place.</span >

Ah, I understand your point now.  Thanks for the clarification.

I think I was getting ahead of myself in thinking about this, and was (mistakenly) thinking that the DateFormatter was already extracting [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] &quot;links&quot; prior to matching against the date regexes.  Revisiting the code, I see it's exactly as you describe.

Now, the reason I was suggesting we use a completely new markup is because I'd like to make DateFormatter work essentially the same way as Parser does -- by first extracting all of the date-marked-up strings into an array, then iterating through that.  That way, the first pass of DateFormatter would only need to use one regex (to identify the strings with the new date markup) and then we could apply either a large number of simple regexes or a smaller number of more complex regexes to ''only'' the strings that were extracted in the first pass.  I believe that would be far more efficient than the current scheme, and would allow us to recognize a much larger number of formats (including AD/CE and BC/BCE indicators, as well as indicators as to which calendar is being used, etc.) AND to do some additional processing based on the date itself to handle the ISO-related exceptions that Gerry has repeatedly mentioned.

<span class="quote">&gt; Currently, when an editor presses save, the article is saved in two &quot;states&quot;.
&gt; One state in the editable form which editors see, and the other is the form
&gt; that /eventually/ makes it way to the client as html. The second of these two
&gt; forms is immediately run through a preprocessing phase, which includes most
&gt; (all?) template expansion and many mediawiki extensions such as cite.php. This
&gt; is relatively slow, and this preprocessed form is what is cached.</span >

Ah, I haven't looked much at the cache-related code, mostly because I turn it off in all of my own MediaWiki installations.  Your claimed lack of PHP expertise notwithstanding, you seem to have a very good grasp of what's going on in those parts of the code, so I'll trust that your explanation is accurate.

However, even with the improvements due to caching, I still think it would be better to use a new markup and to make DateFormatter work more like Parser, since it would mean that articles would only need to be matched against one -- very simple -- regex in most cases, and then the extracted date strings could be matched in a second pass (and thus any articles that had zero dates marked up in the new format would skip the second pass entirely and only need to be matched against a single regex.)

If we DO introduce a new markup syntax, I'd like to leave open the possibility of using it for things other than dates as well.. unit conversions and spelling variations are just two other cases where I could see this type of functionality being useful.  For the same reasons that I think date formats should be something that's ultimately up to the reader, I think spelling variations and unit preferences should also be reader-specific.  Since that represents an entirely new class of functionality, it's another reason I'm leaning toward a new markup syntax.

-Bill Clark</pre>
    </div><div id="c194" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c194">Comment 194</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rich Farmbrough</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-31 22:14:49 UTC
        </span>
      </div>



<pre class="bz_comment_text" >A little note.

While we are discussing ways to display different formats the world moves on, in particular the US does.  Whilst the majority of US usage seems still to be month-first - &quot;April 10&quot; - the proportion of day first - &quot;10 April&quot; - is increasing, or so I read in a well-known on-line encyclopaedia.  The US military use day-first, and the US courts to some extent (I know not how extensively).  For this reason I feel that tying date format to reader locale is dubious at best (as is referring to the date format as &quot;US&quot;). If, however, it were possible to know the system date format it might be more apposite. 
</pre>
    </div><div id="c195" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c195">Comment 195</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-31 23:01:01 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c194">comment #194</a>)
<span class="quote">&gt; I feel that tying date format to reader locale is dubious at best
&gt; (as is referring to the date format as &quot;US&quot;). If, however, it were
&gt; possible to know the system date format it might be more apposite. </span >

There might be ways of getting such information using Javascript, but it would be very platform-dependent and is bordering on invasion of privacy issues, since it's not information that's normally transmitted with web requests (as opposed to the Accept-Language, which is.)

I'm also not sure if it's really worth the trouble.  Remember, using Accept-Language is just a ''guess'' at the date format the reader expects, just as using &quot;strong national ties&quot; for the article subject was simply a ''guess'' at the majority readership (and thus an even worse guess as to the expected date format.)  As long as the majority of readers that have &quot;en-US&quot; set as their Accept-Language expect &quot;Month Day, Year&quot; format, then we're fine in using that as the default for those users (and FAR better off than we are now.)

The best solution for format issues is for a reader to register and set a format preference themselves.  The only problem with that currently is that setting that preference then hides inconsistencies in format from the editor who sets a preference -- but if there were no inconsistencies in format (because we use some reasonably default instead of &quot;no default&quot;) then that would no longer be an issue, and we could then ''encourage'' people to set a date format preference.

Also, just as an aside, I happen to greatly prefer dates in &quot;big-endian&quot; format (i.e. YYYY-MM-DD format, which I DO NOT consider to be ISO, despite what Wikipedia labels it) and find that format both easier to read and more logical.  I'm mentioning this mostly because a lot of people here and on Wikipedia seem to take it as a given that big-endian format is &quot;unreadable&quot; and that nobody wants it.  I'm also far from alone, since a LOT of programmer-types prefer that format (mostly because alphanumeric sort order then corresponds to chronological order) so we shouldn't make too many assumptions about the popularity of various date formats and how it relates to the depth of feeling that people have on the matter.

-Bill Clark</pre>
    </div><div id="c196" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c196">Comment 196</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-01 08:36:33 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c195">comment #195</a>)
<span class="quote">&gt; 
&gt; Also, just as an aside, I happen to greatly prefer dates in &quot;big-endian&quot; format
&gt; (i.e. YYYY-MM-DD format, which I DO NOT consider to be ISO, despite what
&gt; Wikipedia labels it) and find that format both easier to read and more logical.
&gt;  I'm mentioning this mostly because a lot of people here and on Wikipedia seem
&gt; to take it as a given that big-endian format is &quot;unreadable&quot; and that nobody
&gt; wants it.</span >
&gt;

I think the &quot;given&quot; is a weaker one: that it shouldn't be presented to users who haven't explicitly chosen that format, certainly in normal prose. So, given the current code, no-one should write &quot;the Second World War started on [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=1939-09-03">1939-09-03</a>]]&quot;, because unregistered and new users will see the date in that format: worse, regular users won't even realise that that's what most people are seeing.</pre>
    </div><div id="c197" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c197">Comment 197</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerry Ashton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-01 14:27:04 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c196">comment #196</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=4582#c195">comment #195</a>)
&gt; I think the &quot;given&quot; is a weaker one: that it shouldn't be presented to users
&gt; who haven't explicitly chosen that format, certainly in normal prose...</span >

I think that the YYYY-MM-DD format shouldn't be presented
to readers who haven't explicitly chosen that format (in normal
prose), and further, the readers should be explicitly warned
at the time of making the choice
that dates in that format do not conform to ISO 8601, and
that they are a simple substitition and reordering of the date
that was originally written by the editor who wrote it, without
consideration of what calender it might be in. This would
require a change to the preference menu where the format
is selected.

I also think there should be different preference choices for
articles vs. system information, because I'd like to see
system information (e.g. the items in my watch list) in
the YYYY-MM-DD format but I don't want to see it in articles.
</pre>
    </div><div id="c198" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c198">Comment 198</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-03 16:25:01 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Returning to the subject at hand...

Assuming that there is any interest in preserving the potentially valuable markup, there are only two issues that /need/ to be taken care of *RIGHT NOW*. 
1) The seas of blue, 
2) the YYYY-MM-DDs. 
These are the two basic issues addressed by MOSNUM's deprecation of date linking.
* The first issue requires merely requires standard [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] syntax to not be a link. 
* The second issue merely requires dates to be converted for anons too.

If/When/How an alternate date-formatting markup is implemented does not have anything to do with [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] syntax and accordingly is not a solution for the &quot;seas of blue&quot;. The &quot;seas of blue&quot; problem has to be resolved one way or another, and given that we already have bots and users running around stripping dates of their markup, the &quot;seas of blue&quot; problem has to have priority over everything else. 

The 'accept-language' method is -- _for_the_moment_ -- sufficient to guess what an anon's preferred date format might be. All the other preference detection is non-crucial &quot;nice-to-have&quot; stuff that neither affects a majority of the readership, nor will it be &quot;missed&quot; since it wasn't there to begin with. And all of the other preference detection depends on whether wikis will provide something that can be detected to begin with. It is accordingly pointless to discuss it here and now. Nice-to-have thingies should be filed elsewhere as &quot;Requests for enhancement&quot; after discussion at the village pumps. It was precisely this sort of brainless &quot;exception ABC needs solution XYZ&quot; narcissism that led to there being no sensible default for anons.

A patch is available, and although incomplete because it doesn't resolve the default-for-anons problem, it is a first step, and imminently commit-able. The fatal problem then is that devs with commit privileges don't care to commit it. AND THEY WON'T as long as people bicker about _future_enhancements_ as if such features would solve the bugs. The only thing that these requests-for-enhancement do is indicate that a solution is not in sight.

If there is no interest in preserving the potentially valuable markup, then there is no need to discuss /anything/ date-formatting related. The [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]]s will vanish eventually, and MOSNUM has deprecated any further markup. So this bug report will eventually become obsolete, and with it all the blocking requests-for-enhancements. The stalling over added functionality allows date-formatting to destroy itself.

If Bill Clark would upload a patch that does what his [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] patch theoretically did, then the REASON FOR THIS BUG REPORT is solved. This bug could then be reassigned to Tim (or another dev) and marked _FIXED_. MOSNUM's other technical issue is the date-format for anons, and if this patch could infer a sensible default then that problem would be solved too. Aside from these two issues there is nothing else that &quot;must&quot; be taken care of _now_.
</pre>
    </div><div id="c199" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c199">Comment 199</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-03 16:49:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c198">comment #198</a>)

<span class="quote">&gt; If Bill Clark would upload a patch that does what his [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] patch theoretically
&gt; did, then the REASON FOR THIS BUG REPORT is solved. This bug could then be
&gt; reassigned to Tim (or another dev) and marked _FIXED_. MOSNUM's other technical
&gt; issue is the date-format for anons, and if this patch could infer a sensible
&gt; default then that problem would be solved too. Aside from these two issues
&gt; there is nothing else that &quot;must&quot; be taken care of _now_.</span >

Good point.

This is a busy week for me at my real life job, but I can probably rework the patch by the weekend.  The only complicated part (I think) is tying it in with the cache stuff, since I think the anon default would need to be worked into the user preferences so the cache checking code knows which version of the page to retrieve.  At least, I ''think'' that's how the cache code works (one pre-processed version of the page is cached for each user preference option) but I'll poke through the code to be sure, when I get some time.  I may be able to do at least that much today.

It may actually be simpler (and less efficient) than that, if it's not tied into the cache checking code, in which case I'll be able to provide an updated patch within the next few days.

-Bill Clark
</pre>
    </div><div id="c200" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c200">Comment 200</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-04 05:32:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c199">comment #199</a>)

<span class="quote">&gt; It may actually be simpler (and less efficient) than that, if it's not tied
&gt; into the cache checking code, in which case I'll be able to provide an updated
&gt; patch within the next few days.</span >

DateFormatter is indeed not tied to the cache. Which is why there is lots of room to making it more efficient ;)

There is only one version in the cache, and links (of all kinds) are not pre-processed into &lt;A&gt;s. This expansion occurs in the very last stage of wiki-&gt;html conversion, and needs to be done post-cache so that links are sensitive to state (user and dependencies). I.e., a user's [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Special%3A">Special:</a>]] links at the top-right of each page need to be correct, redlinks/purplelinks/bluelinks state needs to be marked up with the appropriate css classes, and so on.</pre>
    </div><div id="c201" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c201">Comment 201</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-04 19:21:03 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=5502" name="attach_5502" title="unlinks dates, preserves markup, uses Accept-Language for defaults (or DMY)">attachment 5502</a> <a href="attachment.cgi?id=5502&amp;action=edit" title="unlinks dates, preserves markup, uses Accept-Language for defaults (or DMY)">[details]</a></span>
unlinks dates, preserves markup, uses Accept-Language for defaults (or DMY)</pre>
    </div><div id="c202" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c202">Comment 202</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-04 19:25:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I've uploaded a modified version of my second patch.

It uses the current date markup ([[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]]) and will reformat dates according to user preferences, but WITHOUT making them into links.  Dates that should be linked can use the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] format and they will be linked and left in their raw format (same as now.)  Users with &quot;No preference&quot; or anon users will either see marked-up dates in MDY format (if the string &quot;en-US&quot; appears in the &quot;Accept-Language&quot; header sent by their browser) or DMY format (aka &quot;International format&quot;) otherwise.</pre>
    </div><div id="c203" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c203">Comment 203</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-04 19:35:38 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c202">comment #202</a>)
<span class="quote">&gt; Users with &quot;No preference&quot; or anon users </span >

Hmm.. it just occurred to me that maybe these two should be handled differently?  The most recent patch will basically force all properly marked-up dates to appear in a consistent format for all users.  But perhaps logged-in users who have specified &quot;No preference&quot; might actually want to see the (possibly inconsistent) raw format, for some reason?

It's currently recommended practice to have &quot;No preference&quot;, because anon users see dates in raw format.. but since (with this patch) anon users will see either MDY or DMY format consistently, should &quot;No preference&quot; users see the same thing as anons, or should &quot;No preference&quot; continue to mean &quot;raw&quot; format?

</pre>
    </div><div id="c204" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c204">Comment 204</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-04 19:45:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Doesn't &quot;no preference&quot; really mean that the new editor hasn't found the preferences page yet? In which case, I think they should be treated the same as anons.

There could alternatively be another option to distinguish the two cases: &quot;guess from my locale&quot; (default) vs &quot;no transformation&quot;. (Better names needed!).</pre>
    </div><div id="c205" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c205">Comment 205</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-06 00:11:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Well done Bill (technical observation/suggestion follows by e-mail)

Apropos 'Accept-Language' for &quot;No preference&quot; or anon users: The rationale behind currently recommended practice to have &quot;No preference&quot; is to see dates as anons see them. Since anons are now going to see something other than YYY-MM-DD, then having &quot;No preference&quot; should do the same.

Stephen's &quot;no transformation&quot; is a good idea for an /additional/ option, but getting that added to the prefs page is going to be another ball of wax altogether. Bill could of course preempt that addition by adding that functionality to DateFormatter now, but I think it would be a bit premature to change the list of 'const'ants right now. </pre>
    </div><div id="c206" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c206">Comment 206</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-06 00:27:10 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Bill, I'm not sure if this matters, but there is a discrepancy in the dates of the version that you are diff'ing against.
  Your diff is against some version from October 23
  The version on svn (revision 36353) is dated June 16
</pre>
    </div><div id="c207" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c207">Comment 207</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerry Ashton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-06 00:43:09 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Concerning whether a logged in user with no preferences should see what an
anonymous reader sees, or should see an untransformed date, making no
preferences equal the same as anonymous reader removes function, and
makes it impossible to see untransformed dates. Function should not
be removed, especially because a significant number of editors would
rather see harmony between the style of the article and the style of the
dates, rather than one fixed choice.

Further, the present preference selection menu is inadequate, and for
best chance of acceptance of this change, it should be changed as
follows:

-An explicit warning that dates presented in the format that looks
like ISO 8601 do not always conform to that standard

-Replace &quot;No preference&quot; with two items, &quot;Default&quot; and &quot;No transformation&quot;

-Separate the choice for the realm where the date autoformatting presently
occurs (articles, talk pages, Wikipedia space, user pages, help pages, etc.)
with the choice for system messages (such as what appears on watchlists
and history pages). This would provide the advantage that system messages
in the YYYY-MM-DD format include seconds, while other formats do not, so
separating the choices would allow people to see seconds in system messages
and at the same time article dates that include spelled-out months. (Not
that people usually want to see seconds, but it may be useful on occasion.)</pre>
    </div><div id="c208" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c208">Comment 208</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-06 01:14:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I would like to second Jerry's suggestions from c207, with a question about ISO 8601 dates. As I understand it, the issue arises with dates in the Julian calendar. Since dates on talk pages, system messages, and such shouldn't be anything but Gregorian, would the &quot;explicit warning&quot; only apply to the option for content-namespace dates?</pre>
    </div><div id="c209" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c209">Comment 209</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerry Ashton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-06 02:04:14 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I agree with Voyagerfan5761 that system generated times, which will neither have problems with being in a non-Gregorian calendar, nor have a problem with years greater than 9999, will conform to ISO 8601. It might be more expedient to just say dates in that format don't conform to the standard, rather than trying to explain when the standard is obeyed and when it isn't. People will understand 21st century dates even if we make no claim about conforming to the standard.</pre>
    </div><div id="c210" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c210">Comment 210</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-06 05:06:17 UTC
        </span>
      </div>



<pre class="bz_comment_text" >In response to <a href="show_bug.cgi?id=4582#c207">Comment #207</a>, <a href="show_bug.cgi?id=4582#c208">Comment #208</a>, <a href="show_bug.cgi?id=4582#c209">Comment #209</a>:

<span class="quote">&gt; &quot;making no preferences equal the same as anonymous reader removes  function&quot;. </span >

What function? 
Doing nothing (not doing anything) is not a function. Consequently, 
doing anything (not doing nothing) isn't a loss of function.

<span class="quote">&gt; &quot;impossible to see untransformed dates&quot;</span >

The purpose of linking dates is to see them transformed. There is no purpose to linking dates that are not to be transformed.
The condition is reversable; the condition that makes them transformable can be removed to make them untransformable. Therein lies the solution for &quot;impossible to see untransformed dates&quot;.
Also, it seems that date transformation no longer occurs in previews, so there you go.

<span class="quote">&gt; An explicit warning that dates presented in the format that looks like ISO 8601 do not always conform to that standard</span >

This is not the right place to complain about the perceived abuse of the term &quot;ISO&quot;. Regardless of the potential for abuse, the term &quot;ISO&quot; is a handy moniker for &quot;YYYY-MM-DD&quot;. Come up with something else and then go preach it with the world (after solving some more concrete crises perhaps). Dateformatter doesn't care what you call it. Dateformater does not have fireside chats, leave alone chit-chat about cerebral abstractions.

<span class="quote">&gt; Julian calendar</span >

DateFormatter does not care a hoot about the validity of a date or what calendar is being followed. For all it cares, there are a bazillion months in the year, 99 days in every month, and every 42 years is a leap year. Accordingly, February 92 is just as (in)valid as February 29. Garbage in, garbage out. This approach has not been a problem in the past, and there is no point to making it a problem now.

<span class="quote">&gt; Replace &quot;No preference&quot; with two items, &quot;Default&quot; and &quot;No transformation&quot;</span >

Adding a new date pref option is far beyond the scope of this bug report. Its not even DateFormatter's business to generate the prefs page. It also has ramifications far beyond DateFormatter. If you want such changes, you need to file another bug report.
</pre>
    </div><div id="c211" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c211">Comment 211</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-06 06:00:46 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; The most recent patch will basically force all properly marked-up</span >
dates to appear in a consistent format for all users.  But perhaps logged-in
users who have specified &quot;No preference&quot; might actually want to see the
(possibly inconsistent) raw format, for some reason?

Logged-in &quot;no preference&quot; users should continue to see the raw format, if possible, as this helps us to identify inconsistencies and fix them (inconsistencies of that level of geekiness are probably only going to be noticed during featured article reviews, but still).  We also need to keep in mind that WP content can be repurposed in multiple ways, including database dump and import into other wikis that may have different settings (i.e., might not be doing autoformatting tricks), so ultimately consistency is non-trivial.

<span class="quote">&gt; The rationale</span >
behind currently recommended practice to have &quot;No preference&quot; is to see dates
as anons see them. Since anons are now going to see something other than
YYY-MM-DD, then having &quot;No preference&quot; should do the same.

Not really. Some have stated it that way, but it is a misstatement.  The rationale is actually to *see what is really there* so that consistency problems are easy to spot and resolve. Before this patch, that happened to equate to seeing what anons see, but the relationship is one of coincidental correlation, not causation.

<span class="quote">&gt; There could alternatively be another option to distinguish the two cases:</span >
&quot;guess from my locale&quot; (default) vs &quot;no transformation&quot;. (Better names
needed!).

That compromise works for me, other than I would reverse the default. If someone has an account, they are most probably an editor, and (MOS collectively feels, anyway) that they *should* be seeing the real deal, for the reasons given above.

<span class="quote">&gt; Function should not</span >
be removed, especially because a significant number of editors would
rather see harmony between the style of the article and the style of the
dates, rather than one fixed choice.

That, too.  And this is another reason to add the new choice, and invert the suggested &quot;guess&quot; default.

<span class="quote">&gt; Therein lies the solution for &quot;impossible</span >
to see untransformed dates&quot;.

Cypsy, I don't think you grokked the argument that was being made; I think I may have explained it better here.  The really short version is: When I (logged in) go to an article on, say, a thoroughly American topic, like [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Rudoloph%20Wanderone%2C%20Jr.">Rudoloph Wanderone, Jr.</a>]], and see an int'l.-formatted date, as an editor I know immediately that this article has at least one inconsistency in it and needs proofreading (and being an active and compulsive editor, I will be very likely to do that proofread and cleanup).

<span class="quote">&gt; Further, the present preference selection menu is inadequate, and for</span >
best chance of acceptance of this change, it should be changed [...]

I tend to agree, but reiterate cypsy's logical (if forceful) comment that *this is not what this bug report is about*; that's a new feature request.  Even some of what we're talking about here technically consists of new feature requests but can arguably be included here because without that &quot;cleanup&quot; the simpler changes that would resolve this bug in theory wouldn't do so in spirit or in functional practice. But this does not apply, that I can see, to these add'l. feature requests.  KISS principle, then: Only do what we have to, to resolve this bug, then open a new feature request ticket for expanded date formatting options (and warnings, and so forth).

All that said, I agree with everything else so far.  The [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] trick will do what MOS needs, and the HTTP headers trick will also solve the YYYY-MM-DD problem for anons.  Huzzah!</pre>
    </div><div id="c212" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c212">Comment 212</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-06 08:22:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c211">comment #211</a>)
<span class="quote">&gt; 
&gt; &gt; The rationale
&gt; &gt; behind currently recommended practice to have &quot;No preference&quot; is to see dates
&gt; &gt; as anons see them. Since anons are now going to see something other than
&gt; &gt; YYY-MM-DD, then having &quot;No preference&quot; should do the same.
&gt; 
&gt; Not really. Some have stated it that way, but it is a misstatement.  The
&gt; rationale is actually to *see what is really there* so that consistency
&gt; problems are easy to spot and resolve. Before this patch, that happened to
&gt; equate to seeing what anons see, but the relationship is one of coincidental
&gt; correlation, not causation.
&gt; </span >

I tend to agree with the grandparent post not the parent post here. The most important reason for an editor to see the raw dates is because that's what most readers see. If most readers no longer see that, the reason is removed. Maybe there are other reasons -- such as worrying about reuses that don't do date formatting -- but they seem minor to me, and I'm far more concerned about editors who've never gone into their preferences page and chosen their favourite settings. As a geek, I usually do that straight away in a new program, but as a software author I've discovered that lots of people don't. My main worry is people who create an account, and suddenly all the dates -- which worked when they were an anon -- go wrong.
</pre>
    </div><div id="c213" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c213">Comment 213</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-06 11:41:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; Cypsy, I don't think you grokked the argument that was being made; </span >

<span class="quote">&gt; The really short version is: When I (logged in) go to an article on, 
&gt; say, a thoroughly American topic, like [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Rudoloph%20Wanderone%2C%20Jr.">Rudoloph Wanderone, Jr.</a>]], 
&gt; and see an int'l.-formatted date, as an editor I know immediately 
&gt; that this article has at least one inconsistency in it and needs
&gt; proofreading</span >

Let me reiterate to see if I understand it right this time:

An editor-with-&quot;no preference&quot;-pref (i.e. no transform) visits an article with a strong US tie. That being a &quot;US article&quot;, the raw wiki dates should all have been written as [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=M%20d%2C%20Y">M d, Y</a>]] already and will so appear in that form for editor-with-&quot;no preference&quot;-pref. But an inconsistency, say, a [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=YYYY-MM-DD">YYYY-MM-DD</a>]] date, will stick out.

Is that correct? If so, does it make any difference if raw wiki dates were not already [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=M%20d%2C%20Y">M d, Y</a>]]? After all, the output -- regardless of how the raw wiki dates are written -- would still be uniform, right? 

As I understand it, the consistency/national ties issue is moot when all dates in an article are linked. A visitor to [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Rudolf%20Wanderone">Rudolf Wanderone</a>]] with intl pref (or defaulting to intl pref) will see all linked dates as intl dates, no matter how these are formatted in the raw text. 
Similarly, a visitor with US pref (or defaulting to US pref) will see all linked dates as US dates, no matter how these are formatted in the raw text. 
Since the output will always match the pref/autopref of the visitor, it wouldn't really matter anymore how dates in the raw wiki text are formatted. Right?

Secondly, normalizing the dates to an internally consistent format must be a truly onerous task. 
Surely this can be automated?
</pre>
    </div><div id="c214" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c214">Comment 214</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-06 17:19:41 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c213">comment #213</a>)
<span class="quote">&gt; Since the output will always match the pref/autopref of the visitor, it
&gt; wouldn't really matter anymore how dates in the raw wiki text are formatted.
&gt; Right?</span >

It wouldn't matter for WP, but as others have pointed out, it could matter for mirror sites and for people downloading database dumps.

<span class="quote">&gt; Secondly, normalizing the dates to an internally consistent format must be a
&gt; truly onerous task. 
&gt; Surely this can be automated?</span >

It can only be automated if the dates are marked-up.  It's significantly more difficult to identify dates that aren't surrounded by markup (mostly because of variations of date ''ranges'' that contain substrings that look like stand-alone dates) but that's not the worst part.  The worst part is that there's no way for a script to know if a non-marked-up date string is within a ''quotation'' and should thus NOT be normalized, because there is no consistent way of identifying quotations (some articles use quote marks or templates, but some just indent the text or change the size/style or make it italic.)

So yes, it's possible to automatically correct dates that are marked up with [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] (or any other syntax) but any dates that have already been de-linked (or were never linked in the first place) will need to be checked manually, to make sure they're not within a quotation.

-Bill Clark 

</pre>
    </div><div id="c215" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c215">Comment 215</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerry Ashton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-07 13:58:50 UTC
        </span>
      </div>



<pre class="bz_comment_text" >If &quot;no preferences&quot; is to be reinterpreted as &quot;format according to my browser language setting&quot; and the preference menu is to remain untouched, this bug should be rejected. It is not acceptable to prevent signed in users to indicate they wish to see marked-up dates as they were entered in the article (with the sole exception of inserting a comma between the day and month in a case like [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=January%201">January 1</a>]] [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2008">2008</a>]], due to the historical behavior of date autoformatting.

</pre>
    </div><div id="c216" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c216">Comment 216</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-07 22:55:54 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; If &quot;no preferences&quot; is to be reinterpreted as &quot;format according to my browser</span >
language setting&quot; and the preference menu is to remain untouched

That's what I've been arguing against. Editors SHOULD see the date as it is entered, unless they elected to see a specific date format, otherwise they are not aware of article inconsistencies.

<span class="quote">&gt; this bug should be rejected.</span >

No need to be hyperbolic.

<span class="quote">&gt; It is not acceptable to prevent signed in users to indicate</span >
they wish to see marked-up dates as they were entered in the article

Right. But if we just make that the default behavior, there's no need for further alteration of the prefs menu.

If people do insist on browser lang. settings being the default, then, yes, that menu will need changing, but only in that case, unless I'm misunderstanding something.</pre>
    </div><div id="c217" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c217">Comment 217</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-08 07:48:49 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Ok, assuming that Bill will return to old &quot;no preferences&quot; behavior for logged-in users, is the patch acceptable to everyone? 
</pre>
    </div><div id="c218" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c218">Comment 218</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-08 08:50:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c217">comment #217</a>)
<span class="quote">&gt; Ok, assuming that Bill will return to old &quot;no preferences&quot; behavior for
&gt; logged-in users, is the patch acceptable to everyone? 
&gt; </span >

I wouldn't veto it, even if I had such a thing as a veto! But I do still have some worries about the case I raised in <a href="show_bug.cgi?id=4582#c212">comment #212</a>:

<span class="quote">&gt; My
&gt; main worry is people who create an account, and suddenly all the dates -- which
&gt; worked when they were an anon -- go wrong.
&gt; </span >

Is there anything we can do to address that?
</pre>
    </div><div id="c219" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c219">Comment 219</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-08 09:42:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c218">comment #218</a>)
<span class="quote">&gt; &gt; My
&gt; &gt; main worry is people who create an account, and suddenly all the dates -- which
&gt; &gt; worked when they were an anon -- go wrong.
&gt; &gt; 
&gt; 
&gt; Is there anything we can do to address that?</span >

Not if the logged-in default is &quot;no transform&quot; (the alternative is to disable autodates for anons, which I don't think anyone considers an &quot;option&quot;).

Since we back on that subject ([*sigh* deeply here])...

<span class="quote">&gt; &gt; Since the output will always match the pref/autopref of the visitor, it
&gt; &gt; wouldn't really matter anymore how dates in the raw wiki text are formatted.
&gt; &gt; Right?</span >

<span class="quote">&gt; It wouldn't matter for WP, but as others have pointed out, it could matter for
&gt; mirror sites and for people downloading database dumps.</span >

ok, lets automate that then (see next point). Given (what must be) thousands of pages with inconsistent date formatting, this should be handled by bot even if the logged-in default is &quot;no transform&quot;.

<span class="quote">&gt; &gt; Secondly, normalizing the dates to an internally consistent format must be a
&gt; &gt; truly onerous task. Surely this can be automated?</span >

<span class="quote">&gt; It can only be automated if the dates are marked-up. </span >

Um. Those are the only kind of dates under discussion. If they weren't marked up, they would not be subject to transformation. When they are not subject to transformation, they are also not influenced by whether the logged-in default was &quot;no transform&quot; or &quot;from locale&quot;.

</pre>
    </div><div id="c220" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c220">Comment 220</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philippe Verdy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-13 23:57:26 UTC
        </span>
      </div>



<pre class="bz_comment_text" >See <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Proposing a new MediaWiki extension : Global Context Variables"
   href="show_bug.cgi?id=16337">Bug 16337</a> that points to a discussion article and proposal on Meta, for a new very versatile ParserFunction whose style will adopt the syntax of ParserFunctions, and of template parameters (it may look like an extension of template parameters, except that they are modifiable and don't have to be necessarily passed on template invokation (because the block of context variables is passed implicitly).

The discussion on Meta relates existing problems on Multilingual projects like Commons and Wiktionary (or even Meta itself). It can be used to manage multiple sort keys in Wiktionary, instead of just a single default one (the alternative being to pass extra values as parameters to all subtemplates used in a page within some context of use, like the current language code, and the current sort key for that language, to use during categorization of pages using utility templates like the grammatical type templates, or translation templates on Wiktionary.

[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Meta%3AGlobalContextVariables_Extension">Meta:GlobalContextVariables_Extension</a>]]

</pre>
    </div><div id="c221" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c221">Comment 221</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Le Chat</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-20 10:53:27 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Can I vote against this bug? There are so many useful things developers could be doing to improve the software, I don't see any reason to be wasting time on such a pointless issue. No-one needs dates to be formatted in a particular way - it's a non-problem. If text is to be presented to readers in different ways depending on some option or IP range, then start with different spellings like color/colour, or synonyms like football/soccer. However we don't do that, and we don't do metadata either - just let editors write dates as they want them to appear, linked or unlinked according to principles decided by their particular project, and everyone (once they've got over the recent changes in appearance) will be happy. (Kotniski from en.WP) </pre>
    </div><div id="c222" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c222">Comment 222</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alex Z.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-25 15:43:28 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Note that the way Wikimedia's caching works, anons will only be able to see one style of date links without significantly reducing the effectiveness of caching. Wikimedia uses a [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Squid%20cache">Squid cache</a>]], which means that for anonymous users, the process to get a page from the server works something like:
1. Is the page in the cache?
  a. If so, and the cache hasn't expired, return the cached version
  b. Otherwise, continue
2. Start up MediaWiki to get the page
  a. Is the page in the parser cache? If so, return that version
  b. If not, get the text from the database and reparse

For anon users to have multiple options for date formatting, the number of cache misses would likely rise significantly, especially at first, and the size of the cache could potentially be multiplied by the number of formatting options.</pre>
    </div><div id="c223" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c223">Comment 223</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-25 22:23:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c222">comment #222</a>)
<span class="quote">&gt; Note that the way Wikimedia's caching works, anons will only be able
&gt; to see one style of date links without significantly reducing the
&gt; effectiveness of caching. </span >

Yep.  That's pretty much a show-stopper, too.  At best we'd be able to &quot;fool&quot; the squid cache into treating the MDY and DMY versions of a page as two different pages (with which to display determined by the HTTP headers sent by the browser) but that would still cut the cache efficiency in half, which is too much of a performance hit for too little gain.

I'm giving up on this bug and recommending that it be closed.

A javascript-based approach would still work, but that's well beyond the scope of this request and a new one should be opened if people want to pursue that route.

This also means that anyone who wants to keep Date Autoformatting should start reverting the work of Tony, et. al. with their date unlinking, since it doesn't look like a technical fix is in the works after all, and the only reason some of us have been holding off on the reverts is because we'd been hoping for a better (technical) solution.

-Bill</pre>
    </div><div id="c224" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c224">Comment 224</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Masem</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-25 22:29:43 UTC
        </span>
      </div>



<pre class="bz_comment_text" >FWIW, in reply to Bill's comment on closing the bug, I will point out a current RFC where it was asked if editors feel Date Autoformatting is desirable, see <a href="http://en.wikipedia.org/wiki/Wikipedia:Manual_of_Style_(dates_and_numbers)/Date_Linking_RFC#Is_some_method_of_date_autoformatting_desirable.3F">http://en.wikipedia.org/wiki/Wikipedia:Manual_of_Style_(dates_and_numbers)/Date_Linking_RFC#Is_some_method_of_date_autoformatting_desirable.3F</a>

The answer seems to be leaning to &quot;no&quot;, so closing the bug and giving up on fixing it would seem to be agreeable.</pre>
    </div><div id="c225" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c225">Comment 225</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-25 22:34:32 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c223">comment #223</a>)
<span class="quote">&gt; Yep.  That's pretty much a show-stopper, too.  At best we'd be able to &quot;fool&quot;
&gt; the squid cache into treating the MDY and DMY versions of a page as two
&gt; different pages (with which to display determined by the HTTP headers sent by
&gt; the browser) but that would still cut the cache efficiency in half, which is
&gt; too much of a performance hit for too little gain.</span >

We've been through this already.  The default format for all unregistered users should be &quot;28 May 1996&quot; as per RFC 2822.  Then you only need to cache one version of the page.

But the dates should be given a class name like &lt;span class=&quot;localizedate&quot;&gt;, so that third-party tools can recognize from the HTML which dates should be left verbatim and which can be localized.

This offloads the formatting for anons into a javascript, which can be written at any later date and doesn't have anything to do with Mediawiki itself.</pre>
    </div><div id="c226" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c226">Comment 226</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-25 22:57:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c225">comment #225</a>)
<span class="quote">&gt; We've been through this already.  The default format for all unregistered users
&gt; should be &quot;28 May 1996&quot; as per RFC 2822.  Then you only need to cache one
&gt; version of the page.
&gt; 
&gt; But the dates should be given a class name like &lt;span class=&quot;localizedate&quot;&gt;... 
&gt; ...and doesn't have anything to do with Mediawiki itself.</span >

Exactly. This should not be a WONTFIX candidate at all!  I don't know why every time I come back to this page, the KISS principle has gone out the window and people are trying to complicate the matter. This could have been fixed with patches already posted quite some time ago.

</pre>
    </div><div id="c227" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c227">Comment 227</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alex Z.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-25 23:03:07 UTC
        </span>
      </div>



<pre class="bz_comment_text" >So this request is to just change the default date preference formats on the English Wikipedia ($wgDefaultUserOptions), and have the parser wrap them in a span?</pre>
    </div><div id="c228" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c228">Comment 228</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 03:55:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c227">comment #227</a>)
<span class="quote">&gt; So this request is to just change the default date preference formats on the
&gt; English Wikipedia ($wgDefaultUserOptions), and have the parser wrap them in a
&gt; span?
&gt; </span >

No. I think you need to read up on a lot more of the discussion. The defaults are a minor side point. This bug is to make [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] stop autoformatting, and have [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] do that instead.</pre>
    </div><div id="c229" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c229">Comment 229</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alex Z.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 06:04:37 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Okay, nobody's going to do this if they have to read through 2 years worth of comments to figure out what's going on. When I first saw this, the plan seemed to be to modify the software to give some sort of date formatting for anon users.

This bug has more than 3 times as many comments than <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Single login (Unified login) on all wikimedia projects"
   href="show_bug.cgi?id=57">bug 57</a> - the bug for single-user-login!

Please, someone just summarize what the request here actually is, then there is a chance that it might get resolved sometime this century.</pre>
    </div><div id="c230" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c230">Comment 230</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">p858snake</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 06:24:38 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Why not have a special syntax for date formatting &lt;&lt; &gt;&gt; which would be auto formatted to a certain style (ISO 8601 maybe?) for uses that aren't logged in or don't have it set in their preferences and then it formats the dates according to their preference.

For example this is how it might be written in WikiCode: &quot;The show premiered on &lt;&lt;2006-02-17&gt;&gt; and has since produced 50 episodes,&quot; and this is how some date formats might display it:
1. The show premiered on 17/02/2006 and has since produced 50 episodes,
2. The show premiered on 17 February 2006 and has since produced 50 episodes,
3. The show premiered on 02/17/2006 and has since produced 50 episodes</pre>
    </div><div id="c231" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c231">Comment 231</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Le Chat</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 07:57:16 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&lt;rant&gt;Why not just NOT DO THIS? What is the problem it's trying to solve? I'm just amazed that a colour-of-the-bikeshed discussion about date formats should grow to such grotesque proportions. Can anyone explain why this (whatever &quot;this&quot; currently is) is even being considered? (Or, for that matter, why the original date autoformatting function was even considered?) Developers don't have time for many of the genuinely useful feature requests or minor bugs that are being reported here all the time; why should they be wasting their time over this? &lt;/rant&gt;</pre>
    </div><div id="c232" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c232">Comment 232</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 08:41:17 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The request is to separate the syntax for date autoformatting from the syntax for linking. At the moment they both use the same syntax, so it's impossible to have one without the other.

I agree that that sentence doesn't form a plan of action, and the reason this bug is so long is that people have different ideas about how to solve it. But there is a genuine user problem here.</pre>
    </div><div id="c233" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c233">Comment 233</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Le Chat</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 08:58:54 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It's possible to have linking without autoformatting (using colons or pipes).

If the only problem is that it's not possible to have autoformatting without linking, then that should be fairly trivial to fix (just rewrite whatever code does the autoformatting so that it's triggered by some formatting feature other than links, like a CSS style). 

Is there anything else?</pre>
    </div><div id="c234" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c234">Comment 234</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 15:47:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c233">comment #233</a>)

<span class="quote">&gt; then that should be fairly trivial to fix (just rewrite whatever code
&gt; does the autoformatting so that it's triggered by some formatting feature other
&gt; than links, like a CSS style). </span >

just add the necessary &lt;span class=&quot;x&quot;&gt; to Bill's patch.

<span class="quote">&gt; Is there anything else?</span >

Nope. As for &quot;Developers don't have time&quot;: Bill has already done the work. Its /done/. Devs just need to pick it up. Someone needs to give tstarling a wake-up call; its his baby.

Mr Z-man's comment re squid caching for anon users is not a reason why date formatting cannot default to a human-readable format (instead of self::NONE, which -- because of &quot;ISO&quot; date usage -- is a disaster).</pre>
    </div><div id="c235" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c235">Comment 235</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 16:49:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c234">comment #234</a>)

<span class="quote">&gt; Mr Z-man's comment re squid caching for anon users is not a reason why date
&gt; formatting cannot default to a human-readable format (instead of self::NONE,
&gt; which -- because of &quot;ISO&quot; date usage -- is a disaster).</span >

No, but it IS a reason why date formats for anons can't be different based on the browser settings indicated by the Accept-Language header.  All anons would need to see the same date format, which is fine by me (just make the default the &quot;international&quot; format of DMY and screw any jingoist Americans who are confused or offended by that, or let them register and set a preference) but that has already been soundly rejected by the community, multiple times.

To clear a few things up, this ticket is NOT asking to allow for linked dates that bypass autoformatting, because that's already a standard feature (just use the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] format of link) and it's not asking to change the meaning of [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] formatted dates so that they autoformat but don't link (which would reverse the current intent of linked dates and thoroughly confuse people.)

Unless people can agree that ALL anons should see the same date format (presumably DMY) or somebody provides a Javascript-based solution that will do date formatting client-side, this ticket is not able to be resolved.  It should be closed and a new one started that takes into account everything that's been discussed (and rejected) here so far, and asks for a more workable outcome.

...or if you really want to have the sysadmins (why does everybody call them &quot;developers&quot; when WE are just as much &quot;the developers&quot; as they are?) apply one of the patches already submitted, that will basically have the effect of disabling date autoformatting and autolinking (leaving [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] dates untouched in terms of format and link) for all users.  I guess that's better than manually unlinking dates (since it leaves the markup in place for possible future use) but not by much.

-Bill</pre>
    </div><div id="c236" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c236">Comment 236</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alex Z.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 17:00:01 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c234">comment #234</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=4582#c233">comment #233</a>)
&gt; 
&gt; &gt; then that should be fairly trivial to fix (just rewrite whatever code
&gt; &gt; does the autoformatting so that it's triggered by some formatting feature other
&gt; &gt; than links, like a CSS style). 
&gt; 
&gt; just add the necessary &lt;span class=&quot;x&quot;&gt; to Bill's patch.
&gt; </span >

Which patch? There's 4. And CSS classes shouldn't trigger the parser to do things, that's just incorrect on multiple levels. CSS classes should be used for CSS styling or to help JavaScript find the right objects, that's pretty much it. It needs to be some sort of syntax that isn't already reserved for something else (like CSS styling or normal links). That needs to be decided before anything is done.

<span class="quote">&gt; &gt; Is there anything else?
&gt; 
&gt; Nope. As for &quot;Developers don't have time&quot;: Bill has already done the work. Its
&gt; /done/. Devs just need to pick it up. Someone needs to give tstarling a wake-up
&gt; call; its his baby.</span >

People aren't just going to grab a patch and commit it. Especially when the last patch seems to be entirely different from what's being requested in these past several comments.

<span class="quote">&gt; Mr Z-man's comment re squid caching for anon users is not a reason why date
&gt; formatting cannot default to a human-readable format (instead of self::NONE,
&gt; which -- because of &quot;ISO&quot; date usage -- is a disaster).
&gt; </span >

I never said it was. Its the reason why there can only be one default. Defaulting to a different version depending on what the browser language is won't work for anons. The actual default can be changed, as long as there's only one default.</pre>
    </div><div id="c237" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c237">Comment 237</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 17:23:01 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c236">comment #236</a>)
<span class="quote">&gt; Which patch?</span >

To clarify what they are:

&quot;diff -u for includes/DateFormatter.php&quot;

This patch satisfies the ORIGINAL request for this ticket, which was to autoformat dates even when they're not marked up with link syntax.  This was a BAD IDEA and this patch should NOT be applied under any circumstances (in fact I think it makes mistakes with some date ranges, because of the difficulty in identifying dates that lack markup.)

&quot;Simpler patch, just eliminates links&quot;

This patch could be applied if desired, because it works the same as the current autoformatting except that dates aren't linked, just formatted.  Note that there is a vocal group on MOSNUM that is opposed to ANY date autoformatting, so this patch will probably not be acceptable to them.

&quot;Eliminates links, leaves date format untouched&quot;

This patch is the most likely to be applied, because it essentially nullifies date autoformatting.  Dates that are marked up with regular link syntax ([[]] but NOT [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]]) are left untouched -- no formatting change, no link.  This patch does automatically what people like Tony, Lightmouse, et. al. are doing manually.  Applying this patch would be the same as manually unlinking every [[]] linked date on WP, except that it would leave the markup in place for possible future use.

&quot;unlinks dates, preserves markup, uses Accept-Language for defaults (or DMY)&quot;

This patch should not be applied, because the squid cache makes it unworkable.

-Bill</pre>
    </div><div id="c238" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c238">Comment 238</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philippe Verdy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 20:05:48 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I strongly support the removal of the request. Autoformatting dates (or numbers, currency amounts, percentages, zip codes and phone numbers if there are some...) according to user preferences at the server level is a very bad idea.

Autolinking dates is a separate issue that is not to be done in MediaWiki but based on community decision on each Wiki project, and implemented in utility templates if really needed, and used according to local usage policies.

Removing autolinked dates could however be performed on the server as it will not be dependant on user preferences: however this should be done by a configuration PHP hook to enforce a local policy decision (so the existing templates trying to bypass this limitation would stop working, or a complex utility template would have to be designed to tweak and complicate the syntax so much that the PHP hook will not detect it, but at the same time the usage of such utility template could be monitored.

My view about it is just that the default dates generated for example in user signatures with tildes, should JUST be surrounded by something indicating this is a date and giving its effective numeric value in abbreviated ISO format (in Zulu timezone). This can be done just by generating (example on French Wikis):

&lt;span class=date&quot;id=&quot;date-20081126T184500&quot;&gt;mercredi 16 novembre 2008, 20:45:00 CET&lt;/span&gt;

instead of just the date and time formatted with the SINGLE DEFAULT format that has been set according to the local Wiki localisation settings (and not accoriding to user preferences). This will be useful for example when someone that can't read Arabic or Farsi goes there to discuss something and has to reply in some local discussions: even if the discussion is made in English, the defautl signature will appear formatted in a way that is impossible to read by most non-readers of Arabic (but a gadget selection and user preference settings should help those users see the dates in a way they can read, and formatted at times accurate for their local timezone (instead of the timezone of the server).

With this type of code, connected users could still use a gadget to transform those dates and interpret the signature dates (notably in discussion pages) accordingto their curerntly selected locale in their preference (the transform would NOT be performed by the server but locally by the user's browser, using the Javascript loaded from the gadget). Nothing should be done for dates inserted in articles.

This would just concern the way the MediaWiki parser transforms four-tildes and five-tildes into formatted current dates...

Nothing is needed for all other dates, that articles will specify directly using a single locale setting (users editing articles to insert dates manually or defisigning templates computing and displaying dates on the Wiki should use only a format suitable for the localization of the current wiki project (but if they want, they may insert the same markup as the one used by MediaWiki for the substitution of tildes. Note that this won't work completely for such dates (with the markup above) occuring in section titles : only the section title will be converted by the Javascript gadget running in the user's browser, but not the formatted date visible in the TOC. I don't think this is a problem.

</pre>
    </div><div id="c239" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c239">Comment 239</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philippe Verdy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 20:12:28 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Also I don't support the unneeded special wiki syntax for formatting dates. This is not needed at all !

Writing &lt;&lt;2008-11-26&gt;&gt; is just a shortcut for generating a single format that you can also generate using existing templates like: {{DateFormat|2008|11|26}}. It is as much readable than the proposed syntax, and not surprising for editors if the template is given a meaningful name... And what the template will generate and the kind of aditional HTML markup it can provide to help a user gadget interpret and reformt the date itself on the user's browser is in full control of the template, without any addition to the Wiki syntax.
</pre>
    </div><div id="c240" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c240">Comment 240</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 20:21:17 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c239">comment #239</a>)
<span class="quote">&gt; Also I don't support the unneeded special wiki syntax for formatting dates.
&gt; This is not needed at all !</span >

Using an alternate markup syntax was suggested when we were discussing server-side date processing to be done in DateFormatter.php, but that's not a viable approach any longer.

So you're correct that the currently proposed solution (using Javascript to do client-side date formatting) can make do with a template.  That's very different than what was being discussed before, and in the server-side approach, a new syntax would have been better than using a template.  That's why it was being proposed, although it's no longer under consideration.

-Bill</pre>
    </div><div id="c241" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c241">Comment 241</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stephen Turner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 22:14:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c238">comment #238</a>)
<span class="quote">&gt; I strongly support the removal of the request. Autoformatting dates (or
&gt; numbers, currency amounts, percentages, zip codes and phone numbers if there
&gt; are some...) according to user preferences at the server level is a very bad
&gt; idea.
&gt; </span >

I have a lot of sympathy for this point of view. However, we already have date autoformatting. It can be argued that that was a mistake. The particular implementation was certainly a mistake (IMO). So the question now is how to make it suck less, especially given the articles that already use it.
</pre>
    </div><div id="c242" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c242">Comment 242</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philippe Verdy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-26 23:00:01 UTC
        </span>
      </div>



<pre class="bz_comment_text" >That's simple: if you implemented user-specific data formatting, keep the syntax you have adopted for Wiki, but make it generate a generic format that will be handled now with Javascript (and well, ignore anonymous users without preferences in some user account...).

Anyway, I have made some other suggestions on Madiawiki to help servers reduce the load of Wikimedia Squid caches and PHP servers. Basically, it's time to think about creating a locally deployable proxy version of the MediaWiki software, implementing the PHP MediaWiki PHP code, the PHP engine and the web server, and also working as the proxy that a local browser (or a new dedicated MediaWiki browser with extra editing tools) could connect to instead of connecting directly to the online service. I suggested that this type of deployment cuold also be part of a CD/DVD distribution and would allow eliminating the need to preview before sending edits.

Instead I spoke about the possibility of the locally deployed proxy to be able to have its own local cache, communicating with the online server only with pages in raw format (much less load on Wikimedia PHP servers, because much less work to do in PHP for formatting pages, just the need to manage the history and control the access rights, and the possibility to inform the conencted users about incoming messages).

The locally deployed proxy would be able to load pages from a locally installed database (from a dump stored on a CD/DVD or downloaded onto a harddisk) and filter out the edits made by the local user(s) that could mange a queue of updates to send (in a private, corporate or shoold environment, it would be possible to support a supervizion for pages sent/edited from the local network through the proxy storing the list of locally edited pages, if local users are not directly granted the right to commit their pages online without permission or basic monitoring anf history.

I spoke also about the fact that this would also allow Wikipedia and similar collaborative projects to be able to better control the level of vandalism made mostly anonymously from school/university networks (no more need to ban the entire school or university, if it has firewalled Wikiemdia servers but routed them through a MediaWiki proxy managing the supervision: the school or corporate network would be able to submit updates through public online accounts managed by supervizors that are contactable and can act locally about the vandalism or breach of copyright by one of their supervized local users (that may be connected to the local proxy using a strong and verifiable identity that does not need to be transmitted online, so it can also improve their online privacy).

Finally, the whole set: a dedicated MediaWiki browser application and a local proxy could become the prefered way to work with Wikipedia: all would be integrated including the management of the submission queue and a local supervizion of the queue by the user itself, managing himself the pririty of queues. As it would embed a local cache, it would perform much less traffic with the online server.

The Wikimedia's Squid proxies would still be used, but onlyto cache the much smaller raw pages instead of the large HTML pages. The Wikimedia's own MEdiaWiki servers would also see much less traffic and would caould satisfy more users with limited local cache of pre-generated HTML pages (without the user-specific additions like messages), because all locally deployed proxies would only communicate with them in raw format.

So that's a way to control for a longer term the problem of the explosion of traffic and of server costs to manage this traffic. You would not necessarily need the same explosion in terms of number of squid servers needed to cache the full HTML pages (they would still be needed to cache the images, because, by default, the image thumbnails should be generated centrally and cached centrally to avoid sending them always in full resolution to every user of a proxy version of MediaWiki...

Well all this goes too far way from the current problem of date formatting. I realize that the fact you have eimplemented it is causing problems wiith more traffic generated, but it should be easily reverted before its use becomes widespread, or the onli ne preformances will suffer. I suggest the simple solution of generating a single HTML code for your existing syntax, and then let a Javascript gadget perform the actual formatting. Your squid servers will appreciate !


</pre>
    </div><div id="c243" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c243">Comment 243</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-27 01:31:34 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Re:
<span class="quote">&gt; No, but it IS a reason why date formats for anons can't be different based on</span >
the browser settings indicated by the Accept-Language header.  All anons would
need to see the same date format, which is fine by me (just make the default
the &quot;international&quot; format of DMY and screw any jingoist Americans who are
confused or offended by that, or let them register and set a preference) but
that has already been soundly rejected by the community, multiple times.

I'm not so sure.  I'm unaware of anyone actually involved in the discussion, here or at w:en:WP:MOSNUM, upset by the idea any longer.  It clearly would have the benefit of consistency over the current practice, which is willy-nilly and confusing even to editors, much less readers.  PS: I am an American.  Non-Yank date formatting doesn't bother me at all, and anyone upset to apoplexy about it needs to find a new hobby or something.  ANY change to the way MW works generally, and more specifically how it works at WP, will ruffle a few people's feathers, but it chills out quickly and life goes on.</pre>
    </div><div id="c244" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c244">Comment 244</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-27 21:46:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c237">comment #237</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=4582#c236">comment #236</a>)
&gt; &gt; Which patch?</span >

#1 is out of the question, as Bill points out.
#2, #3 and #4 all prevent linked dates from being links. So they all fix the &quot;seas of blue&quot; problem.

#4 also fixes the &quot;ISO cruft for anons/noprefset&quot; problem. The objection that &quot;the squid cache makes [#4] unworkable&quot; is not the whole story. Squid caching only applies to anons, so #4 still works fine for the noprefset registered users. And even *if* the patch were not modified to deal with anons some other way (eg <a href="show_bug.cgi?id=4582#c243">comment #243</a>), then anons would get to see whatever it was that the last anon who caused a fetch from MW saw. Which A) is still a whole sight better than seeing ISO cruft, B) a pretty good weighted-random choice of which dateformat to display for anons.

The bottom line is that *something* needs to be done at DateFormatter too, otherwise the &quot;seas of blue&quot; will continue to exist, and people will continue to go around removing date links, which is inherently destructive. Although there is a Javascript solution available, its not a viable solution unless DateFormatter adds the appropriate markup /and/ the admins make the Javascript site-wide, which is unlikely to happen because -- as we see from the interminable &quot;discussions&quot; elsewhere -- common-sense is in short supply. 

Objecting all very well and good, but #3 and #4 are a GoodThing, and if there are problems with them, then these can be fixed or compensated for. Squid et al are not the show-stoppers that they being treated as.

For those joining the discussion late (e.g. Mr. Z Man and Philippe Verdy): the title of this bug only tells half the story. This bug is in effect the search for a technical solution to the perennial discussions at en:wp, which are provoked by A) the eyesore caused by the linked dates also appearing as links; B) the fact that only very few dates actually need to be links; C) the inconsistencies that appear in an article if not every date is linked; D) the cruft that anons and editors without a datepref get to see, E) the (preservation of) meta information present in [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]]s but not in plain text. 

Patch #3 addresses issues A, B, C, E. Patch #4: A, B, C, D, E.

(<a href="show_bug.cgi?id=4582#c236">comment #236</a>)
<span class="quote">&gt; People aren't just going to grab a patch and commit it. Especially when the
&gt; last patch seems to be entirely different from what's being requested in these
&gt; past several comments.</span >

This comment borders on stupidity. All the issues noted above are already mentioned in the top 10 comments on this page, which are from Jan-March *2006*. That these issues have not been addressed (and in fact the reason why this bug was once closed for equally ignorant and stupid reasons) is due solely to dev apathy and their inability to read (evident again in a recent email). One need only follow Tony Souter's (en:User:Tony1) comments on this page -- from engaged and supportive (<a href="show_bug.cgi?id=4582#c14">comment #14</a>) to disillusioned (<a href="show_bug.cgi?id=4582#c158">comment #158</a>) -- to recognize how destructive dev negligence has been. 

</pre>
    </div><div id="c245" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c245">Comment 245</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alex Z.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-28 04:43:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c244">comment #244</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=4582#c237">comment #237</a>)
&gt; &gt; (In reply to <a href="show_bug.cgi?id=4582#c236">comment #236</a>)
&gt; &gt; &gt; Which patch?
&gt; 
&gt; #1 is out of the question, as Bill points out.
&gt; #2, #3 and #4 all prevent linked dates from being links. So they all fix the
&gt; &quot;seas of blue&quot; problem.
&gt; 
&gt; #4 also fixes the &quot;ISO cruft for anons/noprefset&quot; problem. The objection that
&gt; &quot;the squid cache makes [#4] unworkable&quot; is not the whole story. Squid caching
&gt; only applies to anons, so #4 still works fine for the noprefset registered
&gt; users. And even *if* the patch were not modified to deal with anons some other
&gt; way (eg <a href="show_bug.cgi?id=4582#c243">comment #243</a>), then anons would get to see whatever it was that the
&gt; last anon who caused a fetch from MW saw. Which A) is still a whole sight
&gt; better than seeing ISO cruft, B) a pretty good weighted-random choice of which
&gt; dateformat to display for anons.</span >

As I said, the default can be changed rather easily. It can even be changed for en.wikipedia without a change to the software. But having anons see either of 2 date formats depending on the location of the last person who caused a cache update, is just ugly.

<span class="quote">&gt; The bottom line is that *something* needs to be done at DateFormatter too,
&gt; otherwise the &quot;seas of blue&quot; will continue to exist, and people will continue
&gt; to go around removing date links, which is inherently destructive. Although
&gt; there is a Javascript solution available, its not a viable solution unless
&gt; DateFormatter adds the appropriate markup /and/ the admins make the Javascript
&gt; site-wide, which is unlikely to happen because -- as we see from the
&gt; interminable &quot;discussions&quot; elsewhere -- common-sense is in short supply. </span >

I really don't like the idea of having normal wikilink syntax do something, but not actually make a link. It adds even more complexities to wikitext and inconsistencies in parser output. This would probably need approval from Tim/Brion and would probably need a config option to enable it. 

<span class="quote">&gt; Objecting all very well and good, but #3 and #4 are a GoodThing, and if there
&gt; are problems with them, then these can be fixed or compensated for. Squid et al
&gt; are not the show-stoppers that they being treated as.</span >

4 will not work correctly with squid caching. I'm not going to introduce code into MediaWiki that I know will be partially broken for Wikimedia.

<span class="quote">&gt; For those joining the discussion late (e.g. Mr. Z Man and Philippe Verdy): the
&gt; title of this bug only tells half the story. This bug is in effect the search
&gt; for a technical solution to the perennial discussions at en:wp, which are
&gt; provoked by A) the eyesore caused by the linked dates also appearing as links;
&gt; B) the fact that only very few dates actually need to be links; C) the
&gt; inconsistencies that appear in an article if not every date is linked; D) the
&gt; cruft that anons and editors without a datepref get to see, E) the
&gt; (preservation of) meta information present in [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]]s but not in plain text. 
&gt; 
&gt; Patch #3 addresses issues A, B, C, E. Patch #4: A, B, C, D, E.</span >

A is basically a matter of personal opinion. 
B is a local style issue. Just because the English Wikipedia decided it doesn't think dates should be linked anymore, doesn't mean we should force that on every user of MediaWiki.
As for C, the patches that simply remove the link wouldn't really address it, since the autoformatting would still happen.
Changing the default preference will also mostly fix D (it won't affect existing accounts) without pointless inconsistencies for anon users.

<span class="quote">&gt; (<a href="show_bug.cgi?id=4582#c236">comment #236</a>)
&gt; &gt; People aren't just going to grab a patch and commit it. Especially when the
&gt; &gt; last patch seems to be entirely different from what's being requested in these
&gt; &gt; past several comments.
&gt; 
&gt; This comment borders on stupidity. All the issues noted above are already
&gt; mentioned in the top 10 comments on this page, which are from Jan-March *2006*.
&gt; That these issues have not been addressed (and in fact the reason why this bug
&gt; was once closed for equally ignorant and stupid reasons) is due solely to dev
&gt; apathy and their inability to read (evident again in a recent email). One need
&gt; only follow Tony Souter's (en:User:Tony1) comments on this page -- from engaged
&gt; and supportive (<a href="show_bug.cgi?id=4582#c14">comment #14</a>) to disillusioned (<a href="show_bug.cgi?id=4582#c158">comment #158</a>) -- to recognize
&gt; how destructive dev negligence has been. 
&gt; </span >

Insulting the people trying to help isn't really going to get them to help. There's hundreds of other open bugs I can work on where I won't be called stupid, ignorant, apathetic, and negligent when I try to figure out WHAT PEOPLE ACTUALLY WANT NOW. Not what people want 2 years ago. Not what people wanted last month. Not things where it has been established won't work. This is basically what I've seen in the few days I've been commenting here:

*We want different formatting depending on browser language
**That won't work
*Well we didn't want that anyway. Just a change to the default and create an easy way to change them with JS
**Okay, that sounds easy enough
*No, we want [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] to not autoformat and have [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] do it instead
**Okay
*No, we want a completely new syntax for date links
**That'll be a little harder
*No, we want to wrap dates in a span if we want them to be autoformatted
**That's just ugly
*Well what we actually want is for [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] to not create a link
**And that's where we're basically at now.

The actual request seems to vary significantly depending on who's making the comment.</pre>
    </div><div id="c246" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c246">Comment 246</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-28 06:29:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; Just because the English Wikipedia decided it doesn't</span >
think dates should be linked anymore, doesn't mean we should force that on
every user of MediaWiki.

It's really the opposite, though.  Someone, back when, decided it would be a good idea to operator overload linking and date autoformatting, and this was pushed on user of WP and every other MW installation. Today, virtually everyone who has thought about it agrees that it was a bad idea.

<span class="quote">&gt; Insulting the people trying to help isn't really going to get them to help.</span >

I absolutely agree, and want to point out that not everyone involved here is being negative. I appreciate the time and analysis you've put into this, and fully understand that you cannot just go implement something without understanding its ramifications, nor implement &quot;something A&quot; when &quot;something B&quot; and &quot;something C&quot; have also been proposed.

<span class="quote">&gt; I really don't like the idea of having normal wikilink syntax do something, but</span >
not actually make a link.

Strikes me as a non-issue, since [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=image">image</a>]] and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=category">category</a>]] already do non-linky things.  I think it is more accurate to think of [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=something">something</a>]] as &quot;take an action&quot; code.  That &quot;action&quot; is most commonly creating a wikilink, but for a very long time has obviously also had alternative meanings depending upon context. This wouldn't be any different, and having [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] not create a link but do autoformatting instead, and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] create a link, is actually more, not less, consistent with this [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=something">something</a>]] model.  In very, very few cases is there any need for a date to actually be linked; probably far fewer cases than there are cases (e.g. on &quot;Wikipedia:&quot;-namespace pages where images and categories are being discussed) of categories and images needing to be wikilinked to instead of being inlined or being added as a category to a page, respectively.</pre>
    </div><div id="c247" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c247">Comment 247</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Radon210</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-30 03:42:48 UTC
        </span>
      </div>



<pre class="bz_comment_text" >How about this setup:
*All dates with [[]] will be autoformatted but not linked
*All dates with [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] will be autoformatted and linked
*Autoformating is set to a default global configuration option so that the display of dates is consistent
*If its desirable, a magic word can be set up to change the default on a page by page basis (I would put this at the lowest priority)
Thats my 2 cents here.  The first 3 should solve many of the outstanding problems about date format and the 4th would make certain pages that have a good reason to be formatted differently from the default. Obviously 3 and 4 would not override user preferences</pre>
    </div><div id="c248" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c248">Comment 248</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alex Z.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-30 03:52:38 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c247">comment #247</a>)
<span class="quote">&gt; *All dates with [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] will be autoformatted and linked</span >

Isn't that sort of the opposite of current behavior? I thought currently [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] is used for linking without autoformatting. If we change it so that it does autoformatting it will potentially break existing uses, or at least be confusing.
</pre>
    </div><div id="c249" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c249">Comment 249</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philippe Verdy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-30 10:38:31 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Remove ALL this autoformatting mess from the [[]] syntax.

For me, [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2000-12-31">2000-12-31</a>]] is ONLY creating a link to an article named &quot;2000-01-01&quot; (with no attempt to interpret it as a date, and NO attempt to reformat it as it breaks data tables where they are NOT dates)

For me [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A2000-12-31">:2000-12-31</a>]] is ALSO creating a link to the same article name, but explicitly in the default namespace (and here also, it MUST not attempt to reformat it).

Those that want autoformatting (according to the default locale set on the server for the WHOLE Wiki project only, but NOT according to user preferences) should have their own syntax, but if needed they can still use a template to do that if there's no syntax support, like {{Date|2000|12|31}}.

If a syntax like &lt;&lt;2000-01-01&gt;&gt; is supported for autoformatting, it should NOT create any link: liks should have to be spacified by users themselves like this: [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2000-12-31">2000-12-31</a>|&lt;&lt;2000-12-31&gt;&gt;]], or using a template that performs both, like {{DateLink|2000|12|31}} that can be defined as

[[{{{prefix|}}}{{{3}}}-{{{4}}}-{{{5}}}{{{suffix|}}}|{{{prefix|}}}&lt;!--
--&gt;&lt;span class=&quot;formated date&quot; id=&quot;date-ymd-{{{3}}}-{{{4}}}-{{{5}}}&quot;&gt;&lt;!--
--&gt;&lt;&lt;{{{3}}}-{{{4}}}-{{{5}}}&gt;&gt;&lt;!--
--&gt;&lt;/span&gt;&lt;!--
--&gt;{{{suffix|}}}]]&lt;!--

Such example template above performs three things:
- formatting the date for the DEFAULT display according to server-side Wiki project defaults (3rd line);
- surrounding the DEFAULT disply format by enough HTML to allow user-level preferences on the CLIENT side (via a Javascript gadget) (2nd and 4th lines);
- linking to an article (whose prefix and suffix part of the name can be given, see 1st and 5th line), but whose format used in the target article name is predictable and will not change even if the server's default format changes).


Now don't implement or remove date linking automatically from the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=ymd">ymd</a>]] or [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Aymd">:ymd</a>]] syntax!
This is not the role of MediaWiki to take such uninformed decision, but the role of a community decision, only as a general rule where there may exist exceptions for some famous dates, or within some namespaces or categories related to content management and maintenance.

</pre>
    </div><div id="c250" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c250">Comment 250</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Radon210</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-30 14:35:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&#64;MrZman:
Yeah that would pretty much work correctly because autoformatted links can be created via [[[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]]]]
&#64;Philippe:
This is not just about the English Wikipedia, many other websites use Mediawiki and this feature may be useful to them</pre>
    </div><div id="c251" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c251">Comment 251</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philippe Verdy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-30 16:16:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I did not speak specifically about English Wikipedia (in fact I did not know (or noticed) that you had implemented autoformatting there. I hope it was not deployed too on French Wikipedia because I doubt that this &quot;autoformatting&quot; will work correctly there and that you really know how French dates are formatted !

For me, autoformatting dates is silly and this has to be at least fully disabled as needed, i.e. everywhere its &quot;guess&quot; (about what is a date or not or if this formatting is desired) is completely wrong, because the syntax it recognizes is completely equivalent to the syntax used for normal links. Then if you need a special keyword in the page to disable this guess and so to disable autoformatting in links, you've done a wrong job: in fact the syntax chosen for autoformatting was badly chosen.

Suggestion for the choice of the syntax (that DOES NOT create a link): {{#2000-12-31}}. No conflict there because it uses the prefix for parser functions, and no parser function can have a name starting by a digit... But I wonder why you absolutely want a short syntax for dates specifically but not for other features that may want a shorter syntax that would be much more useful.

The need for autoformatting would mean that the writer of an article does not know how to format a date in the SINGLE main language of the target Wiki (or page or section, if a page can be marked specifically as using another target language, something that is possible with the &quot;xml:lang=&quot; attribute name, which is also already recognized by MediaWiki as the &quot;lang=&quot; atttribute name of HTML elements). If that writer does not know that, what is the meaning of the rest of the page, beside this isolate date? Can't the editor directly format the date himself (including in templates that would like to format computed dates)?

On the same front, trying to remove links generated by the [[]] syntax should not depend on the presence or not of the leading &quot;:&quot; because it is also part of the syntax to separate the root (anonymous) namespace space before the article name.

Yeah! Two hacks introduced recently in English Wikipedia (and badly documented), two errors, and now you're thinking about compatiblity elsewhere ? No. you shoulmd revert this &quot;support&quot;, as it is completely UNNEEDED and generates more problems than what it is supposed to solve.

</pre>
    </div><div id="c252" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c252">Comment 252</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alex Z.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-30 22:21:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c250">comment #250</a>)
<span class="quote">&gt; &#64;MrZman:
&gt; Yeah that would pretty much work correctly because autoformatted links can be
&gt; created via [[[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]]]]</span >

What? That doesn't make any sense at all. Ideally, if anything is done as a result of this bug, partially reversing current behavior won't be part of it. AFAIK, [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] is currently used to link a date *without formatting it.* If all of a sudden they start autoformatting, its going to break every every existing use.

<span class="quote">&gt; I did not speak specifically about English Wikipedia (in fact I did not know
&gt; (or noticed) that you had implemented autoformatting there. I hope it was not
&gt; deployed too on French Wikipedia because I doubt that this &quot;autoformatting&quot;
&gt; will work correctly there and that you really know how French dates are
&gt; formatted !</span >

Date autoformatting in MediaWiki has been around since 2003. There are 5 different options and the default is no autoformatting.
 
<span class="quote">&gt; Suggestion for the choice of the syntax (that DOES NOT create a link):
&gt; {{#2000-12-31}}. No conflict there because it uses the prefix for parser
&gt; functions, and no parser function can have a name starting by a digit... But I
&gt; wonder why you absolutely want a short syntax for dates specifically but not
&gt; for other features that may want a shorter syntax that would be much more
&gt; useful.</span >

I agree a parser function would be better than creating a whole new syntax, or breaking existing syntax to do it.

<span class="quote">&gt; The need for autoformatting would mean that the writer of an article does not
&gt; know how to format a date in the SINGLE main language of the target Wiki (or
&gt; page or section, if a page can be marked specifically as using another target
&gt; language, something that is possible with the &quot;xml:lang=&quot; attribute name, which
&gt; is also already recognized by MediaWiki as the &quot;lang=&quot; atttribute name of HTML
&gt; elements). If that writer does not know that, what is the meaning of the rest
&gt; of the page, beside this isolate date? Can't the editor directly format the
&gt; date himself (including in templates that would like to format computed dates)?</span >

No, it means people may not want the normal style of dates used on the wiki. Using the English Wikipedia as the obvious example, British users may want the &quot;date month year&quot; format, American users the &quot;month date year&quot; format. Others may want the ISO 8601 format.

<span class="quote">&gt; Yeah! Two hacks introduced recently in English Wikipedia (and badly
&gt; documented), two errors, and now you're thinking about compatiblity elsewhere ?
&gt; No. you shoulmd revert this &quot;support&quot;, as it is completely UNNEEDED and
&gt; generates more problems than what it is supposed to solve.
&gt; </span >

What? As I said, date autoformatting has been around for 5 years.</pre>
    </div><div id="c253" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c253">Comment 253</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Minh Nguyễn</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-30 22:27:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c252">comment #252</a>)
<span class="quote">&gt; Date autoformatting in MediaWiki has been around since 2003. There are 5
&gt; different options and the default is no autoformatting.</span >

If I'm not mistaken, the autoformatting is only supported for the English localization. In other locales, the date format option in [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Special%3APreferences">Special:Preferences</a>]] only affects MediaWiki's interface, not the wiki's content.</pre>
    </div><div id="c254" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c254">Comment 254</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Radon210</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-11-30 23:32:57 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&#64;MrZman that was the point, [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] only creates a link and if its wrapped in [[]] (the link syntax that is) its both linked and autoformatted.</pre>
    </div><div id="c255" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c255">Comment 255</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-01 00:08:50 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; Yeah! Two hacks introduced recently in English Wikipedia (and badly</span >
documented), two errors, and now you're thinking about compatiblity elsewhere ?
No. you shoulmd revert this &quot;support&quot;, as it is completely UNNEEDED and
generates more problems than what it is supposed to solve.

Exactly. Calling date linking+autformatting as currently implemented a &quot;feature&quot; is disingenuous.  The ranty earlier message about it being oh-so-important to preserve all of this and introduce some new &lt;&lt;date&gt;&gt; syntax (or {{#date}}, I think someone else suggested along the same lines) seems to me to be missing the point and unnecessarily complicating the issue.</pre>
    </div><div id="c256" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c256">Comment 256</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alex Z.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-01 20:52:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >We don't really seem to be getting anywhere here, I think at the least we need to summarize the options. Here's a list of the ones I've noted, some can be combined with others:

1. Remove date autoformatting entirely (rather than removing the option entirely from code, this could most easily be accomplished by setting $wgUseDynamicDates to false for enwiki)
2. Keep the current syntax, remove the links: [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] would continue to autoformat, but it wouldn't create a link, [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] would continue to work as it currently does
3. Remove autoformatting and linking, &quot;[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]]&quot; would be parsed as &quot;date&quot; - no link, no formatting
4. Create a new syntax for date autoformatting (a parser function, some new syntax, etc), [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] would work the same as any other normal link, [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] would continue to work as it currently does
5. Wrap dates in a &lt;span&gt; for client-side customization with JavaScript
6. Change the default date format preference from &quot;no preference&quot; to something more sensible

Option 1 would obviously be the simplest, though a combination of options 4, 5, and 6 would also remove most of the problems I think. I really don't care for option 2, and option 3 is pretty terrible IMO.</pre>
    </div><div id="c257" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c257">Comment 257</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-01 22:25:06 UTC
        </span>
      </div>



<pre class="bz_comment_text" >That list seems to be missing the main one proposed, for which a patch has already been written:

7. [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] would autoformat but NOT link, just as [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=image">image</a>]] and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=category">category</a>]] do something special and don't make a link, while [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] would link but not autoformat (just as [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Aimage">:image</a>]] and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Acategory">:category</a>]] create links but don't do anything special).  If someone wants to link AND autoformat, which frankly would be kind of weird, they can use template code, examples of which have already been posted.

I think it is important to keep in mind that the main impetus behind this bug report is the &quot;sea of blue&quot; problem.  I think few of us would cry if the autoformatting just plain stopped, but I don't think many have been actually asking for that, and resolving the sea-of-blue problem doesn't require that, nor require new features, like a new &lt;&lt;date&gt;&gt; or {{#date}} or {{DATE:date}} syntax.

Imagining some wiki where linking to actual articles on every conceivable date would make sense AND where autoformatting is important (I cannot think of any practical application of this, but let's pretend), this can just be handled with templates.  Enwiki is awash in useless, reader-distracting date links (I want to point out that the frequent kvetching against Tony1 about that here is a red herring; many, many users have been removing such date links), and as the most-used wiki in the world, by several orders of magnitude, not to mention the Wikimedia flagship and thus the source of funding for MediaWiki to even have this site to argue about bugs, I don't feel we can just throw up our hands and not resolve this, in an enwiki-favorable manner.

My vote is to just do #7, and keep this as simple as possible, so that it actually proceeds instead of sitting here as a languishing bone of contention for another 2 years.</pre>
    </div><div id="c258" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c258">Comment 258</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Radon210</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-01 22:42:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I like a combination of 2 and 6, but 4 can be used in place of 2.  It would probably solve most outstanding problems and I'd say 6 is a must do</pre>
    </div><div id="c259" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c259">Comment 259</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alex Z.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-01 23:52:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c257">comment #257</a>)
<span class="quote">&gt; That list seems to be missing the main one proposed, for which a patch has
&gt; already been written:
&gt; 
&gt; 7. [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] would autoformat but NOT link, just as [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=image">image</a>]] and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=category">category</a>]]
&gt; do something special and don't make a link, while [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] would link but not
&gt; autoformat (just as [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Aimage">:image</a>]] and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Acategory">:category</a>]] create links but don't do
&gt; anything special).  If someone wants to link AND autoformat, which frankly
&gt; would be kind of weird, they can use template code, examples of which have
&gt; already been posted.</span >

That would be #2, &quot;Keep the current syntax, remove the links: [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] would continue to autoformat, but it wouldn't create a link&quot;

</pre>
    </div><div id="c260" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c260">Comment 260</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Voyagerfan5761 / dgw</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-02 00:30:37 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c259">comment #259</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=4582#c257">comment #257</a>)
&gt; &gt; That list seems to be missing the main one proposed, for which a patch has
&gt; &gt; already been written:
&gt; &gt; 
&gt; &gt; 7. [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] would autoformat but NOT link, just as [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=image">image</a>]] and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=category">category</a>]]
&gt; &gt; do something special and don't make a link, while [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] would link but not
&gt; &gt; autoformat (just as [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Aimage">:image</a>]] and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Acategory">:category</a>]] create links but don't do
&gt; &gt; anything special).  If someone wants to link AND autoformat, which frankly
&gt; &gt; would be kind of weird, they can use template code, examples of which have
&gt; &gt; already been posted.
&gt; 
&gt; That would be #2, &quot;Keep the current syntax, remove the links: [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] would
&gt; continue to autoformat, but it wouldn't create a link&quot;
&gt; </span >

So if #7 is the same as #2, and #7 already has a patch written for it, #2 already has a patch written. Since #(7|2) is also &quot;the main one proposed&quot;, is there any reason the patch shouldn't be applied to allow this bug to be finally closed for good?</pre>
    </div><div id="c261" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c261">Comment 261</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alex Z.</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-02 00:48:09 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c260">comment #260</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=4582#c259">comment #259</a>)
&gt; &gt; (In reply to <a href="show_bug.cgi?id=4582#c257">comment #257</a>)
&gt; &gt; &gt; That list seems to be missing the main one proposed, for which a patch has
&gt; &gt; &gt; already been written:
&gt; &gt; &gt; 
&gt; &gt; &gt; 7. [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] would autoformat but NOT link, just as [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=image">image</a>]] and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=category">category</a>]]
&gt; &gt; &gt; do something special and don't make a link, while [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]] would link but not
&gt; &gt; &gt; autoformat (just as [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Aimage">:image</a>]] and [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Acategory">:category</a>]] create links but don't do
&gt; &gt; &gt; anything special).  If someone wants to link AND autoformat, which frankly
&gt; &gt; &gt; would be kind of weird, they can use template code, examples of which have
&gt; &gt; &gt; already been posted.
&gt; &gt; 
&gt; &gt; That would be #2, &quot;Keep the current syntax, remove the links: [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] would
&gt; &gt; continue to autoformat, but it wouldn't create a link&quot;
&gt; &gt; 
&gt; 
&gt; So if #7 is the same as #2, and #7 already has a patch written for it, #2
&gt; already has a patch written. Since #(7|2) is also &quot;the main one proposed&quot;, is
&gt; there any reason the patch shouldn't be applied to allow this bug to be finally
&gt; closed for good?
&gt; </span >

Because A) it doesn't solve all the problems (crappy default being the big one) B) its not clear if that's what people actually want, hence my summary of the multitude of options. C) Many of the options are easy, Option 1 for example doesn't need a patch at all, its a matter of removing 1 line from the Wikimedia config files. Just because option 2 happens to have had code written for it first doesn't mean its the best option. D) I'm not entirely convinced its a good idea to use link syntax for a non-link. Category and Image links don't create normal links, but they do create links. E) I haven't tested it yet.</pre>
    </div><div id="c262" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c262">Comment 262</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerry Ashton</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-02 03:34:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >VoyagerFan5761 asks why not do #7. Discussion on the English Wikipedia &quot;Manual of Style (dates and numbers)&quot; seems to be building a consensus to not do autoformatting, especially if non-logged-in readers do not benefit. If eventually autoformatting is no longer done, and gradually all autoformatting markup is removed, then someone who wants to link to an article about a date for some reason will have to use the odd syntax [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3AFebruary%2030">:February 30</a>]], and since there will be few examples of autoformatting markup around, the reason for this odd syntax will not be apparent. This does not compare to the unusual syntax for images, because the current form of image linking does not seem to be going away.</pre>
    </div><div id="c263" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c263">Comment 263</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-02 10:51:01 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Not to be overly argumentative, but re: #2/#7:

2 and 7 weren't identical, since 2 did not address [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3Adate">:date</a>]], only [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]], but whatever.

<span class="quote">&gt; it doesn't solve all the problems (crappy default being the big one)</span >

Refresh my memory; what's the crappy default?  If it's that crappy, then just fix that, too, and we're done, right? I've seen [D]D Month YYYY suggested as the proper default, with little if any objection, including from Americans (like myself); we may not be globally popular folks right now, but we aren't retarded, and understand that format just fine.

<span class="quote">&gt; B) its not clear if that's what people actually want, hence my summary of the</span >
multitude of options. 

From my reading, it's the most-sought solution, and it would comport with MOSNUM's consensus, which took years to arrive at, meanwhile I don't think I've seen a credible, non-hypothetical reason not to go that direction, only &quot;what-ifs&quot; like &quot;maybe there's a wiki somewhere where having all dates linked and autoformatted is useful&quot;.

<span class="quote">&gt; C) Many of the options are easy, Option 1 for example</span >
doesn't need a patch at all, its a matter of removing 1 line from the Wikimedia
config files. Just because option 2 happens to have had code written for it
first doesn't mean its the best option. 

The opposite is also true. I never suggested that the other options are impossible, only that we are in a good position to implement the one that seems to have the most favor, and have been for some time.

<span class="quote">&gt; D) I'm not entirely convinced its a good idea to use link syntax for a non-link. </span >

Moot point, for all practical purposes, given both images and categories, which use &quot;link syntax&quot; (better thought of as &quot;do something&quot; syntax) to show a picture and put an article in a category, respectively.  #2/#7 is just &quot;do something, different in this case&quot;. (More accurately, it's &quot;stop doing two things - linking and autoformatting - the latter of which is something different, and only do the one different thing&quot;.)

<span class="quote">&gt; Category and Image links don't create normal links, but they do create links.</span >

That's picking nits; they would not actually have to - one could easily create a [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=foo%3A...">foo:...</a>]] that did not create any form of link but did something else entirely, such as applying a CSS class or whatever.  And [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] formatting could conceivably create some kind of &quot;non-normal link&quot;, in some manner on the page somewhere, such as an entry in a (presently nonexistent) article timeline sidebar feature, or whatever.  (For this reason, I faintly agree that dates should remain marked up with [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=date">date</a>]] formatting, rather than have the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20and%20"> and </a>]] removed by bots or by individuals with too much time on their hands.)

E) I haven't tested it yet.

True of all options, no?

All that said, I'll ultimately be satisfied with any solution that ends the sea of useless blue date links, really.
</pre>
    </div><div id="c264" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c264">Comment 264</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-02 10:53:41 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; Discussion on the English Wikipedia &quot;Manual</span >
of Style (dates and numbers)&quot; seems to be building a consensus to not do
autoformatting, especially if non-logged-in readers do not benefit. If
eventually autoformatting is no longer done, and gradually all autoformatting
markup is removed, then someone who wants to link to an article about a date
for some reason will have to use the odd syntax [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3AFebruary%2030">:February 30</a>]], and since
there will be few examples of autoformatting markup around, the reason for this
odd syntax will not be apparent.

That's a cart-before-the-horse issue, really.  MOSNUM is castigating autoformatting because it creates a sea of blue.  If THAT problem is solved, then there is no particular reason to oppose autoformatting, and as others have pointed out here there are other potential uses for autoformatting more generally (color/colour, etc.), if it doesn't overload the wikilinking function.</pre>
    </div><div id="c265" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c265">Comment 265</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Radon210</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-02 22:54:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c264">comment #264</a>)
<span class="quote">&gt; &gt; Discussion on the English Wikipedia &quot;Manual
&gt; of Style (dates and numbers)&quot; seems to be building a consensus to not do
&gt; autoformatting, especially if non-logged-in readers do not benefit. If
&gt; eventually autoformatting is no longer done, and gradually all autoformatting
&gt; markup is removed, then someone who wants to link to an article about a date
&gt; for some reason will have to use the odd syntax [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3AFebruary%2030">:February 30</a>]], and since
&gt; there will be few examples of autoformatting markup around, the reason for this
&gt; odd syntax will not be apparent.
&gt; 
&gt; That's a cart-before-the-horse issue, really.  MOSNUM is castigating
&gt; autoformatting because it creates a sea of blue.  If THAT problem is solved,
&gt; then there is no particular reason to oppose autoformatting, and as others have
&gt; pointed out here there are other potential uses for autoformatting more
&gt; generally (color/colour, etc.), if it doesn't overload the wikilinking
&gt; function.
&gt; </span >

2 things need to be noted.
1) The English Wikipedia is not the only website using mediawiki
2) There is also probably going to be a configurable default set</pre>
    </div><div id="c266" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c266">Comment 266</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Le Chat</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-03 08:56:38 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Seems to me that all the devs need to do is to provide a magic word for user locale (value dependent on user preference or browser information); it would then be up to individual wikiprojects to decide whether to use it and how. If they did decide to use it it would be easy to make parser-function-based templates to do date autoformatting, spelling autoformatting and whatever else, without the need for any more software enhancements. (I don't know how the caching problem would be solved, but presumably in whatever way it's currently solved with date autoformats.)</pre>
    </div><div id="c267" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c267">Comment 267</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-03 19:11:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c266">comment #266</a>)
<span class="quote">&gt; Seems to me that all the devs need to do is to provide a magic word for user
&gt; locale </span >

Notwithstanding that magic words cannot be made subject to user, this bug is evidence that per-user content is a terrible idea. Besides, /articles/ that are locale-specific (cf. ENGVAR), not users.

(In reply to <a href="show_bug.cgi?id=4582#c256">comment #256</a>)
<span class="quote">&gt; [list of options]</span >

If MediaWiki were wikipedia-specific, option #2 would be fine. But MediaWiki is used by other sites too, who may be expecting dateformatting to work as it has done so far. Among the listed options, the only realistic options is #1 since that does not affect anything but en.wiki. But the resultant &quot;seas of red&quot; will of course not be an improvement over &quot;seas of blue&quot;.

(In reply to <a href="show_bug.cgi?id=4582#c264">comment #264</a>)
<span class="quote">&gt; That's a cart-before-the-horse issue, really.  MOSNUM is castigating
&gt; autoformatting because it creates a sea of blue.</span >

True, but it is not /just/ that the seas of blue exist, but that there is no alternative and -- to judge from this bugzilla ticket -- no hope that an alternative will be forthcoming. Once editors/bots begin mass de-linking dates (and the RFCs indicate that this is going to happen) there will be no horse to put the cart before. 

</pre>
    </div><div id="c268" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c268">Comment 268</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-03 20:26:46 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c267">comment #267</a>)
<span class="quote">&gt; Once editors/bots begin mass de-linking dates (and the RFCs indicate
&gt; that this is going to happen) there will be no horse to put the cart
&gt; before. </span >

It's not just &quot;going to happen&quot; -- it's already happening.  That's what got me involved in this bug in the first place, since Tony (et al.) were refusing to hold off on delinking, and used the &quot;lack of response&quot; on this bug as an excuse.  By their own estimates, they've already delinked tens of thousands of dates in thousands of articles.  The RFCs are an attempt to get them to stop, or to at least get some GENUINE consensus support for their actions.

I'd prefer to keep date autoformatting and actually LIKE the date links (I don't agree that &quot;overlinking&quot; is EVER an issue.. I'd prefer to see MORE links in articles, not fewer) but more importantly I want to see the markup left in place so that we have the option of doing something more useful with it in the future.  With the markup, it would be trivial to have a bot replace the [[]] with a template or new syntax or whatever... but without the markup, all of that would need to be done manually, to confirm that we're not dealing with a date in a quote, or odd formatting edge cases like &quot;On March 1, 500 people were killed&quot; which could either mean that 500 people were killed on March 1 or that some unspecified number of people were killed on March 1, 500 A.D.

If the consensus is that date autoformatting should be done away with and dates should not (usually) be linked, then I'd prefer to have that enforced by applying the third patch, since it would leave all the markup in place (and we could then proceed to start working on an improved date autoformatting for some future release).  It would also accomplish the goal of Tony and his cohorts right away, without them having to edit untold number of articles.  Everybody wins.

-Bill
</pre>
    </div><div id="c269" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c269">Comment 269</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">cypsy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-03 22:34:16 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; ... used the &quot;lack of response&quot; on this bug as an excuse.  </span >

Its a valid point. Cf. <a href="show_bug.cgi?id=4582#c35">comment #35</a> of 16 December 2006

Lack of response is also a response. Its not an unjustifiable position either, after all &quot;if X is causing a problem then X should be removed.&quot; Since X is local to en.wiki, its up to en.wiki to remove it.

<span class="quote">&gt; Everybody wins.</span >

Its a well-known fact that everybody wins with patch #3. There is however no indication that it will in fact be implemented. Indeed, the opposite is true.
</pre>
    </div><div id="c270" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c270">Comment 270</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 09:23:41 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I can resignedly go along with Bill's idea (third patch), though it doesn't seem optimum to me.  I can't agree with the idea that the sea of blue isn't a real problem and we need more and more links. Overlinking is a well-studied problem in usability circles, and has been since the mid-1990s, with a lot of data backing up the concerns. It's not a WP issue, but a general one with regard to hypertext media as a class.</pre>
    </div><div id="c271" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c271">Comment 271</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Le Chat</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 15:00:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Everyone wins with the third patch? Forgive me if I've misunderstood, but the third patch means not linking dates that are enclosed normally in [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=...">...</a>]], right? I can't see how ordinary editors can be said to &quot;win&quot; by being prevented from making links to dates in the normal way they make links to everything else; nor is it the developers' job to forcibly delink *all* existing dates (which would be the consequence of this patch - again unless I've misunderstood).

Seems the optimum solution is to give up all futile attempts at social engineering and simply turn off the current autoformatting, allow dates to be linked or not just like anything else, and (when ready, if at all) introduce a simple new syntax (if not &quot;magic word&quot; then something else, doesn't really matter, obviously it is feasible since the current autoformatting does it) for producing alternative text output depending on user preference (/locale). Then the projects could decide whether to use this syntax for dates, for alternative spellings, alternative meanings of words or whatever. Or (preferably) not use it at all.</pre>
    </div><div id="c272" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c272">Comment 272</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 15:51:28 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c270">comment #270</a>)
<span class="quote">&gt; I can resignedly go along with Bill's idea (third patch), though it doesn't
&gt; seem optimum to me.  I can't agree with the idea that the sea of blue isn't a
&gt; real problem and we need more and more links. Overlinking is a well-studied
&gt; problem in usability circles, and has been since the mid-1990s, with a lot of
&gt; data backing up the concerns. It's not a WP issue, but a general one with
&gt; regard to hypertext media as a class.</span >

Just in case there's any confusion, the third patch DOES eliminate links on [[]] formatted dates (leaving [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] or &quot;piped&quot; [[|]] dates alone) so it solves the &quot;sea of blue&quot; problem.  My personal preference would have been to keep the links, but I wrote the patch to do what (I think) other people want, not what I want.

As for usability studies, I'd take them with a grain of salt.  I had a boss that was fond of pointing to usability studies to &quot;prove&quot; that serif fonts were easier to read than san-serif fonts (he came from the newspaper industry and insisted on serif fonts on all our websites.)  Then, about ten years ago, the numbers started to shift -- and nowadays, san-serif fonts are preferred something like 2-to-1 over serif fonts.  What changed?  More people started reading text on computers, which are more likely to us san-serif fonts.

Usability studies measure what people are *familiar* *with*, not what is &quot;inherently&quot; easier to use.  As people gain more exposure to hyperlinked text, their &quot;tolerance&quot; for hyperlinks will increase.  Plus, there are always people in any usability study that deviate from the norm.  My point in saying that *I* don't mind the hyperlinks is that the choice of whether or not to link a date should be one left up to the *reader* in most cases.  Some people don't like an abundance of links, and they should have the option of turning off the links.  Some people like having links, and they should have the option of turning them on.

-Bill
</pre>
    </div><div id="c273" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c273">Comment 273</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 16:07:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c271">comment #271</a>)
<span class="quote">&gt; I can't see how ordinary editors can be said to &quot;win&quot; by being prevented
&gt; from making links to dates in the normal way they make links to everything
&gt; else; nor is it the developers' job to forcibly delink *all* existing dates
&gt; (which would be the consequence of this patch - again unless I've
&gt; misunderstood).</span >

Dates that use the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] or [[|]] style of markup will still be linked but not autoformatted, just as they are now.  It's only the dates with [[]] markup that will appear unlinked (and in &quot;raw&quot; format) on the page.

Presumably some of the [[]] dates are ones that really *should* remain linked, and editors will need to change those to [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] or [[|]] format to re-enable the links after (if) the patch is applied.

It's important to note that there are a number of editors that are manually removing ALL of the [[]] markup around links, RIGHT NOW.  They've already removed thousands, perhaps tens of thousands, of such links.  In doing so they're also eliminating valuable markup that could be put to better use, or (if consensus dictates) re-enable date linking/autoformatting.  The proposed (third) patch accomplishes the same goal as these editors -- eliminate date linking and autoformatting for [[]] dates while leaving [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] and [[|]] ones untouched -- but in a way that happens immediately and which is completely reversible.

So instead of writing &quot;everybody wins&quot; I should have written &quot;the people currently removing link syntax win, and the people (including me) who want to develop an improved parser function that depends on date markup don't lose quite as badly as they otherwise would.&quot;  That better?

-Bill</pre>
    </div><div id="c274" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c274">Comment 274</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Le Chat</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 16:28:16 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Well, other losers seems to be (1) the editor population at large (who would have to learn a different linking syntax specially for dates, and - if your preservation programme is to have any value - be expected to use a counterintuitive syntax even for unlinked dates); (2) those who wish to retain existing linked dates in many articles (such as the chronological articles themselves). I'm personally all in favour of the delinking, but I don't see a need to do it by brute force in a way that leaves a pointless syntactical complication for editors frozen in for the foreseeable future. </pre>
    </div><div id="c275" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c275">Comment 275</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 17:20:54 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c274">comment #274</a>)
<span class="quote">&gt; who would have to learn a different linking syntax specially for dates</span >

There's *already* a different linking syntax for dates, and it's the same as for links to categories and for images (and inter-wiki links for that matter.)  The patch doesn't change that.

If I wanted to link to a specific date *currently* I would still need to use the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] or [[|]] syntax to do it, otherwise my link would automatically be broken into a link to the day-month combination and a different link to the year.

So the patch has nothing to do with the weird date linking syntax.

<span class="quote">&gt; those who wish to retain existing linked dates in many articles
&gt; (such as the chronological articles themselves).</span >

If those dates aren't already marked up using either the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] or [[|]] syntax, then editors like Tony and Lightmouse are going to delink them (if they haven't done so already.)  They're using a Javascript tool that does the delinking automatically and (if the number of complaints on their talk pages are any indication) they aren't being too careful about which dates they're delinking.

<span class="quote">&gt; I'm personally all in favour of the delinking, but I don't see a
&gt; need to do it by brute force in a way that leaves a pointless syntactical
&gt; complication for editors frozen in for the foreseeable future. </span >

I don't see the need to do it by &quot;brute force&quot; (which applies more to what Tony and others are doing rather than the proposed patch) in a way that makes the decision (reached without proper consensus) hard to reverse.

Bear in mind that the patch is meant as a temporary measure.  Applying it would allow us to do *instantly* what Tony and others will take months or years to do by hand, and to gauge reader response right away.  If readers complain about the change, it's trivial to remove the patch and revert the instructions on MOSNUM to how they were for the past few years (i.e. encourage date linking for autoformatting.)  If readers applaud the change, then the manual delinking could still occur (or a bot could take over) to clean up the now-obsolete linking syntax, and THEN the patch could be removed.

Either way, the patch will eventually no longer be needed, either because an improved date autoformatting function has been created or because readers show that they really do want date linking and/or autoformatting.

-Bill</pre>
    </div><div id="c276" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c276">Comment 276</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">billclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 17:24:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c275">comment #275</a>)
<span class="quote">&gt; Either way, the patch will eventually no longer be needed, either because an
&gt; improved date autoformatting function has been created or because readers show
&gt; that they really do want date linking and/or autoformatting.</span >

Sorry.. that last part should read: &quot;or because readers show that they really DON'T want date linking and/or autoformatting.&quot;

-Bill
</pre>
    </div><div id="c277" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c277">Comment 277</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-12-05 18:07:28 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Bill says:
<span class="quote">&gt; Presumably some of the [[]] dates are ones that really *should* remain linked,</span >
and editors will need to change those to [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%3A">:</a>]] or [[|]] format to re-enable the
links after (if) the patch is applied.

Right. There are so few dates that actually should be linked that this is a really trivial matter. </pre>
    </div><div id="c278" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c278">Comment 278</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andrew Garrett</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-03-10 01:13:50 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Fixed, <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/48249" title="revision 48249 in SVN">r48249</a>.</pre>
    </div><div id="c279" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c279">Comment 279</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-03-18 23:02:56 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Since this tweaks around markup, it really needs some parser test cases.</pre>
    </div><div id="c280" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c280">Comment 280</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">MacGyverMagic
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-03-31 10:36:46 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It's a nice addition for templates, but not suitable for use in regular articles because it uses unneccesarily complicated formatting. The perceived problem with regular linking of dates is that it caused irrelevant links in whatlinkshere, but it's format is highly superior. Can't we just choose how to format a date in our preferences without the requirement for any extra coding at all?</pre>
    </div><div id="c281" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c281">Comment 281</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andrew Garrett</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-07 00:50:54 UTC
        </span>
      </div>



<pre class="bz_comment_text" >parser test cases were done ages ago.</pre>
    </div><div id="c282" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c282">Comment 282</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">wclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-07 01:35:01 UTC
        </span>
      </div>



<pre class="bz_comment_text" >This wikitext:

{{#formatdate:January 15}}

Produces this page text:

January 1, 5

Surely that's not correct.</pre>
    </div><div id="c283" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c283">Comment 283</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andrew Garrett</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-11 15:20:55 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c282">comment #282</a>)
<span class="quote">&gt; This wikitext:
&gt; 
&gt; {{#formatdate:January 15}}
&gt; 
&gt; Produces this page text:
&gt; 
&gt; January 1, 5
&gt; 
&gt; Surely that's not correct.</span >


Quoted from my talk page, on this matter:

If you're interested in fixing the problem with yearless dates, it's an interesting one. When you strip out the [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=%20"> </a>]] syntax, you end up leaving &quot; *,? *&quot; as the only thing separating the day from the year, and since that regex matches the empty string, the parser function thinks the first digit of a two-digit day is the day, and the second digit is the year (or the other way around, depending on what the &quot;raw&quot; format is.) Fixing it is non-trivial because while the simple and obvious fix is to use &quot; *,? +&quot; (or &quot; *,? *&quot; for the non-perl-compatible regex) that will introduce annoying edge cases where the comma is misplaced (handled correctly by the standard autoformatting) or where the year is on a new line in the wikitext. I'm not sure if those edge cases are worth worrying about though. --UC_Bill (talk) 18:30, 10 March 2009 (UTC)

    Maybe &quot;( ,)+&quot; would be better.. except that will allow [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=15%20January">15 January</a>]],,,,,,,,[[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=2009">2009</a>]] to be matched (which may or may not be a problem) and would require some corresponding changes to the &quot;keys&quot; array in DateFormatter to tell it to ignore the new match register. --UC_Bill (talk) 18:41, 10 March 2009 (UTC)</pre>
    </div><div id="c284" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c284">Comment 284</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philippe Verdy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-11 16:33:02 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Why not simply: &quot;( *, *| +)&quot; ?
This seems a trivial change that explicitly wants a single comma with optional surrounding spaces, or at least one space.</pre>
    </div><div id="c285" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c285">Comment 285</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philippe Verdy</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-11 16:46:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >In other words:
--- trunk/phase3/includes/parser/DateFormatter.php	(revision 48249)
+++ trunk/phase3/includes/parser/DateFormatter.php	(revision ?????)
&#64;&#64; -50,3 +50,3 &#64;&#64;
 
 		# Real regular expressions
+		$this-&gt;regexes[self::DMY] = &quot;/{$this-&gt;prxDM} *,? *{$this-&gt;prxY}{$this-&gt;regexTrail}&quot;;
-		$this-&gt;regexes[self::DMY] = &quot;/{$this-&gt;prxDM}( *, *| +){$this-&gt;prxY}{$this-&gt;regexTrail}&quot;;
</pre>
    </div><div id="c286" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c286">Comment 286</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andrew Garrett</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-24 04:01:44 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Fixed, with a parser test case in <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/49794" title="revision 49794 in SVN">r49794</a>.</pre>
    </div><div id="c287" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c287">Comment 287</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">wclark
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-05-08 01:51:09 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The most recent changes break existing autoformatting for linked dates (not those in {{#formatdate}}) -- badly.  The problem is that by putting an additional () grouping into the regexes, the characters of $this-&gt;keys no longer correspond to the correct groups.

This will fix it:

Index: includes/parser/DateFormatter.php
===================================================================
--- includes/parser/DateFormatter.php   (revision 50326)
+++ includes/parser/DateFormatter.php   (working copy)
&#64;&#64; -59,10 +59,10 &#64;&#64;

        # Extraction keys
        # See the comments in replace() for the meaning of the letters
-       $this-&gt;keys[self::DMY] = 'jFY';
+       $this-&gt;keys[self::DMY] = 'jF Y';
        $this-&gt;keys[self::YDM] = 'Y jF';
-       $this-&gt;keys[self::MDY] = 'FjY';
-       $this-&gt;keys[self::YMD] = 'Y Fj';
+       $this-&gt;keys[self::MDY] = 'Fj Y';
+       $this-&gt;keys[self::YMD] = 'Y  Fj';
        $this-&gt;keys[self::DM] = 'jF';
        $this-&gt;keys[self::MD] = 'Fj';
        $this-&gt;keys[self::ISO1] = 'ymd'; # y means ISO year

HOWEVER, I think it would be better to simply revert ALL of the changes associated with this bug, and to close the bug as &quot;WONTFIX&quot; since the recent ArbCom-sponsored poll determined that the existing autoformatting is to be eliminated anyway.</pre>
    </div><div id="c288" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c288">Comment 288</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rich Farmbrough</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-05-23 13:29:16 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I agree with Bill and am closeing the bug.  See <a href="https://bugzilla.wikimedia.org/show_bug.cgi?id=18479">https://bugzilla.wikimedia.org/show_bug.cgi?id=18479</a> for the request to turn off autoformatting on en:WP.</pre>
    </div><div id="c289" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c289">Comment 289</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andrew Garrett</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-05-24 09:12:10 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I don't care whether English Wikipedia wants to use it or not. There is useful functionality in MediaWiki that needs to be fixed. 

Please don't decide on my behalf that I'm not going to work on a feature unless your name is Brion Vibber.</pre>
    </div><div id="c290" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=4582#c290">Comment 290</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David E. Siegel</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-05-25 22:01:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=4582#c287">comment #287</a>)
...
<span class="quote">&gt; HOWEVER, I think it would be better to simply revert ALL of the changes
&gt; associated with this bug, and to close the bug as &quot;WONTFIX&quot; since the recent
&gt; ArbCom-sponsored poll determined that the existing autoformatting is to be
&gt; eliminated anyway.</span >

MediaWiki is uised on sites other than en.wp. Even if the poll indicates that this functionality will never be used on the en wikipedia, it may well be useful on other mediawiki sites. 

Of course, for many such sites, the original request of new syntax to accomplish formatting *without* linking would be preferable, and i think simpler to code, since detectign existing date formats would not be an issue. </pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>

    <hr><div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=4582&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=4582">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=4582">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=4582">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>        


<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>

<br>
<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="head" class="noprint">
			<!-- /search -->
			<div id="p-search">
				<h5><label for="searchInput">Search</label></h5>
				<form id="searchform" action="buglist.cgi" method="get"
				 onsubmit="if (this.quicksearch.value == '')
				 { alert('Please enter one or more search terms first.');
				 return false; } return true;">
					<input type='hidden' name="title" value="Special:Search"/>
					<div id="simpleSearch">
						<input id="searchInput" name="quicksearch" type="text" title="Search Bugzilla [alt-f]" accesskey="f" value="" />
						<button id="searchButton" type='submit' name='button' title="Search Bugzilla for this text">&nbsp;</button>
					</div>
				</form>
			</div>
			<!-- /search -->
			<!-- personal -->
			<div id="p-personal" class="">
				<h5>Personal tools</h5>
				<ul >
							<li id="new_account_container">
								<a href="createaccount.cgi">New&nbsp;Account</a>
							</li>
						<li id="mini_login_container">
  <span class="separator">| </span>
  <a id="login_link" href="show_bug.cgi?id=4582&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('')">Log In</a>

  
  <form action="show_bug.cgi?id=4582" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login"
        onsubmit="return check_mini_login_fields( '' );"
  >
    <input id="Bugzilla_login" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('')"
    >
    <input class="bz_password" 
           id="Bugzilla_password" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy" value="password"
           title="Password"
           onfocus="mini_login_on_focus('')"
    >
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "email address",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('')">[x]</a>
  </form>
</li>
<li id="forgot_container">
  <span class="separator">| </span>
  <a id="forgot_link" href="show_bug.cgi?id=4582&amp;GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form"
        class="mini_forgot bz_default_hidden">
    <label for="login">Login:</label>
    <input type="text" name="loginname" size="20" id="login">
    <input id="forgot_button" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token" name="token" value="1419363810-LoHpJoSxb9cZsE2tquf0TrAZEtl8T1exxs7ubkeMxTo">
    <a href="#" onclick="return hide_forgot_form('')">[x]</a>
  </form>
</li>

				</ul>
			</div>
			<!-- /personal -->
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="panel" class="noprint">
				<!-- logo -->
				<div id="p-logo"><a style="background-image: url(skins/contrib/Wikimedia/images/bugzilla-logo.png);" href="./"  title="Visit the main page"></a></div>
				<!-- /logo -->
				<!-- navigation -->
				<div class="portal">
					<h5>Navigation</h5>
					<div class="body">
						<ul><li><a href="query.cgi?format=specific">Search bugs</a></li>
			<li><a href="query.cgi?format=advanced">Advanced search</a></li>
			<li><a href="describecomponents.cgi">Browse projects</a></li>
			<li><a href="enter_bug.cgi">Enter a new bug</a></li>
                        <li>
                                <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
                        </li>	
						</ul>
					</div>
				</div>
				<!-- /navigation -->
				<!-- interaction -->
				<!-- /interaction -->
				<!-- toolbox -->
				<div class="portal">
					<h5>Links</h5>
					<div class="body">
						<ul><li><a href="report.cgi">Reports</a></li>
			<li><a href="weekly-bug-summary.cgi?tops=10&days=7">Weekly Summary</a></li>
				<li>
						<a href="request.cgi">Requests</a>
				</li>
						</ul>
					</div>
				</div>
				<!-- /toolbox -->
			</div>
		<!-- /panel -->		

		<!-- footer -->
		<div id="footer" >
			<ul id="footer-info">
				<li>Bugzilla version 4.4.5</li>
			</ul>

			<ul id="footer-places">
				<li><a href="https://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Bug_management/Bugzilla_etiquette" title="Bug management/Bugzilla etiquette">Bugzilla etiquette</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:About" title="Project:About">About MediaWiki.org</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:General_disclaimer" title="Project:General disclaimer">Disclaimers</a></li>
			</ul>
			<ul id="footer-icons" class="noprint">
				<li id="footer-icon-poweredby"><a href="http://www.bugzilla.org/"><img src="skins/contrib/Wikimedia/images/bugzilla-badge.png" height="31" width="88" alt="Powered by Bugzilla" /></a></li>
			</ul>
			<div style="clear:both"></div>
		<div class="outro"></div>
		</div>
		<!-- /footer -->
	</body>
</html>