<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 6200 &ndash; Linebreaks are mishandled in &lt;blockquote&gt; and &lt;li&gt;</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="https://old-bugzilla.wikimedia.org/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=6200&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=6200">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=6200">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=6200">



    
    <link href="skins/standard/global.css?1389015166"
          rel="alternate stylesheet" 
          title="Classic"><link href="js/yui/assets/skins/sam/autocomplete.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="js/yui/assets/skins/sam/calendar.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/global.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/show_bug.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="extensions/Voting/web/style.css?1389015166" rel="stylesheet"
        type="text/css" ><!--[if lte IE 7]>
      


  <link href="skins/standard/IE-fixes.css?1389015166" rel="stylesheet"
        type="text/css" >
<![endif]-->

    <link href="skins/contrib/Wikimedia/global.css?1402013050" rel="stylesheet"
        type="text/css" title="Wikimedia"><link href="skins/contrib/Wikimedia/show_bug.css?1402441020" rel="stylesheet"
        type="text/css" title="Wikimedia">

      <link rel="stylesheet" href="skins/contrib/Wikimedia/vector.css?1403109885" media="screen"
            title="Wikimedia" />


    

    

    
<script type="text/javascript" src="js/yui/yahoo-dom-event/yahoo-dom-event.js?1389015166"></script><script type="text/javascript" src="js/yui/cookie/cookie-min.js?1389015166"></script><script type="text/javascript" src="js/yui/datasource/datasource-min.js?1389015166"></script><script type="text/javascript" src="js/yui/connection/connection-min.js?1389015166"></script><script type="text/javascript" src="js/yui/json/json-min.js?1389015166"></script><script type="text/javascript" src="js/yui/autocomplete/autocomplete-min.js?1389015166"></script><script type="text/javascript" src="js/yui/calendar/calendar-min.js?1389015166"></script><script type="text/javascript" src="js/global.js?1389015166"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 15
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 6200 – Linebreaks are mishandled in \x3cblockquote\x3e and \x3cli\x3e",  
                             "show_bug.cgi?id=6200" );
        document.title = "Bug 6200 – Linebreaks are mishandled in \x3cblockquote\x3e and \x3cli\x3e";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 6200 – Linebreaks are mishandled in \x3cblockquote\x3e and \x3cli\x3e", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script type="text/javascript" src="js/util.js?1389015166"></script><script type="text/javascript" src="js/field.js?1389015166"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico" >
  </head>



  <body onload=""
        class="old-bugzilla-wikimedia-org bz_bug bz_status_RESOLVED bz_product_MediaWiki bz_component_Parser bz_bug_6200 yui-skin-sam">



<!-- If custom Wikimedia skin -->
   <div id="page-base" class="noprint"></div>
                <div id="head-base" class="noprint"></div>
                <!-- content -->
                <div id="content-container" >
                        <a id="top"></a>
                        <!-- bodyContent -->
                        <div id="bodyContent">
      <p class="header_addl_info">Last modified: 2014-11-17 09:21:16 UTC</p>

 <!-- If custom Wikimedia skin -->
<h1>Wikimedia Bugzilla is closed!</h1><div id="message" style="text-align: center; color: black">Wikimedia has <a href="https://www.mediawiki.org/wiki/Phabricator/versus_Bugzilla">migrated from Bugzilla to Phabricator</a>. Bug reports should be created and updated in <a href="https://phabricator.wikimedia.org">Wikimedia Phabricator</a> instead. Please <a href="https://www.mediawiki.org/wiki/Phabricator/Help#Creating_your_account">create an account in Phabricator and add your Bugzilla email address</a> to it.<br>Wikimedia Bugzilla is read-only. If you try to edit or create any bug report in Bugzilla you will be shown an intentional error message.<br>In order to access the Phabricator task corresponding to a Bugzilla report, just remove "static-" from its URL.<br>You could still run searches in Bugzilla or access your <a href="https://old-bugzilla.wikimedia.org/page.cgi?id=voting%2Fuser.html">list of votes</a> but bug reports will obviously not be up-to-date in Bugzilla.</div>

<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>
<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2014-11-17 09:21:16">
  <input type="hidden" name="longdesclength" value="85">
  <input type="hidden" name="id" value="6200">
  <input type="hidden" name="token" value="1419366547-MIxvuIZ6ThB-Ra8UACzz9MJJK_-HQmM2PFuNAKfM-Ns">
<div class="bz_alias_short_desc_container edit_form">
     <a href="show_bug.cgi?id=6200"><b>Bug&nbsp;6200</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">Linebreaks are mishandled in &lt;blockquote&gt; and &lt;li&gt;</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>
</label>
</th>
          <td>Linebreaks are mishandled in &lt;blockquote&gt; and &lt;li&gt;
          </td>
        </tr>
      </table>
    </div>
  </div>
  <script type="text/javascript">
    hideAliasAndSummary('Linebreaks are mishandled in \x3cblockquote\x3e and \x3cli\x3e', '');
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >MediaWiki</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr>
    
    <td class="field_label">
      <label for="component">
        <a href="describecomponents.cgi?product=MediaWiki">
        Component:</a>
      </label>
    </td>
    
    <td>Parser
    
    (<a href="buglist.cgi?component=Parser&product=MediaWiki&resolution=---"
      target="new_window">Other open bugs</a>)
    
    </td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">All
       All
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>Low
       minor<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=6200">15 
            votes</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=6200#vote_6200">vote</a>)
  </span>
      </td>
    </tr>

      <tr>
        <th class="field_label">
          <label for="target_milestone">
            <a href="page.cgi?id=fields.html#target_milestone">
            Target&nbsp;Milestone</a></label>:
        </th><td>---
  </td>
      </tr>            
          
          <tr>
      <th class="field_label">
        <a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">C. Scott Ananian</span>
</span>
      </td>
    </tr>

    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'wikibugs-l\x40lists.wikimedia.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
          <a href="http://en.wikipedia.org/wiki/User:Simetrical/6200"><span title="http://en.wikipedia.org/wiki/User:Simetrical/6200">http://en.wikipedia.org/wiki/User:Sim...
        </span></a>
      </span>
    </td>
  </tr>
  
    <tr><th class="field_label "
    id="field_label_status_whiteboard">

    <label for="status_whiteboard" accesskey="w">

  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>
</label>
</th><td colspan="2">  
  </td>
    </tr>
  
    <tr>
      <th class="field_label">
        <label for="keywords" accesskey="k">
          <a href="describekeywords.cgi"><u>K</u>eywords</a></label>:
      </th>
      <td class="field_value" colspan="2">newparser, patch, patch-need-review
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label for="duplicates">Duplicates</label>:
    </th>
    <td class="field_value" colspan="2">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Paragraphs not respected within &lt;blockquote&gt;"
   href="show_bug.cgi?id=1857">1857</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Paragraphs are stripped inside of blockquotes"
   href="show_bug.cgi?id=7060">7060</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - template variables ignore linebreaks"
   href="show_bug.cgi?id=7262">7262</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Newlines ignored within html blockquotes"
   href="show_bug.cgi?id=11282">11282</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Double newlines in blockquotes should be turned into paragraphs"
   href="show_bug.cgi?id=51086">51086</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Indented text inside &lt;blockquote&gt;"
   href="show_bug.cgi?id=52763">52763</a> 
      </span>
      (<a href="buglist.cgi?bug_id=1857,7060,7262,11282,51086,52763">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Revert &lt;blockquote&gt;&lt;div&gt; hacks in content."
   href="show_bug.cgi?id=52585">52585</a> 
  </td>
  </tr>
  
  <tr>
    <th>&nbsp;</th>
  
    <td colspan="2" align="left" id="show_dependency_tree_or_graph">
      Show dependency <a href="showdependencytree.cgi?id=6200&amp;hide_resolved=1">tree</a>
  
        /&nbsp;<a href="showdependencygraph.cgi?id=6200">graph</a>
    </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2006-06-04 22:45 UTC by <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2014-11-17 09:21 UTC 
      (<a href="show_activity.cgi?id=6200">History</a>)
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>26 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="b">b</option>
                <option value="blog">blog</option>
                <option value="brion">brion</option>
                <option value="bugzilla+org.wikimedia">bugzilla+org.wikimedia</option>
                <option value="cananian">cananian</option>
                <option value="federicoleva">federicoleva</option>
                <option value="gtisza">gtisza</option>
                <option value="JoostMeerten">JoostMeerten</option>
                <option value="liontooth">liontooth</option>
                <option value="mah">mah</option>
                <option value="matma.rex">matma.rex</option>
                <option value="MediaWiki">MediaWiki</option>
                <option value="michael">michael</option>
                <option value="morten">morten</option>
                <option value="mtraceur">mtraceur</option>
                <option value="rkaldari">rkaldari</option>
                <option value="roan.kattouw">roan.kattouw</option>
                <option value="sexyeuroboy">sexyeuroboy</option>
                <option value="smccandlish">smccandlish</option>
                <option value="ssastry">ssastry</option>
                <option value="sumanah">sumanah</option>
                <option value="tylerromeo">tylerromeo</option>
                <option value="ui2t5v002">ui2t5v002</option>
                <option value="vitalif">vitalif</option>
                <option value="wicke">wicke</option>
                <option value="wikimedia">wikimedia</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ><ul class="bug_urls">
          <li><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Double newlines in blockquotes should be turned into paragraphs"
   href="show_bug.cgi?id=51086">51086</a>
          </li>
          <li><a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - Block element written inline splits multiline paragraphs"
   href="show_bug.cgi?id=5718">5718</a>
          </li></ul></td>
    </tr> 
         <tr><th class="field_label "
    id="field_label_cf_browser">


  <a 
      title="Please set this if the described problem seems to happen only in a specific web browser."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_browser"
  >Web browser:</a>

</th>
  <td class="field_value "
      id="field_container_cf_browser"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_platform">


  <a 
      title="The Mobile Platform the described problem was experienced on."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_platform"
  >Mobile Platform:</a>

</th>
  <td class="field_value "
      id="field_container_cf_platform"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_hugglebeta">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_hugglebeta"
  >Assignee Huggle Beta Tester:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_hugglebeta"  colspan="2">---</td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=2227"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">One-line proposed patch againt r16063</span></b></a>

          <span class="bz_attach_extra_info">
              (482 bytes,
                patch)

            <br>
            <a href="#attach_2227"
               title="Go to the comment associated with the attachment">2006-08-15 03:27 UTC</a>,

            <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=2227&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=2260"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Alternative patch (against 16144), changes only &lt;blockquote&gt;</span></b></a>

          <span class="bz_attach_extra_info">
              (1.20 KB,
                patch)

            <br>
            <a href="#attach_2260"
               title="Go to the comment associated with the attachment">2006-08-20 17:02 UTC</a>,

            <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=2260&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=7603"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Patch fixing this bug (6200) and also bug 15491</span></b></a>

          <span class="bz_attach_extra_info">
              (1.25 KB,
                patch)

            <br>
            <a href="#attach_7603"
               title="Go to the comment associated with the attachment">2010-07-29 10:51 UTC</a>,

            <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=7603&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=8126"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Completely rewritten doBlockLevels for MediaWiki 1.16</span></b></a>

          <span class="bz_attach_extra_info">
              (46.42 KB,
                patch)

            <br>
            <a href="#attach_8126"
               title="Go to the comment associated with the attachment">2011-02-11 18:10 UTC</a>,

            <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=8126&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=8221"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Completely rewritten doBlockLevels for MediaWiki 1.16</span></b></a>

          <span class="bz_attach_extra_info">
              (46.48 KB,
                patch)

            <br>
            <a href="#attach_8221"
               title="Go to the comment associated with the attachment">2011-02-28 12:28 UTC</a>,

            <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=8221&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a6" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=8235"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Completely rewritten doBlockLevels for MediaWiki 1.16</span></b></a>

          <span class="bz_attach_extra_info">
              (46.55 KB,
                patch)

            <br>
            <a href="#attach_8235"
               title="Go to the comment associated with the attachment">2011-03-03 12:53 UTC</a>,

            <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=8235&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a7" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=8626"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">New version of doBlockLevels (something fixed...)</span></b></a>

          <span class="bz_attach_extra_info">
              (47.26 KB,
                patch)

            <br>
            <a href="#attach_8626"
               title="Go to the comment associated with the attachment">2011-06-06 14:50 UTC</a>,

            <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=8626&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a8" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=9467"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Rewritten doBlockLevels for r103314</span></b></a>

          <span class="bz_attach_extra_info">
              (39.56 KB,
                patch)

            <br>
            <a href="#attach_9467"
               title="Go to the comment associated with the attachment">2011-11-16 12:36 UTC</a>,

            <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=9467&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a9" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=9468"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Rewritten doBlockLevels for r103314</span></b></a>

          <span class="bz_attach_extra_info">
              (39.81 KB,
                patch)

            <br>
            <a href="#attach_9468"
               title="Go to the comment associated with the attachment">2011-11-16 12:42 UTC</a>,

            <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=9468&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a10" class="bz_contenttype_text_plain bz_patch">
        <td valign="top">
            <a href="attachment.cgi?id=9469"
               title="View the content of the attachment">
          <b>Patch for Cite parser tests</b></a>

          <span class="bz_attach_extra_info">
              (8.97 KB,
                patch)

            <br>
            <a href="#attach_9469"
               title="Go to the comment associated with the attachment">2011-11-16 12:44 UTC</a>,

            <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=9469&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a11" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td valign="top">
            <a href="attachment.cgi?id=9526"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Updated patch (code-style + one fix), for r103914</span></b></a>

          <span class="bz_attach_extra_info">
              (39.60 KB,
                patch)

            <br>
            <a href="#attach_9526"
               title="Go to the comment associated with the attachment">2011-11-22 16:29 UTC</a>,

            <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=9526&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a12" class="bz_contenttype_text_plain bz_patch">
        <td valign="top">
            <a href="attachment.cgi?id=9660"
               title="View the content of the attachment">
          <b>New version of patch, for r105865</b></a>

          <span class="bz_attach_extra_info">
              (38.92 KB,
                patch)

            <br>
            <a href="#attach_9660"
               title="Go to the comment associated with the attachment">2011-12-12 12:51 UTC</a>,

            <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=9660&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="2">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (10)
        </span>
        <a href="attachment.cgi?bugid=6200&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>

  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js?1389015166" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>




<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-04 22:45:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" >See the wikitext of the URL.  I asked about it on [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=WP%3AVPT">WP:VPT</a>]], and Rob implied
this had been discussed before, but I couldn't find anything either here or
there, and he didn't clarify when asked, so I'm filing this as a bug.</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Zajac</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-04 17:34:42 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Definitely a bug.  Blockquotes shouldn't interfere with 
wikitext parsing, just as divs don't.</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-15 02:23:44 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Clarification of incorrect behavior: linebreaks are completely ignored when
placed directly in any of &lt;blockquote&gt;, &lt;table&gt;, &lt;ul&gt;, &lt;ol&gt;, &lt;li&gt;, &lt;p&gt;, &lt;tr&gt;,
&lt;h1/2/3/4/5/6&gt;.  They're treated correctly when placed in &lt;div&gt;, &lt;td&gt;, &lt;th&gt;, or
any inline element.  The problem appears to be somewhere in Parser.php lines
2076 to 2096; commenting these (and respective closing braces, etc.) out fixes
the problem in my test case, although God only knows what else it does.</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-15 03:27:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=2227" name="attach_2227" title="One-line proposed patch againt r16063">attachment 2227</a> <a href="attachment.cgi?id=2227&amp;action=edit" title="One-line proposed patch againt r16063">[details]</a></span>
One-line proposed patch againt <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/16063" title="revision 16063 in SVN">r16063</a>

This patch appears to fix the problem: it basically just removes the &quot;not in a
block&quot; condition from the code that outputs paragraphs.  The only question is
if that could break something.	I notice nothing odd with the patched version
in a local copy of [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Paris">Paris</a>]], which is a fairly typical example of a long
enwiki article in terms of formatting.</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-18 15:38:28 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Paragraphs are stripped inside of blockquotes"
   href="show_bug.cgi?id=7060">Bug 7060</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Zajac</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-18 23:56:11 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Line breaks *must* be ignored in &lt;table&gt;, &lt;ul&gt;, &lt;ol&gt;, and &lt;tr&gt; tags, because paragraphs or plain text aren't supposed 
to appear directly within them.  &lt;H&gt;eadings should only contain inline content, so line breaks ought to be ignored in them 
too. 

&lt;Blockquote&gt; elements should definitely behave just like &lt;div&gt;s.  &lt;Li&gt; tags can have block or inline content too, but 
changing their current behaviour might break existing pages -- some research would be required.</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-20 00:54:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=6200#c5">comment #5</a>)
<span class="quote">&gt; Line breaks *must* be ignored in &lt;table&gt;, &lt;ul&gt;, &lt;ol&gt;, and &lt;tr&gt; tags, because</span >
paragraphs or plain text aren't supposed 
<span class="quote">&gt; to appear directly within them.  &lt;H&gt;eadings should only contain inline</span >
content, so line breaks ought to be ignored in them 
<span class="quote">&gt; too. </span >

Ah, right.  That's probably the reason for the current behavior.

<span class="quote">&gt; &lt;Blockquote&gt; elements should definitely behave just like &lt;div&gt;s.  &lt;Li&gt; tags</span >
can have block or inline content too, but 
<span class="quote">&gt; changing their current behaviour might break existing pages -- some research</span >
would be required.

Why do you suspect that for &lt;li&gt; and not for &lt;blockquote&gt;?</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Zajac</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-20 13:51:26 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The main difference is that list items are almost always entered using wikitext * or # bullets.  Blockquotes can only 
be generated by typing HTML code.

Come to think of it, line breaks can't really be entered in lists generated using # or *, since they signal the end of a 
list item.

Real HTML &lt;li&gt;[...]&lt;/li&gt; tags are very rarely used, and then only by HTML-savvy editors who want to apply a class 
or style attribute, or by editors who cut-and-paste some existing HTML code.  Since block or inline content is 
allowed in list items, this would be the way to allow correct and more complex formatting of the contents of list 
items, but at the cost of complex and unusual markup in the edit field, incompatible with wikitext lists.

</pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-20 17:02:45 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=2260" name="attach_2260" title="Alternative patch (against 16144), changes only &lt;blockquote&gt;">attachment 2260</a> <a href="attachment.cgi?id=2260&amp;action=edit" title="Alternative patch (against 16144), changes only &lt;blockquote&gt;">[details]</a></span>
Alternative patch (against 16144), changes only &lt;blockquote&gt;

It doesn't seem like &lt;li&gt;s are parsed this way for lists, but it seems they
*are* parsed for the TOC, so &lt;li&gt; will have to remain on the list for the time
being.	As you say, it's not a terrible loss.</pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-07 21:24:33 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - template variables ignore linebreaks"
   href="show_bug.cgi?id=7262">Bug 7262</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Morten Blaabjerg</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-07 21:58:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Thank you for the patch. It works like a charm. I hope this is generally adopted into 
MediaWiki.</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-07 22:00:07 UTC
        </span>
      </div>



<pre class="bz_comment_text" >That's reviewed, then, I suppose.</pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rotem Liss</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-08 09:48:10 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=6200#c11">comment #11</a>)
<span class="quote">&gt; That's reviewed, then, I suppose.</span >

The fact it works doesn't mean it doesn't break other things. (I don't know if
it does.)</pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Zajac</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-23 05:59:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Is this a duplicate of <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Paragraphs not respected within &lt;blockquote&gt;"
   href="show_bug.cgi?id=1857">Bug 1857</a>?</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-23 06:01:16 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Paragraphs not respected within &lt;blockquote&gt;"
   href="show_bug.cgi?id=1857">Bug 1857</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-01-09 22:11:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >When will the patch go live on the English Wikipedia?</pre>
    </div><div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-01-09 22:17:55 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Well, first of all it has to be applied, which it hasn't been (otherwise this would be RESOLVED FIXED with a 
revision number noted in the last comment).  I did try applying it, but it gave me XHTML validity errors and 
on inspection it totally screwed up tag nesting.  I'll probably get around to poking it again at some point in 
the indefinite future, if that helps.</pre>
    </div><div id="c17" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Suttichort Sarathum</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-03-18 14:24:27 UTC
        </span>
      </div>



<pre class="bz_comment_text" >็How about fixing by using function nl2br? or using ereg function to get to word
from  &lt;blockquote&gt; then use explode function to turn all word
 into array by \n and then echo it out with &lt;p&gt; and &lt;/p&gt; per array index.</pre>
    </div><div id="c18" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-01 02:37:26 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Is <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Use paragraphs, rather than line breaks, where appropriate within &lt;poem&gt;"
   href="show_bug.cgi?id=6419">Bug 6419</a> related?</pre>
    </div><div id="c19" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-01 03:14:44 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I'm quite sure it's not.</pre>
    </div><div id="c20" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-23 20:25:17 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Is there a way to work around this in quotation templates?  Putting a table or div or something inside the blockquote?</pre>
    </div><div id="c21" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-23 20:37:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Yes, &lt;blockquote&gt;&lt;div&gt; seems to do it.  Good idea, now we can use semantic markup without the requirement of littering &lt;p&gt;'s everywhere manually.</pre>
    </div><div id="c22" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-23 21:33:12 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=6200#c21">comment #21</a>)
<span class="quote">&gt; Yes, &lt;blockquote&gt;&lt;div&gt; seems to do it.</span >

Hmmm.. Doesn't work for me.

<a href="http://en.wikipedia.org/wiki/User:Omegatron/Sandbox">http://en.wikipedia.org/wiki/User:Omegatron/Sandbox</a>

What, specifically, did you find to work?</pre>
    </div><div id="c23" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-23 21:37:11 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Aha.

This works:

&lt;blockquote&gt;&lt;div&gt;
paragraph 1

paragraph 2&lt;/div&gt;&lt;/blockquote&gt;

but this doesn't:

&lt;blockquote&gt;&lt;div&gt;paragraph 1

paragraph 2&lt;/div&gt;&lt;/blockquote&gt;</pre>
    </div><div id="c24" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-23 21:38:30 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It looks to be sensitive to newlines before/after &lt;/?div&gt;, but this works:

&lt;blockquote&gt;&lt;div&gt;
Foo

bar
&lt;/div&gt;&lt;/blockquote&gt;

This doesn't:

&lt;blockquote&gt;&lt;div&gt;Foo

bar&lt;/div&gt;&lt;/blockquote&gt;
</pre>
    </div><div id="c25" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-23 22:32:31 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Yeah.  For the record, it apparently needs a newline in both places.  This:

 &lt;blockquote&gt;&lt;div&gt;
 paragraph 1
 
 paragraph 2
 
 paragraph 3&lt;/div&gt;&lt;/blockquote&gt;

results in:

 &lt;blockquote&gt;
 &lt;div&gt;
 &lt;p&gt;paragraph 1&lt;/p&gt;
 &lt;p&gt;paragraph 2&lt;/p&gt;
 paragraph 3&lt;/div&gt;
 &lt;/blockquote&gt;

while this:

 &lt;blockquote&gt;&lt;div&gt;
 paragraph 1
 
 paragraph 2
 
 paragraph 3
 &lt;/div&gt;&lt;/blockquote&gt;

results in:

 &lt;blockquote&gt;
 &lt;div&gt;
 &lt;p&gt;paragraph 1&lt;/p&gt;
 &lt;p&gt;paragraph 2&lt;/p&gt;
 &lt;p&gt;paragraph 3&lt;/p&gt;
 &lt;/div&gt;
 &lt;/blockquote&gt;</pre>
    </div><div id="c26" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-09-11 14:54:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Newlines ignored within html blockquotes"
   href="show_bug.cgi?id=11282">Bug 11282</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c27" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Zajac</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-06-13 15:09:12 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Another bug in the default blockquote behaviour: an HTML ins or del inside a blockquote causes a paragraph break to be placed in front of it.  The workaround is to nest a div inside the blockquote.</pre>
    </div><div id="c28" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-07-30 23:34:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Added parser tests in <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/38624" title="revision 38624 in SVN">r38624</a>.  I have no idea where the special handling is that makes blockquotes different from divs: even if I convert everything in Parser.php that contains the string &quot;blockquote&quot; or &quot;div&quot; to treat them identically, they're still treated differently.  Maybe something in Sanitizer.php or something.</pre>
    </div><div id="c29" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tisza Gergő</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-08-26 21:06:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Technically, blockquote can only contain block elements (unlike div which can also contain inline elements and text), so the bug happens with invalid markup only. No one takes seriously the block-inline part of the (X)HTML spec, though.

The effect of the newlines is a more general bug: <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Single newlines sometimes create paragraphs"
   href="show_bug.cgi?id=9207">bug 9207</a>.</pre>
    </div><div id="c30" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-08-26 21:56:03 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=6200#c29">comment #29</a>)
<span class="quote">&gt; Technically, blockquote can only contain block elements (unlike div which can
&gt; also contain inline elements and text), so the bug happens with invalid markup
&gt; only.</span >

Aha, I had missed that.  So what's correct behavior in this case anyway, then?  Wrapping inline elements and text in paragraphs, probably?

<span class="quote">&gt; No one takes seriously the block-inline part of the (X)HTML spec, though.</span >

Well, maybe no one *should*, but we do claim to produce valid XHTML (barring bugs).  So I guess we have to.

<span class="quote">&gt; The effect of the newlines is a more general bug: <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Single newlines sometimes create paragraphs"
   href="show_bug.cgi?id=9207">bug 9207</a>.</span >

That seems more like an opposite bug, doesn't it?  Why do you think that bug is more general?</pre>
    </div><div id="c31" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omegatron</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-08-26 22:51:09 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=6200#c29">comment #29</a>)
<span class="quote">&gt; Technically, blockquote can only contain block elements (unlike div which can
&gt; also contain inline elements and text), so the bug happens with invalid markup
&gt; only.</span >

When we say &quot;newlines&quot; we mean &quot;paragraphs&quot;, since a newline in wikicode is converted to paragraph tags when rendered to HTML.  Paragraph tags are certainly valid inside blockquotes.</pre>
    </div><div id="c32" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-05 20:56:48 UTC
        </span>
      </div>



<pre class="bz_comment_text" >See <a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - ins or del 1st occurrence in blockquote causes bogus newline"
   href="show_bug.cgi?id=15491">Bug #15491</a>; the ins/del issue has been broken out into a separate bug, since it does not appear to be related to this one.</pre>
    </div><div id="c33" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-01-05 18:08:01 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Another classic bug. :) Bumping for next bug day...</pre>
    </div><div id="c34" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jens Müller</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-06-04 21:00:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >So is anyone actually working on these classic bugs?</pre>
    </div><div id="c35" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-06-04 21:25:15 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Nope.  Feel free to submit a patch.</pre>
    </div><div id="c36" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-06-12 08:29:32 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Anyone interested in this bug should probably also take a look at <a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - ins or del 1st occurrence in blockquote causes bogus newline"
   href="show_bug.cgi?id=15491">Bug #15491</a>.</pre>
    </div><div id="c37" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-07-29 10:51:03 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=7603" name="attach_7603" title="Patch fixing this bug (6200) and also bug 15491">attachment 7603</a> <a href="attachment.cgi?id=7603&amp;action=edit" title="Patch fixing this bug (6200) and also bug 15491">[details]</a></span>
Patch fixing this bug (6200) and also <a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - ins or del 1st occurrence in blockquote causes bogus newline"
   href="show_bug.cgi?id=15491">bug 15491</a>

Hi! We (CustIS, custis.ru) have also discovered this problem, so I've written a simple patch for &lt;blockquote&gt; parser handling (paragraph end regexp in Parser::doBlockLevels). This patch also fixes <a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - ins or del 1st occurrence in blockquote causes bogus newline"
   href="show_bug.cgi?id=15491">bug 15491</a> (if I understood its point correctly: &quot;&lt;blockquote&gt;a &lt;ins&gt;b&lt;/ins&gt; c&lt;/blockquote&gt;&quot; does not insert a newline before b anymore), and it also fixes the behaviour of &lt;center&gt; (paragraphs are allowed within &lt;center&gt;).</pre>
    </div><div id="c38" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-07-29 17:49:56 UTC
        </span>
      </div>



<pre class="bz_comment_text" >When's the next &quot;Bug Day&quot;?</pre>
    </div><div id="c39" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Max Semenik</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-07-29 18:23:17 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=6200#c38">comment #38</a>)
<span class="quote">&gt; When's the next &quot;Bug Day&quot;?</span >

Never. The idea never got going.</pre>
    </div><div id="c40" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aryeh Gregor (not reading bugmail, please e-mail directly)</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-07-29 19:10:12 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=7603" name="attach_7603" title="Patch fixing this bug (6200) and also bug 15491">attachment 7603</a> <a href="attachment.cgi?id=7603&amp;action=edit" title="Patch fixing this bug (6200) and also bug 15491">[details]</a></span>
Patch fixing this bug (6200) and also <a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - ins or del 1st occurrence in blockquote causes bogus newline"
   href="show_bug.cgi?id=15491">bug 15491</a>

Your patch causes XML well-formedness errors -- specifically, it causes the tests &quot;Regression with preformatted in &lt;center&gt;&quot; and &quot;<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Use of center tag ruins paragraph formatting"
   href="show_bug.cgi?id=8293">Bug 8293</a>: Use of center tag ruins paragraph formatting&quot; to fail.  Specifically, the HTML output of

&quot;&quot;&quot;
&lt;center&gt;
 Blah
&lt;/center&gt;
&quot;&quot;&quot;

contains &quot;&lt;p&gt;&lt;/center&gt;&quot;, and the output of

&quot;&quot;&quot;
&lt;center&gt;
foo
&lt;/center&gt;

bar

 baz
&quot;&quot;&quot;

contains

&quot;&quot;&quot;
&lt;p&gt;foo
&lt;/center&gt;
&quot;&quot;&quot;

So this patch isn't good, it causes regressions.  To run parser tests on your installation so you can check future patches, run this command from the location where you installed MediaWiki:

php maintenance/parserTests.php--quiet

(I've added two new parser tests in <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/70167" title="revision 70167 in SVN">r70167</a> to improve checks for &lt;blockquote&gt;.)</pre>
    </div><div id="c41" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-11 18:10:01 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=8126" name="attach_8126" title="Completely rewritten doBlockLevels for MediaWiki 1.16">attachment 8126</a> <a href="attachment.cgi?id=8126&amp;action=edit" title="Completely rewritten doBlockLevels for MediaWiki 1.16">[details]</a></span>
Completely rewritten doBlockLevels for MediaWiki 1.16

Hmm... You're right.

But there are so many problems with doBlockLevels that I think the correct way to fix all them is to rewrite it, and I've even done it now! :) (for 1.16, but is there any difference to trunk?) Patch is attached. It even passes all parser tests with some modifications similar to &quot;&lt;/p&gt;\n&lt;table&gt;&quot; --&gt; &quot;&lt;/p&gt;&lt;table&gt;&quot;, which, I suppose, isn't any real difference.

The patch not only fixes newline issues with &lt;blockquote&gt; etc, but also replaces &lt;p&gt;...&lt;/p&gt; to &lt;div class=&quot;paragraph&quot;&gt;...&lt;/div&gt; when ... contains &lt;div&gt;'s, which, I think, could be very controversial, but I see no other solution that fixes the following problem:

(example)
&quot;&quot;&quot;
A [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Image%3AB.jpg">Image:B.jpg</a>|right]] C

A [[<a href="https://en.wikipedia.org/w/index.php?title=Special:Search&go=Go&search=Image%3AB.jpg">Image:B.jpg</a>|right]] C
&quot;&quot;&quot;
is not split into two paragraphs as each of them contains &lt;div class=&quot;floatright&quot;&gt;.

(other possible solution is to not use &lt;div&gt; in thumbnail code and replace it with some inline element with display:block style, but this is even uglier and breaks HTML semantics)</pre>
    </div><div id="c42" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-28 12:28:37 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=8221" name="attach_8221" title="Completely rewritten doBlockLevels for MediaWiki 1.16">attachment 8221</a> <a href="attachment.cgi?id=8221&amp;action=edit" title="Completely rewritten doBlockLevels for MediaWiki 1.16">[details]</a></span>
Completely rewritten doBlockLevels for MediaWiki 1.16

+ minor fix</pre>
    </div><div id="c43" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-03 12:53:53 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=8235" name="attach_8235" title="Completely rewritten doBlockLevels for MediaWiki 1.16">attachment 8235</a> <a href="attachment.cgi?id=8235&amp;action=edit" title="Completely rewritten doBlockLevels for MediaWiki 1.16">[details]</a></span>
Completely rewritten doBlockLevels for MediaWiki 1.16

Oops, there is another little fix. :)</pre>
    </div><div id="c44" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark A. Hershberger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-12 16:09:38 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Punting this to the new parser Brion has under development.</pre>
    </div><div id="c45" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">p858snake</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-30 00:09:37 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*Bulk BZ Change: +Patch to open bugs with patches attached that are missing the keyword*</pre>
    </div><div id="c46" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-06-06 14:50:45 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=8626" name="attach_8626" title="New version of doBlockLevels (something fixed...)">attachment 8626</a> <a href="attachment.cgi?id=8626&amp;action=edit" title="New version of doBlockLevels (something fixed...)">[details]</a></span>
New version of doBlockLevels (something fixed...)

Updated doBlockLevels</pre>
    </div><div id="c47" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sumana Harihareswara</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-09 02:56:34 UTC
        </span>
      </div>



<pre class="bz_comment_text" >+need-review to signal to developers that this patch needs reviewing</pre>
    </div><div id="c48" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gabriel Wicke</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-10 15:23:49 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Vitalyi, thank you for your patch! As you probably know, the current parser is very limited in what it can do, so we are trying to develop a new parser that fixes these kinds of issues more systematically.

We try to incorporate your ideas in the new parser, but don't currently have the resources to thoroughly test your patch with real content. Did you already test your patch against the parser tests?</pre>
    </div><div id="c49" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-12 21:24:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Yes, I did it when I've developed it. All tests passed after some fixing.
We use this parser on all our wikis - some of them are corporate (intranet) ones, some of them are public.
Although parser tests pass, my implementation is still different from current MW parser, and it still can sometimes lead to an unwanted behaviour. For example, in my implementation &lt;div&gt;s (and, for example, &lt;center&gt; also) inside raw &lt;html&gt; blocks may interfere with &lt;div&gt;s outside it, because &lt;html&gt; may be wrapped into a &quot;paragraph&quot;, implemented using a &lt;div&gt;. This is easily fixable by extracting all block elements (div, center) from &lt;html&gt;, so doBlockLevels can see them and wrap accordingly.
Also, we had a funny bug with an unclosed &lt;span&gt; element in a pictogram template - some of the markup was mishandled and the image was duplicated on the page :) I didn't had time to test this deeply, just fixed it by adding a closing &lt;/span&gt;. I can try to test this if it will be useful :)</pre>
    </div><div id="c50" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark A. Hershberger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-15 01:37:56 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Your patch does not appear to be made against SVN head.  Please update it so that I can attempt to apply it.</pre>
    </div><div id="c51" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-16 12:36:04 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=9467" name="attach_9467" title="Rewritten doBlockLevels for r103314">attachment 9467</a> <a href="attachment.cgi?id=9467&amp;action=edit" title="Rewritten doBlockLevels for r103314">[details]</a></span>
Rewritten doBlockLevels for <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/103314" title="revision 103314 in SVN">r103314</a>

Yeah, it was made against 1.16.
Updated it against <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/103314" title="revision 103314 in SVN">r103314</a>. The new patch doesn't include the part for cite extension, I'll post it separately.
There are some changes in parser tests. Most of them are related to the space between closing and opening tags (&lt;/p&gt;\n&lt;p&gt; --&gt; &lt;/p&gt;&lt;p&gt;). Some are related to the subject of this bug.
Plus there is one test that I've intentionally didn't change - &lt;html&gt;&lt;script&gt;...&lt;/script&gt;&lt;/html&gt; which will now wrap into &lt;div class=paragraph&gt; not &lt;p&gt;.</pre>
    </div><div id="c52" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-16 12:42:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=9468" name="attach_9468" title="Rewritten doBlockLevels for r103314">attachment 9468</a> <a href="attachment.cgi?id=9468&amp;action=edit" title="Rewritten doBlockLevels for r103314">[details]</a></span>
Rewritten doBlockLevels for <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/103314" title="revision 103314 in SVN">r103314</a>

Oops, fixed one more parser test :)</pre>
    </div><div id="c53" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-16 12:44:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=9469" name="attach_9469" title="Patch for Cite parser tests">attachment 9469</a> <a href="attachment.cgi?id=9469&amp;action=edit" title="Patch for Cite parser tests">[details]</a></span>
Patch for Cite parser tests

Mostly related to space between closing and opening tags, but there's also one test with gallery in which real code was changed (with File:Foobar).</pre>
    </div><div id="c54" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-16 16:41:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >In the code, that's actually '&lt;div class=&quot;paragraph&quot;&gt;', with a quoted value, right?</pre>
    </div><div id="c55" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-16 16:53:30 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Yes, but unquoted in the case of true wgRawHtml.</pre>
    </div><div id="c56" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-22 16:29:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class="bz_obsolete"><a href="attachment.cgi?id=9526" name="attach_9526" title="Updated patch (code-style + one fix), for r103914">attachment 9526</a> <a href="attachment.cgi?id=9526&amp;action=edit" title="Updated patch (code-style + one fix), for r103914">[details]</a></span>
Updated patch (code-style + one fix), for <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/103914" title="revision 103914 in SVN">r103914</a>

New version of my patch, with correct code style, and one bug fixed - preformatting with a space at the line start didn't work right after a list element (if there was no blank line).

+ Discovered another difference to stock parser: a hack in the stock parser allows it to preformat lines in table cells. But because of this hack, for example, the following text:
 &lt;table&gt;
 &lt;tr&gt;
 &lt;td&gt;
 pre
 &lt;/td&gt;
 &lt;/tr&gt;
 &lt;/table&gt;
Parses to the non-expected:
 &lt;table&gt;
 &lt;tr&gt;
 &lt;td&gt;
&lt;pre&gt;pre
&lt;/pre&gt;
 &lt;/td&gt;
 &lt;/tr&gt;
 &lt;/table&gt;

After applying my patch, preformatting inside table cells is now totally disabled... There are no tests about it - is it considered to be a feature?

+ Where can I read about the new parser which is now in development? How will it work? Will it continue to support these hacks? :-)</pre>
    </div><div id="c57" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-22 16:40:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Failure to support explicitly marked-up &lt;pre&gt;...&lt;/pre&gt; content as preformatted simply because it's inside a table cell would clearly be a bug.  That exact layout situation is common in template documentation.</pre>
    </div><div id="c58" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gabriel Wicke</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-22 16:48:14 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Hi Vitalyi,

thank you for your update- I hope to find time to review your code and test it against real-world wiki source this week. The parser tests do not cover everything, so doing A-B testing on a wiki dump is still the most reliable test.

<span class="quote">&gt; After applying my patch, preformatting inside table cells is now totally
&gt; disabled... There are no tests about it - is it considered to be a feature?</span >

Preformatting in table cells should be supported, and ignoring the indentation for markup-only lines appears to be a sensible choice to me.

<span class="quote">&gt; + Where can I read about the new parser which is now in development? How will
&gt; it work? Will it continue to support these hacks? :-)</span >

I am currently working on a parser based on a PEG-based tokenizer for a standard HTML5 parser backend. The idea is to map both html tags and wiki syntax to the same tokens, and let the HTML parser construct the DOM tree from the resulting token soup. Some wiki-specific rules are enforced by post-processing the token stream before feeding those to the HTML parser.

Documentation for this effort can be found at <a href="http://www.mediawiki.org/wiki/Future/Parser_plan">http://www.mediawiki.org/wiki/Future/Parser_plan</a> and my user page (<a href="http://www.mediawiki.org/wiki/User:GWicke">http://www.mediawiki.org/wiki/User:GWicke</a>). The (currently Javascript) source is available in the VisualEditor extension in SVN trunk.</pre>
    </div><div id="c59" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c59">Comment 59</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark A. Hershberger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-22 18:25:26 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=6200#c57">comment #57</a>)
<span class="quote">&gt; Failure to support explicitly marked-up &lt;pre&gt;...&lt;/pre&gt; content as preformatted
&gt; simply because it's inside a table cell would clearly be a bug.  That exact
&gt; layout situation is common in template documentation.</span >

Could you point us to examples?  I'd like to get this added to the parser tests if possible.</pre>
    </div><div id="c60" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c60">Comment 60</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gabriel Wicke</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-22 18:26:53 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Vitalyi, I added the test case you described in <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/103933" title="revision 103933 in SVN">r103933</a>. If you came across more differences or issues not covered by parser tests (perhaps the one mentioned in <a href="show_bug.cgi?id=6200#c49">comment 49</a>?), then it would be nice to add parser tests for those as well. This benefits both the old and new parser(s).</pre>
    </div><div id="c61" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c61">Comment 61</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">S. McCandlish</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-22 18:38:31 UTC
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; Could you point us to examples?  I'd like to get this added to the parser tests
&gt; if possible.</span >

No, I was responding to Vitalyi here:

<span class="quote">&gt;&gt; After applying my patch, preformatting inside table cells is now totally
&gt;&gt; disabled... There are no tests about it - is it considered to be a feature?</span >

It couldn't possibly be a feature, since pre inside td is entirely routine markup.</pre>
    </div><div id="c62" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c62">Comment 62</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sumana Harihareswara</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-22 20:25:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=6200#c58">comment #58</a>)
<span class="quote">&gt; &gt; + Where can I read about the new parser which is now in development? How will
&gt; &gt; it work? Will it continue to support these hacks? :-)
&gt; 
&gt; I am currently working on a parser based on a PEG-based tokenizer for a
&gt; standard HTML5 parser backend. The idea is to map both html tags and wiki
&gt; syntax to the same tokens, and let the HTML parser construct the DOM tree from
&gt; the resulting token soup. Some wiki-specific rules are enforced by
&gt; post-processing the token stream before feeding those to the HTML parser.
&gt; 
&gt; Documentation for this effort can be found at
&gt; <a href="http://www.mediawiki.org/wiki/Future/Parser_plan">http://www.mediawiki.org/wiki/Future/Parser_plan</a> and my user page
&gt; (<a href="http://www.mediawiki.org/wiki/User:GWicke">http://www.mediawiki.org/wiki/User:GWicke</a>). The (currently Javascript) source
&gt; is available in the VisualEditor extension in SVN trunk.</span >

Vitaliy, I also suggest you subscribe to the parser/visual editor mailing list:

<a href="http://lists.wikimedia.org/pipermail/wikitext-l/">http://lists.wikimedia.org/pipermail/wikitext-l/</a></pre>
    </div><div id="c63" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c63">Comment 63</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Filippov</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-12-12 12:51:45 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=9660" name="attach_9660" title="New version of patch, for r105865">attachment 9660</a> <a href="attachment.cgi?id=9660&amp;action=edit" title="New version of patch, for r105865">[details]</a></span>
New version of patch, for <a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/105865" title="revision 105865 in SVN">r105865</a>

Updated the patch.
There is one fix: it does not wrap &lt;html&gt; contents into paragraphs (&lt;div class=paragraph&gt;) anymore, like the original parser.
But, it still has the issue with preformatting inside table cells.</pre>
    </div><div id="c64" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c64">Comment 64</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sumana Harihareswara</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-05-25 02:50:08 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Vitaliy: Thanks for your patch.  After you fix the issue with preformatting inside table cells, might you be interested in using developer access to directly suggest it into our Git source control system?

<a href="https://www.mediawiki.org/wiki/Developer_access">https://www.mediawiki.org/wiki/Developer_access</a>

<a href="https://www.mediawiki.org/wiki/Git/Workflow#How_to_submit_a_patch">https://www.mediawiki.org/wiki/Git/Workflow#How_to_submit_a_patch</a></pre>
    </div><div id="c65" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c65">Comment 65</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sumana Harihareswara</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-12-09 17:17:30 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Mark, do you have a moment to check on whether this patch is still potentially useful?  Thanks.</pre>
    </div><div id="c66" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c66">Comment 66</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerrit Notification Bot</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-08-06 19:30:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Change 77961 had a related patch set uploaded by Cscott:
Make linebreaks in &lt;blockquote&gt; behave like &lt;div&gt; (<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Linebreaks are mishandled in &lt;blockquote&gt; and &lt;li&gt;"
   href="show_bug.cgi?id=6200">bug 6200</a>).

<a href="https://gerrit.wikimedia.org/r/77961">https://gerrit.wikimedia.org/r/77961</a></pre>
    </div><div id="c67" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c67">Comment 67</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">C. Scott Ananian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-08-06 19:35:32 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Double newlines in blockquotes should be turned into paragraphs"
   href="show_bug.cgi?id=51086">Bug 51086</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c68" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c68">Comment 68</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerrit Notification Bot</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-08-06 19:55:31 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Change 77961 merged by jenkins-bot:
Make line breaks in &lt;blockquote&gt; behave like &lt;div&gt; (<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Linebreaks are mishandled in &lt;blockquote&gt; and &lt;li&gt;"
   href="show_bug.cgi?id=6200">bug 6200</a>).

<a href="https://gerrit.wikimedia.org/r/77961">https://gerrit.wikimedia.org/r/77961</a></pre>
    </div><div id="c69" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c69">Comment 69</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">C. Scott Ananian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-08-12 19:40:32 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Note that indented text inside &lt;blockquote&gt; should *not* be treated like &lt;div&gt;; see <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Indented text inside &lt;blockquote&gt;"
   href="show_bug.cgi?id=52763">bug 52763</a>.</pre>
    </div><div id="c70" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c70">Comment 70</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerrit Notification Bot</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-08-13 17:27:50 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Change 78967 had a related patch set uploaded by Subramanya Sastry:
Revert &quot;Make line breaks in &lt;blockquote&gt; behave like &lt;div&gt; (<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Linebreaks are mishandled in &lt;blockquote&gt; and &lt;li&gt;"
   href="show_bug.cgi?id=6200">bug 6200</a>).&quot;  See <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Indented text inside &lt;blockquote&gt;"
   href="show_bug.cgi?id=52763">bug 52763</a>

<a href="https://gerrit.wikimedia.org/r/78967">https://gerrit.wikimedia.org/r/78967</a></pre>
    </div><div id="c71" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c71">Comment 71</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerrit Notification Bot</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-08-13 18:07:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Change 78967 merged by jenkins-bot:
Revert &quot;Make line breaks in &lt;blockquote&gt; behave like &lt;div&gt; (<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Linebreaks are mishandled in &lt;blockquote&gt; and &lt;li&gt;"
   href="show_bug.cgi?id=6200">bug 6200</a>).&quot;  See <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Indented text inside &lt;blockquote&gt;"
   href="show_bug.cgi?id=52763">bug 52763</a>

<a href="https://gerrit.wikimedia.org/r/78967">https://gerrit.wikimedia.org/r/78967</a></pre>
    </div><div id="c72" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c72">Comment 72</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">ssastry
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-08-13 18:15:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >From <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Indented text inside &lt;blockquote&gt;"
   href="show_bug.cgi?id=52763">bug 52763</a>. 
---------
Change <a href="https://gerrit.wikimedia.org/r/#q,Iecab69460c6aac36acfe2d9440dc5d3590de8b57,n,z" title="Gerrit Change-Id: Iecab69460c6aac36acfe2d9440dc5d3590de8b57">Iecab69460c6aac36acfe2d9440dc5d3590de8b57</a> for <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Linebreaks are mishandled in &lt;blockquote&gt; and &lt;li&gt;"
   href="show_bug.cgi?id=6200">bug 6200</a> was somewhat
prematurely +2'ed and merged.  Subbu has pointed out that another difference
between &lt;blockquote&gt; and &lt;div&gt; is that indented content inside &lt;blockquote&gt; is
*not* considered to start a &lt;pre&gt;.

This bug seeks to revert that part of the &lt;blockquote&gt; behavior change, since a
quick grep through enwiki-20130708 finds that indented text inside &lt;blockquote&gt;
is quite common.
---------

So, this is trickier than what it seems to be.  It is not enough to make &lt;blockquote&gt; behave like &lt;div&gt;.  Indent-pre in &lt;blockquote&gt; should be turned off (especially because a lot of existing pages that use indents in block-quote will break without it).  Or, a convincing case has to be made why supporting indent-pre in &lt;blockquote&gt; is okay to do and then fix existing pages that use indents in blockquote.</pre>
    </div><div id="c73" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c73">Comment 73</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerrit Notification Bot</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-08-13 19:14:13 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Change 78972 had a related patch set uploaded by Cscott:
Make line breaks in &lt;blockquote&gt; behave like &lt;div&gt; (<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Linebreaks are mishandled in &lt;blockquote&gt; and &lt;li&gt;"
   href="show_bug.cgi?id=6200">bug 6200</a>).

<a href="https://gerrit.wikimedia.org/r/78972">https://gerrit.wikimedia.org/r/78972</a></pre>
    </div><div id="c74" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c74">Comment 74</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">C. Scott Ananian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-08-13 19:18:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I'm merging <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Indented text inside &lt;blockquote&gt;"
   href="show_bug.cgi?id=52763">bug 52763</a> and this one; also merging the previous patch for 6200 and the patch I wrote for 52763.  Please look at the parser tests carefully to observe the behavior change.  Primarily, we are now creating &lt;p&gt; elements inside &lt;blockquote&gt; -- which I believe to be correct (and necessary to fix <a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - ins or del 1st occurrence in blockquote causes bogus newline"
   href="show_bug.cgi?id=15491">bug 15491</a>), but caution is warranted.</pre>
    </div><div id="c75" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c75">Comment 75</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">C. Scott Ananian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-08-13 19:22:12 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Indented text inside &lt;blockquote&gt;"
   href="show_bug.cgi?id=52763">Bug 52763</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c76" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c76">Comment 76</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gerrit Notification Bot</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-09-12 23:24:41 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Change 78972 merged by jenkins-bot:
Make line breaks in &lt;blockquote&gt; behave like &lt;div&gt; (<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Linebreaks are mishandled in &lt;blockquote&gt; and &lt;li&gt;"
   href="show_bug.cgi?id=6200">bug 6200</a>).

<a href="https://gerrit.wikimedia.org/r/78972">https://gerrit.wikimedia.org/r/78972</a></pre>
    </div><div id="c77" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c77">Comment 77</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andre Klapper</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-09-25 09:46:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=6200#c76">comment #76</a>)
<span class="quote">&gt; Change 78972 merged by jenkins-bot:
&gt; Make line breaks in &lt;blockquote&gt; behave like &lt;div&gt; (<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Linebreaks are mishandled in &lt;blockquote&gt; and &lt;li&gt;"
   href="show_bug.cgi?id=6200">bug 6200</a>).
&gt; 
&gt; <a href="https://gerrit.wikimedia.org/r/78972">https://gerrit.wikimedia.org/r/78972</a></span >

Patch got merged, can this bug report be closed as RESOVLED FIXED?</pre>
    </div><div id="c78" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c78">Comment 78</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ryan Kaldari</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-10-15 17:27:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I've removed the workarounds from the Quote and Bq templates on en.wiki.</pre>
    </div><div id="c79" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c79">Comment 79</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ryan Kaldari</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-10-16 07:07:17 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Looks like there are still some issues:
<a href="https://en.wikipedia.org/wiki/User:Kaldari/Bug6200">https://en.wikipedia.org/wiki/User:Kaldari/Bug6200</a></pre>
    </div><div id="c80" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c80">Comment 80</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ryan Kaldari</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-10-16 07:28:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >FWIW, the new behavior does seem to match the behavior of div tags. However the behavior is somewhat wonky. Specifically, whether or not there is a newline preceding the closing div or blockquote tag determines whether or not the final chunk of text is put in a paragraph tag. There may be a good reason why this is the case, but I don't know what it would be.</pre>
    </div><div id="c81" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c81">Comment 81</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ryan Kaldari</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-10-16 07:49:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >There's also a second issue: If the blockquote only contains 2 chunks of text separated by 2 linebreaks, the linebreaks are completely ignored. This also matches the behavior of div tags, but in neither case does it make sense.</pre>
    </div><div id="c82" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c82">Comment 82</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mormegil</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-10-16 10:59:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=6200#c79">comment #79</a>)
<span class="quote">&gt; Looks like there are still some issues:
&gt; <a href="https://en.wikipedia.org/wiki/User:Kaldari/Bug6200">https://en.wikipedia.org/wiki/User:Kaldari/Bug6200</a></span >

Isn’t this just the generic <a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - Block element written inline splits multiline paragraphs"
   href="show_bug.cgi?id=5718">Bug 5718</a> (Block element written inline splits multiline paragraphs)?</pre>
    </div><div id="c83" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c83">Comment 83</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">ssastry
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-10-16 14:14:45 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=6200#c79">comment #79</a>)
<span class="quote">&gt; Looks like there are still some issues:
&gt; <a href="https://en.wikipedia.org/wiki/User:Kaldari/Bug6200">https://en.wikipedia.org/wiki/User:Kaldari/Bug6200</a></span >

This is existing paragraph wrapping behavior when block tags (opening/closing) are present on the same line as plain text.

<a href="https://git.wikimedia.org/blob/mediawiki%2Fcore.git/bc97a03f06bfb4bfd33cd2ec2a127c2f607e34e2/tests%2Fparser%2FparserTests.txt#L1200">https://git.wikimedia.org/blob/mediawiki%2Fcore.git/bc97a03f06bfb4bfd33cd2ec2a127c2f607e34e2/tests%2Fparser%2FparserTests.txt#L1200</a>

This is somewhat odd behavior, of course.</pre>
    </div><div id="c84" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=6200#c84">Comment 84</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">C. Scott Ananian</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-10-16 14:30:52 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Yeah, it's a side effect of the old parser handling tags on a line-by-line basis.  But I think it's too established a behavior to change now, and Parsoid is backwards-compatible with this behavior.

If someone wants to spend some quality time with a wikitext dump we could probably determine exactly how much wikitext depends on the current &quot;odd&quot; behavior.

In any case, since the behavior is now the same as for &lt;div&gt;, I think we can resolve this bug as fixed.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>

    <hr><div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=6200&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=6200">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=6200">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=6200">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>        


<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>

<br>
<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="head" class="noprint">
			<!-- /search -->
			<div id="p-search">
				<h5><label for="searchInput">Search</label></h5>
				<form id="searchform" action="buglist.cgi" method="get"
				 onsubmit="if (this.quicksearch.value == '')
				 { alert('Please enter one or more search terms first.');
				 return false; } return true;">
					<input type='hidden' name="title" value="Special:Search"/>
					<div id="simpleSearch">
						<input id="searchInput" name="quicksearch" type="text" title="Search Bugzilla [alt-f]" accesskey="f" value="" />
						<button id="searchButton" type='submit' name='button' title="Search Bugzilla for this text">&nbsp;</button>
					</div>
				</form>
			</div>
			<!-- /search -->
			<!-- personal -->
			<div id="p-personal" class="">
				<h5>Personal tools</h5>
				<ul >
							<li id="new_account_container">
								<a href="createaccount.cgi">New&nbsp;Account</a>
							</li>
						<li id="mini_login_container">
  <span class="separator">| </span>
  <a id="login_link" href="show_bug.cgi?id=6200&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('')">Log In</a>

  
  <form action="show_bug.cgi?id=6200" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login"
        onsubmit="return check_mini_login_fields( '' );"
  >
    <input id="Bugzilla_login" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('')"
    >
    <input class="bz_password" 
           id="Bugzilla_password" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy" value="password"
           title="Password"
           onfocus="mini_login_on_focus('')"
    >
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "email address",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('')">[x]</a>
  </form>
</li>
<li id="forgot_container">
  <span class="separator">| </span>
  <a id="forgot_link" href="show_bug.cgi?id=6200&amp;GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form"
        class="mini_forgot bz_default_hidden">
    <label for="login">Login:</label>
    <input type="text" name="loginname" size="20" id="login">
    <input id="forgot_button" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token" name="token" value="1419366547-zLBlLXZH6gr1NFHcwp1n09nNLOBD5oTHo_2QZ7Fv5uI">
    <a href="#" onclick="return hide_forgot_form('')">[x]</a>
  </form>
</li>

				</ul>
			</div>
			<!-- /personal -->
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="panel" class="noprint">
				<!-- logo -->
				<div id="p-logo"><a style="background-image: url(skins/contrib/Wikimedia/images/bugzilla-logo.png);" href="./"  title="Visit the main page"></a></div>
				<!-- /logo -->
				<!-- navigation -->
				<div class="portal">
					<h5>Navigation</h5>
					<div class="body">
						<ul><li><a href="query.cgi?format=specific">Search bugs</a></li>
			<li><a href="query.cgi?format=advanced">Advanced search</a></li>
			<li><a href="describecomponents.cgi">Browse projects</a></li>
			<li><a href="enter_bug.cgi">Enter a new bug</a></li>
                        <li>
                                <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
                        </li>	
						</ul>
					</div>
				</div>
				<!-- /navigation -->
				<!-- interaction -->
				<!-- /interaction -->
				<!-- toolbox -->
				<div class="portal">
					<h5>Links</h5>
					<div class="body">
						<ul><li><a href="report.cgi">Reports</a></li>
			<li><a href="weekly-bug-summary.cgi?tops=10&days=7">Weekly Summary</a></li>
				<li>
						<a href="request.cgi">Requests</a>
				</li>
						</ul>
					</div>
				</div>
				<!-- /toolbox -->
			</div>
		<!-- /panel -->		

		<!-- footer -->
		<div id="footer" >
			<ul id="footer-info">
				<li>Bugzilla version 4.4.5</li>
			</ul>

			<ul id="footer-places">
				<li><a href="https://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Bug_management/Bugzilla_etiquette" title="Bug management/Bugzilla etiquette">Bugzilla etiquette</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:About" title="Project:About">About MediaWiki.org</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:General_disclaimer" title="Project:General disclaimer">Disclaimers</a></li>
			</ul>
			<ul id="footer-icons" class="noprint">
				<li id="footer-icon-poweredby"><a href="http://www.bugzilla.org/"><img src="skins/contrib/Wikimedia/images/bugzilla-badge.png" height="31" width="88" alt="Powered by Bugzilla" /></a></li>
			</ul>
			<div style="clear:both"></div>
		<div class="outro"></div>
		</div>
		<!-- /footer -->
	</body>
</html>