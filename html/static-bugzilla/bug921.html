<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 921 &ndash; Install script always attempts to connect to database as root</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="https://old-bugzilla.wikimedia.org/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=921&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=921">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=921">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=921">



    
    <link href="skins/standard/global.css?1389015166"
          rel="alternate stylesheet" 
          title="Classic"><link href="js/yui/assets/skins/sam/autocomplete.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="js/yui/assets/skins/sam/calendar.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/global.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="skins/standard/show_bug.css?1389015166" rel="stylesheet"
        type="text/css" ><link href="extensions/Voting/web/style.css?1389015166" rel="stylesheet"
        type="text/css" ><!--[if lte IE 7]>
      


  <link href="skins/standard/IE-fixes.css?1389015166" rel="stylesheet"
        type="text/css" >
<![endif]-->

    <link href="skins/contrib/Wikimedia/global.css?1402013050" rel="stylesheet"
        type="text/css" title="Wikimedia"><link href="skins/contrib/Wikimedia/show_bug.css?1402441020" rel="stylesheet"
        type="text/css" title="Wikimedia">

      <link rel="stylesheet" href="skins/contrib/Wikimedia/vector.css?1403109885" media="screen"
            title="Wikimedia" />


    

    

    
<script type="text/javascript" src="js/yui/yahoo-dom-event/yahoo-dom-event.js?1389015166"></script><script type="text/javascript" src="js/yui/cookie/cookie-min.js?1389015166"></script><script type="text/javascript" src="js/yui/datasource/datasource-min.js?1389015166"></script><script type="text/javascript" src="js/yui/connection/connection-min.js?1389015166"></script><script type="text/javascript" src="js/yui/json/json-min.js?1389015166"></script><script type="text/javascript" src="js/yui/autocomplete/autocomplete-min.js?1389015166"></script><script type="text/javascript" src="js/yui/calendar/calendar-min.js?1389015166"></script><script type="text/javascript" src="js/global.js?1389015166"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 15
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null, 
                             "Bug 921 – Install script always attempts to connect to database as root",  
                             "show_bug.cgi?id=921" );
        document.title = "Bug 921 – Install script always attempts to connect to database as root";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "Bug 921 – Install script always attempts to connect to database as root", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();
    });
    // -->
    </script>
<script type="text/javascript" src="js/util.js?1389015166"></script><script type="text/javascript" src="js/field.js?1389015166"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico" >
  </head>



  <body onload=""
        class="old-bugzilla-wikimedia-org bz_bug bz_status_RESOLVED bz_product_MediaWiki bz_component_Installer bz_bug_921 yui-skin-sam">



<!-- If custom Wikimedia skin -->
   <div id="page-base" class="noprint"></div>
                <div id="head-base" class="noprint"></div>
                <!-- content -->
                <div id="content-container" >
                        <a id="top"></a>
                        <!-- bodyContent -->
                        <div id="bodyContent">
      <p class="header_addl_info">Last modified: 2011-10-12 01:16:47 UTC</p>

 <!-- If custom Wikimedia skin -->
<h1>Wikimedia Bugzilla is closed!</h1><div id="message" style="text-align: center; color: black">Wikimedia has <a href="https://www.mediawiki.org/wiki/Phabricator/versus_Bugzilla">migrated from Bugzilla to Phabricator</a>. Bug reports should be created and updated in <a href="https://phabricator.wikimedia.org">Wikimedia Phabricator</a> instead. Please <a href="https://www.mediawiki.org/wiki/Phabricator/Help#Creating_your_account">create an account in Phabricator and add your Bugzilla email address</a> to it.<br>Wikimedia Bugzilla is read-only. If you try to edit or create any bug report in Bugzilla you will be shown an intentional error message.<br>In order to access the Phabricator task corresponding to a Bugzilla report, just remove "static-" from its URL.<br>You could still run searches in Bugzilla or access your <a href="https://old-bugzilla.wikimedia.org/page.cgi?id=voting%2Fuser.html">list of votes</a> but bug reports will obviously not be up-to-date in Bugzilla.</div>

<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>
<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2011-10-12 01:16:47">
  <input type="hidden" name="longdesclength" value="43">
  <input type="hidden" name="id" value="921">
  <input type="hidden" name="token" value="1419358061-fOSesSC45-dFK0quiXWgcVta8ikFCMdCxtQvk4GV_Mk">
<div class="bz_alias_short_desc_container edit_form">
     <a href="show_bug.cgi?id=921"><b>Bug&nbsp;921</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">Install script always attempts to connect to database as root</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>
</label>
</th>
          <td>Install script always attempts to connect to database as root
          </td>
        </tr>
      </table>
    </div>
  </div>
  <script type="text/javascript">
    hideAliasAndSummary('Install script always attempts to connect to database as root', '');
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >MediaWiki</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr>
    
    <td class="field_label">
      <label for="component">
        <a href="describecomponents.cgi?product=MediaWiki">
        Component:</a>
      </label>
    </td>
    
    <td>Installer
    
    (<a href="buglist.cgi?component=Installer&product=MediaWiki&resolution=---"
      target="new_window">Other open bugs</a>)
    
    </td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">All
       All
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>High
       major<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=921">1 
            vote</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=921#vote_921">vote</a>)
  </span>
      </td>
    </tr>

      <tr>
        <th class="field_label">
          <label for="target_milestone">
            <a href="page.cgi?id=fields.html#target_milestone">
            Target&nbsp;Milestone</a></label>:
        </th><td>---
  </td>
      </tr>            
          
          <tr>
      <th class="field_label">
        <a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">Rob Church</span>
</span>
      </td>
    </tr>

    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'wikibugs-l\x40lists.wikimedia.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
  
    <tr><th class="field_label "
    id="field_label_status_whiteboard">

    <label for="status_whiteboard" accesskey="w">

  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>
</label>
</th><td colspan="2">  
  </td>
    </tr>
  
    <tr>
      <th class="field_label">
        <label for="keywords" accesskey="k">
          <a href="describekeywords.cgi"><u>K</u>eywords</a></label>:
      </th>
      <td class="field_value" colspan="2">
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label for="duplicates">Duplicates</label>:
    </th>
    <td class="field_value" colspan="2">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - new wiki creation assumes master user = &quot;root&quot;, blocks installation"
   href="show_bug.cgi?id=1195">1195</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Install error: 1044 Access denied for user"
   href="show_bug.cgi?id=3914">3914</a> 
      </span>
      (<a href="buglist.cgi?bug_id=1195,3914">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr>
    <th>&nbsp;</th>
  
    <td colspan="2" align="left" id="show_dependency_tree_or_graph">
      Show dependency <a href="showdependencytree.cgi?id=921&amp;hide_resolved=1">tree</a>
  
        /&nbsp;<a href="showdependencygraph.cgi?id=921">graph</a>
    </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2004-11-20 17:56 UTC by <span class="vcard"><span class="fn">Florian Effenberger</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2011-10-12 01:16 UTC 
      (<a href="show_activity.cgi?id=921">History</a>)
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>5 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="bobcat">bobcat</option>
                <option value="cletus">cletus</option>
                <option value="contactbox">contactbox</option>
                <option value="mediazilla">mediazilla</option>
                <option value="wikibugs-l">wikibugs-l</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         <tr><th class="field_label "
    id="field_label_cf_browser">


  <a 
      title="Please set this if the described problem seems to happen only in a specific web browser."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_browser"
  >Web browser:</a>

</th>
  <td class="field_value "
      id="field_container_cf_browser"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_cf_platform">


  <a 
      title="The Mobile Platform the described problem was experienced on."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_platform"
  >Mobile Platform:</a>

</th>
  <td class="field_value "
      id="field_container_cf_platform"  colspan="2">---</td>
    </tr>
    <tr><th class="field_label  bz_hidden_field"
    id="field_label_cf_hugglebeta">


  <a 
      title="A custom Drop Down field in this installation of Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#cf_hugglebeta"
  >Assignee Huggle Beta Tester:</a>

</th>
  <td class="field_value  bz_hidden_field"
      id="field_container_cf_hugglebeta"  colspan="2">---</td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>



  <tr class="bz_attach_footer">
    <td colspan="2">
        <a href="attachment.cgi?bugid=921&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>

  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js?1389015166" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>




<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Florian Effenberger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-11-20 17:56:19 UTC
        </span>
      </div>



<pre class="bz_comment_text" >When trying to install MediaWiki 1.3.8 (sorry, only version 1.3.7 was available
as BugZilla field), it always tries to connect as root to my MySQL database:

    * PHP 4.3.9: ok
    * PHP server API is cgi; using ugly URLs (index.php?title=Page_Title)
    * Have XML / Latin1-UTF-8 conversion support.
    * PHP's memory_limit is 8M. If this is too low, installation may fail!
Attempting to raise limit to 20M... ok.
    * Have zlib support; enabling output compression.
    * Found GD graphics library built-in, image thumbnailing will be enabled if
you enable uploads.
    * Installation directory: /usr/local/apache2/htdocs/wiki
    * Script URI path: /wiki
    * MySQL error 1045: Keine Zugriffsberechtigung f�r Benutzer:
'root&#64;localhost'. (Verwendetes Passwort: Nein)
    * Trying regular user... need password.

Something's not quite right yet; make sure everything below is filled out correctly.


When entering the correct root password (although the database already exists),
I receive &quot;MySQL error 0&quot;. I can connect with both the wiki and the root user to
MySQL using the normal MySQL client without any problems.</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-12-25 01:34:33 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - new wiki creation assumes master user = &quot;root&quot;, blocks installation"
   href="show_bug.cgi?id=1195">Bug 1195</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Xavier Perseguers</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-01-19 08:43:42 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I had same bug yesterday with a friend not having root access to mysql. However
he had a well configured database with his username+password.

I was able to install latest version (beta something) after having

- modified config script to login as his db-username
- entered his password as &quot;root&quot; password in the login form
- AND... having modified the management/users something script to remove all
GRANT queries (I replaced them with a dumb select query to get no error code,
however this might be useless)</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Florian Effenberger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-01-19 20:49:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >That sounds interesting! Could you please e-mail me your modified scripts and
tell me the version of MediaWiki you used, so I can test it?</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Asheesh Laroia</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-31 17:56:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I ran into the same problem.

I wrote on IRC before seeing this bug report: &quot;I seem to exhibit a MediaWiki
database logic bug on my setup.  Our db server is einstein; our web server is
centaur.  There is MySQL account called 'root' with no password that MediaWiki
authenticates as.  But &quot;root&quot; with no password has nearly no privileges; so MW
complains, &quot;Can't create database&quot; because it's trying to do things as the lame
root user.&quot;

 * The file causing the problems is config/index.php; this bug is in both MW
1.4.4 and 1.5rc1.
 * The user and database existed before I hit 'submit'.

 * I worked around it by doing this to config/index.php in MW 1.4.4:

441c441
&lt;               $wgDatabase = Database::newFromParams( $wgDBserver, &quot;root&quot;,
$conf-&gt;RootPW, &quot;&quot;, 1 );
---
<span class="quote">&gt;               $wgDatabase = Database::newFromParams( $wgDBserver, $wgDBuser,</span >
$wgDBpassword, &quot;&quot;, 1 );</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Y Chang</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-08-07 12:06:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Couldn't create database wikidb; try with root access or check your 
username/pass. 
Something's not quite right yet; make sure everything below is filled out 
correctly.

* I have created a new database (manually) called wikidb. I have also created 
a new mysql user/pass, which MW has verified to work to reach the step above. 
* I do not have root access, thus I have tried Asheesh Laroia's fix of 
changing &quot;root&quot; to $wgDBuser (etc) 
* The same error msg still occurs. </pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jouko</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-09-05 05:16:38 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Same here, I also try replace all root username and passwords but only managed
to do partial installation, some data like usernames and user rights still
missing. I wonder if there is an sql file that I could put trough mysql admin to
generate tables and data.
</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-09 16:46:15 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The reason for this is that at the bottom of the install form, the option for
users to enter their root password is provided; this is so you can get the
installer to set up your database and database user for you. Not providing the
password will cause the root connection attempt to fail, at which point, the
installer will usually find it can use your specified user.

Just to point out; root is attempted first, because if the user does want the
installer to set up the user for it, then that user is presumed not to exist.
I'm thinking perhaps we could offer the user the option to have all this created
for them; the install form is not 100% clear on this.

Marking this as INVALID, as it's expected behaviour.</pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-09 16:47:43 UTC
        </span>
      </div>



<pre class="bz_comment_text" >And just to confirm the obvious; yes, if you tell the installer to set up your
user and database for you, then MediaWiki is configured to use that new user,
not root.</pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-09 19:47:23 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The issue here is, if it is an existing MySQL implementation (which 
is quite common) a good administrator may have deleted the root 
account, giving root permission and control to some other account 
name with a less obvious means of guesswork or attack.

The problem is that Mediawiki at the time of this report, looks for 
an account named &quot;root&quot; on MySQL which it will use during 
installation to create and populate the various data tables, but it 
assumes &quot;root&quot; exists and is the superuser name on MySQL to do this, 
asking only the PW for &quot;root&quot;. It may not be..... even on amateur 
MySQL setups the administrator may have changed and deleted the 
&quot;root&quot; name for superuser access long ago.</pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-09 19:52:43 UTC
        </span>
      </div>



<pre class="bz_comment_text" >A good point, but in that case, you would end up using the user created for that
purpose anyway.</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-09 20:07:58 UTC
        </span>
      </div>



<pre class="bz_comment_text" >But you wouldn't. Say you install MySQL and make the superuser 
&quot;abc123XnYZ&quot; for security, deleting or disabling the account named 
&quot;root&quot; afterwards. You still would not run mediawiki under that user 
&quot;abc123XnYZ&quot;, because that user has superuser access. You would want 
mediawiki to log in as that user on installation only, as usual... 
to create its tables, and to create a &quot;safe&quot; user as normal. 

ie, the fact you have changed the superuser name does NOT mean you 
want to run public facing software as that user....</pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-09 20:08:50 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Sorry, I meant the user created for the purpose of running the software. Didn't
make that clear.</pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-09 20:18:07 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(np, it was clear from the context but thanks anyhow. Above reply 
stands)</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-09 20:22:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >The core problem is, Mediawiki needs one time access to the 
superuser account. And it assumes that superuser is always, and 
would always, be called &quot;root&quot; (no matter the name of the user you 
are creating to ultimately run mediawiki). And that superuser will 
not always be called &quot;root&quot;. 

Especially on a long standing system or a well configured one, or 
one with a good sysadmin managing it, that assumption should not be 
made as it will more than likely be wrong on a significant number of 
systems, which will result in mediawiki auto-insisting on trying to 
install itself by means of an account that either does not exist, or 
does not have authority in MySQL.

Now is it more clear, why mediawiki needs to ask not just the root 
password, but the appropriate root account name?</pre>
    </div><div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-09 20:25:37 UTC
        </span>
      </div>



<pre class="bz_comment_text" >MediaWiki does *not* need access to the root account if you have the other
account already created. On a well configured system, that is how you'd do it,
is it not?

I agree, however, that if it is going to use the root account, then it might be
an idea to allow the name to be changed.</pre>
    </div><div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-09 20:44:39 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Agreed, one of those two. 

Either way the install must visibly be able to handle (and make 
clear what to do) the consequences if the MySQL privileged account 
that has authority to set up the necessary data is not called 
&quot;root&quot;.

If the answer is that it doesn't need root access at all, then it 
shouldn't say it needs the root password, and should make clear what 
it does need. 

If it does need some kind of privileged account to create users and 
such, it must ask its name during setup. 

If it can avoid the use of a privileged account but this would 
complicate installation for newcomers, then it should make life 
easier for them and ask for a privileged account name anyhow, for 
simplicity (as this is a minimal change to the code and would solve 
it 100%).

The answer (#15) that if your superuser account isn't called root 
you can skip it if the other account is set up already, falters for 
me, because it requires users to manually and correctly do stuff in 
MySQL in order to install Mediawiki. That's going to put off a lot 
more people than asking for the account name as well as its 
password. Its also unnecessary as the entire code to do this is 
already there, just needing a single text string &quot;root&quot; to be 
replaced by a variable.

Personally I feel that the simplst, most elegant way is simply:

&quot;To install mediawiki the software needs one-time access to a 
privileged MySQL account to define users tables and privileges, such 
as 'root'. Please give the name [default = root] and password for a 
suitable account that can be used for this purpose.&quot;

Then ask for a user and password, not just a password. 

And test the account first to ensure it does have the privileges 
needed to run the install, so you don't get a cascade of less 
obvious secondary error messages if not.</pre>
    </div><div id="c17" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-10 00:19:57 UTC
        </span>
      </div>



<pre class="bz_comment_text" >My feeling would be that we shouldn't be asking for the root password. If users
can't create accounts in mySQL, I'm not comfortable with them installing MediaWiki.

We should make it so that the user has to have already set up an account with
only the required permissions, and knows which permissions can be taken away
after - such as CREATE (we don't need to re-create the tables once defined, do we?)</pre>
    </div><div id="c18" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-10 00:42:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I understand but I would none the less be inclined to still  
disagree, on two counts.

First, that installing mediawiki is a local once-off process. My 
understanding is that the root password is not being saved or reused 
beyond this one time. If instead it was constantly saving or using 
it, I would have far more grave concerns as you say.

Second, that Mediawiki is presently very accessible. Changing root 
ID on MySQL is easy. So novices at MySQL can do it. Now, if you are 
going to take away how Mediawiki automatically sets itself up, and 
demand the user has already created an account with the right 
privileges, all you are doing is essentially asking them to do 
manually a process that can be (and presently is) automated.  I 
don't see the gain to the user in terms of security or ease of doing 
so, or the gain to mediawiki in terms of accessibility, in fact much 
the reverse. 

It now would demand every user instead of entering an account and 
password and having the software take the few steps needed 
automatically and correctly, they must do precisely the same, create 
an account if it doesnt exist, and enter it and its password, and 
cut/paste some SQL code into the SQL command line, for precisely the 
same effect. I do find it quite hard to see how enforcing that 
change of process has helped the wiki manager in any everyday sense.</pre>
    </div><div id="c19" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-10 08:13:40 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Well in that case, we need to have it so that the installer asks for the root
username and password as a clear alternative to a specific account.  Perhaps,
under the specific account details, we could have a checkbox - &quot;Create this
account&quot; - which enables the form fields for the root username and root password.</pre>
    </div><div id="c20" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-10 11:01:26 UTC
        </span>
      </div>



<pre class="bz_comment_text" >So in essence, if the running acount does not exist, the Mediawiki 
software needs to temporary use a privileged account for 
installation (ie, get a suitable name and password for a privileged 
account for installation purposes), and ask for a suitable user 
account for general running use.

Or put asnother way, the software cannot create an account, from 
nothing, with the privileges needed. *Either* the user installing 
Mediawiki will have to give it a privileged account name + password 
to use to create a suitable user account, *or* the user must give it 
a pre-created user account to run under that has already been 
manually defined correctly (in which case the creation of such an 
account can obviously be skipped). 

I don't see the latter being a common scenario to handle given we 
are talking about an initial install process.

Isn't that basically where we're at anyway, except that it has to 
ask for the privileged account's name as well rather than assume the 
name is &quot;root&quot; and asking only its password?</pre>
    </div><div id="c21" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-10 13:59:29 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Yes, I was just musing over how to explain it to the end user.</pre>
    </div><div id="c22" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-10 17:03:03 UTC
        </span>
      </div>



<pre class="bz_comment_text" >&quot;To install mediawiki, the install process must configure itself in 
MySQL. This is an automatic process, requiring brief access to a 
privileged MySQL adminstrator's account this one time. As part of 
the install Mediawiki creates a normal (non privileged) MySQL 
account which it will use when running the actual wiki.

Please enter the name (usually 'root') and password for a privileged 
account that can be used briefly to install Mediawiki (this will not 
be saved, it is needed this one time only and then forgotten), and 
the name and desired password that the Mediawiki software should  
create for everyday use once it is correctly installed and working. 
[click here for how Mediawiki uses the root account during install]&quot;</pre>
    </div><div id="c23" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-10 17:06:25 UTC
        </span>
      </div>



<pre class="bz_comment_text" >If you include a radio button:

&quot;yes, please use the following privileged account to create a 
mediawiki user&quot;
&quot;the Mediawiki user account below already exists so privileged 
access is not needed&quot;

Warnings given if 1) privileged account selected but lacks necessary 
MySQL root authorities, or 2) user account said to already exist but 
does not, or lacks necessary MySQL user authorities</pre>
    </div><div id="c24" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-10 17:50:41 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Simpler option:

Please enter the mySQL account to be used by MediaWiki:

Username: __________
Password: __________

[X] MediaWiki should create this account

If the box is checked, a section of the installer (preferably below the prompt
I've outlined above) is enabled and required:

Please enter the credentials to a local superuser account to be used for this

Username: root_________ (defaults to root, anyway)
Password: _____________

<span class="quote">&gt;&gt;Click here for more information on how MediaWiki uses this account&lt;&lt;</span >

Something like that, perhaps?
</pre>
    </div><div id="c25" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-11 02:53:35 UTC
        </span>
      </div>



<pre class="bz_comment_text" >That works. Same basic idea, less verbage.</pre>
    </div><div id="c26" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-11 02:55:36 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Don't forget,  either the account (if it exists) or the superuser 
account (if given) will have to be checked briefly during the first 
stage of install, to ensure they exist and have whatever authorities 
they respectively need, whichever way it goes.</pre>
    </div><div id="c27" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-11 02:58:42 UTC
        </span>
      </div>



<pre class="bz_comment_text" >One edit briefly (sorry!)
I'd make extremely clear what each is used for:

Please enter the mySQL user account name to be used when running 
MediaWiki:

Username: __________
Password: __________

[X] MediaWiki should create this account during installation
</pre>
    </div><div id="c28" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">PS</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-10-11 03:01:05 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Last potential hiccup - ensure that *blank* passwords are accepted

(some other MySQL installations might be configured so that root can 
only log in from one, or a few, specified machines, and therefore a 
password is not used to do so)</pre>
    </div><div id="c29" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-15 17:58:20 UTC
        </span>
      </div>



<pre class="bz_comment_text" >*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Install error: 1044 Access denied for user"
   href="show_bug.cgi?id=3914">Bug 3914</a> has been marked as a duplicate of this bug. ***</pre>
    </div><div id="c30" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jason Harrison</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-15 18:02:57 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I reported the above <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Install error: 1044 Access denied for user"
   href="show_bug.cgi?id=3914">bug 3914</a> and still not getting it to install.  My launch
was supposed to be 15 days ago with this project, i'd like to get it going if
there is a viable workaround.  Its starting to stress me out as my users are
constantly asking me when it is going to be installed and I can't find the time
to tinker under the hood right now.  Please view the 3914 if you have any
solutions, as i might of tried them.  thank you.

Jason</pre>
    </div><div id="c31" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">jacki buros</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-04 05:00:44 UTC
        </span>
      </div>



<pre class="bz_comment_text" >It's worth noting that on some hosted MySQL servers (XO, UNIX w/apache, MySQL4.0, 
MW1.5.4) the mere attempt to access the db as 'root' gives an error message:

  Trying to connect to MySQL on ###.###.###.### as root... 
  MySQL error 1105: No '&#64;' was found in user string (root) Disconnecting

modifying the code in config/index.php to replace 'root' with the name of a 
DBuser having grant/create/etc privilege caused a different error (to paraphrase, 
it stated that 'root' didn't have access to 'wikidb'), but when i reloaded the 
page i got a 'MediaWiki already exists checking if updates needed' output that 
completed the installation successfully. Hope this helps.</pre>
    </div><div id="c32" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jason Harrison</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-04 05:27:49 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I got the email notification up above and eagerly tried to install the latest
flavor again, but I got the same freakin' error again.  I would pay someone at
this point to help me getting this up and running.  It's been over a month and a
half and my users have lost faith in me.  I'm still sold on Mediawiki, however
it's looking slim so I might have to find something else that I can work with. 
 HELP!!!

<a href="mailto:bobcat&#64;sleestak.net">bobcat&#64;sleestak.net</a>

# Trying to connect to MySQL on localhost as root...

    * Connected as root (automatic)

# Connected to 4.0.16-xxxxxxxxxxx; enabling MySQL 4 enhancements

    * Error selecting database xxxxxxxxxxxxx: 1044 Access denied for user: '&#64;%'
to database 'xxxxxxxxxxxxx'</pre>
    </div><div id="c33" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sean Gabriel Heacock</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-05 04:55:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I've encountered something that seems to be related to the issues described in
the comments for this bug.

I installed the latest version (1.5.4) for one of my users.  I created his
database beforehand, and provided the configuration page with the proper
hostname, user, database, and password.  I left the root password entry blank,
since I already set that stuff up.

It gave me a mysql connection error, saying it couldn't connect as root - even
though it shouldn't have had to.  Fine, being as how MediaWiki is such a
well-known package, I felt reasonable comfortable giving it the root mysql
password.  I assumed it would discover that the database was already set up, and
move on to creating the tables - which it did; however, it also added two new
entries to the mysql.user table, for user &quot;root&quot; with hostnames &quot;%&quot; and
&quot;localhost.localdomain&quot;, and no privileges.

This is a MAJOR, HUGE, GINORMOUS problem.  Why did it do this?  I'm beyond
pissed about this.  Fortunately I was still able to connect through localhost
and fix what MediaWiki screwed up.  Why is MediaWiki taking it upon itself to do
ANYTHING to the root mysql user?  Why does it error out when the root password
is not supplied, when the configured database and mysql user ALREADY EXIST?</pre>
    </div><div id="c34" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-05 07:21:56 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=921#c33">comment #33</a>)
You're damn right MediaWiki shouldn't be doing that, but I don't think it is -
I'm no expert with the innards of mySQL, but it sounds very much like something
mySQL itself is doing.

Regardless, this issue is now starting to affect a lot of users. I think I'll do
a partial rewrite of the affected portion of the installer script.</pre>
    </div><div id="c35" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brion Vibber</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-05 13:07:21 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Your MySQL is apparently misconfigured so that a root login with no password 
*SUCCEEDS*, but then can't do anything. You should see about fixing this -- it 
causes the installer's initial check to fail incorrectly.

If you want the installer to connect as root with a password, so it can create the 
database and set up the db user for MediaWiki, then you should give it *just* the 
root password in the root password field.

It sounds like you told the installer to create a mysql user &quot;root&quot; for MediaWiki 
to run under as well. You probably shouldn't do that; give it the account that you 
want to run MediaWiki under instead.
</pre>
    </div><div id="c36" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jason Harrison</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-05 23:34:24 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Is there any possible workaround just so I can get the thing up and running? or
am I still S.O.L. as I have been since November?</pre>
    </div><div id="c37" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-05 23:58:55 UTC
        </span>
      </div>



<pre class="bz_comment_text" >Try <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED INVALID - Category renders as text at top of category instead of links at the bottom of the page"
   href="show_bug.cgi?id=1044#c10">bug 1044 comment 10</a>.</pre>
    </div><div id="c38" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jason Harrison</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-06 04:00:47 UTC
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=921#c37">comment #37</a>)
<span class="quote">&gt; Try <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED INVALID - Category renders as text at top of category instead of links at the bottom of the page"
   href="show_bug.cgi?id=1044#c10">bug 1044 comment 10</a>.</span >

I only see 1 comment there, are you sure that's the right one?</pre>
    </div><div id="c39" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-06 12:30:55 UTC
        </span>
      </div>



<pre class="bz_comment_text" >I meant <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Install error: 1044 Access denied for user"
   href="show_bug.cgi?id=3914#c10">bug 3914 comment 10</a>. Sorry, I was reading the &quot;error number&quot; out of the
bug summary, not the bug number.</pre>
    </div><div id="c40" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-14 01:43:51 UTC
        </span>
      </div>



<pre class="bz_comment_text" >This should now be fixed in CVS HEAD with the code I'm committing this second.
The installer now:

[a] attempts to connect first as the specified user
[b] ...and then as root
[c] ...and then cries

Basically, an ugly hack in the middle is now a bit cleaner. I'll backport it to
1.5 branch as soon as I know it isn't going to interfere there.</pre>
    </div><div id="c41" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jason Harrison</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-17 02:46:48 UTC
        </span>
      </div>



<pre class="bz_comment_text" >is this CVS HEAD thing in the newest flavor of mediawiki?  I'm still not getting
it to install... it's been 20 months now

thanks (i hope)
</pre>
    </div><div id="c42" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=921#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rob Church</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-17 18:06:59 UTC
        </span>
      </div>



<pre class="bz_comment_text" >CVS HEAD is the latest code in CVS, which runs Wikimedia wikis. It's not used
for the releases at the moment. I've since backported similar (though slightly
different, due to the way MediaWiki 1.5 supports databases) changes to the
installer in REL_1_5. This installer will work against existing versions of
MediaWiki within the 1.5 branch, and will also be shipped with MediaWiki 1.5.6.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>

    <hr><div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=921&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=921">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=921">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=921">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>        


<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>

<br>
<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="head" class="noprint">
			<!-- /search -->
			<div id="p-search">
				<h5><label for="searchInput">Search</label></h5>
				<form id="searchform" action="buglist.cgi" method="get"
				 onsubmit="if (this.quicksearch.value == '')
				 { alert('Please enter one or more search terms first.');
				 return false; } return true;">
					<input type='hidden' name="title" value="Special:Search"/>
					<div id="simpleSearch">
						<input id="searchInput" name="quicksearch" type="text" title="Search Bugzilla [alt-f]" accesskey="f" value="" />
						<button id="searchButton" type='submit' name='button' title="Search Bugzilla for this text">&nbsp;</button>
					</div>
				</form>
			</div>
			<!-- /search -->
			<!-- personal -->
			<div id="p-personal" class="">
				<h5>Personal tools</h5>
				<ul >
							<li id="new_account_container">
								<a href="createaccount.cgi">New&nbsp;Account</a>
							</li>
						<li id="mini_login_container">
  <span class="separator">| </span>
  <a id="login_link" href="show_bug.cgi?id=921&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('')">Log In</a>

  
  <form action="show_bug.cgi?id=921" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login"
        onsubmit="return check_mini_login_fields( '' );"
  >
    <input id="Bugzilla_login" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           onfocus="mini_login_on_focus('')"
    >
    <input class="bz_password" 
           id="Bugzilla_password" 
           name="Bugzilla_password"
           type="password"
           title="Password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy" value="password"
           title="Password"
           onfocus="mini_login_on_focus('')"
    >
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "email address",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('')">[x]</a>
  </form>
</li>
<li id="forgot_container">
  <span class="separator">| </span>
  <a id="forgot_link" href="show_bug.cgi?id=921&amp;GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form"
        class="mini_forgot bz_default_hidden">
    <label for="login">Login:</label>
    <input type="text" name="loginname" size="20" id="login">
    <input id="forgot_button" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token" name="token" value="1419358061-Mn5d4KHKZ7UdIvO9uHFCvJ9R5fiKrHk4zqEGJgEoJWY">
    <a href="#" onclick="return hide_forgot_form('')">[x]</a>
  </form>
</li>

				</ul>
			</div>
			<!-- /personal -->
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="panel" class="noprint">
				<!-- logo -->
				<div id="p-logo"><a style="background-image: url(skins/contrib/Wikimedia/images/bugzilla-logo.png);" href="./"  title="Visit the main page"></a></div>
				<!-- /logo -->
				<!-- navigation -->
				<div class="portal">
					<h5>Navigation</h5>
					<div class="body">
						<ul><li><a href="query.cgi?format=specific">Search bugs</a></li>
			<li><a href="query.cgi?format=advanced">Advanced search</a></li>
			<li><a href="describecomponents.cgi">Browse projects</a></li>
			<li><a href="enter_bug.cgi">Enter a new bug</a></li>
                        <li>
                                <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
                        </li>	
						</ul>
					</div>
				</div>
				<!-- /navigation -->
				<!-- interaction -->
				<!-- /interaction -->
				<!-- toolbox -->
				<div class="portal">
					<h5>Links</h5>
					<div class="body">
						<ul><li><a href="report.cgi">Reports</a></li>
			<li><a href="weekly-bug-summary.cgi?tops=10&days=7">Weekly Summary</a></li>
				<li>
						<a href="request.cgi">Requests</a>
				</li>
						</ul>
					</div>
				</div>
				<!-- /toolbox -->
			</div>
		<!-- /panel -->		

		<!-- footer -->
		<div id="footer" >
			<ul id="footer-info">
				<li>Bugzilla version 4.4.5</li>
			</ul>

			<ul id="footer-places">
				<li><a href="https://wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Bug_management/Bugzilla_etiquette" title="Bug management/Bugzilla etiquette">Bugzilla etiquette</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:About" title="Project:About">About MediaWiki.org</a></li>
				<li><a href="https://www.mediawiki.org/wiki/Project:General_disclaimer" title="Project:General disclaimer">Disclaimers</a></li>
			</ul>
			<ul id="footer-icons" class="noprint">
				<li id="footer-icon-poweredby"><a href="http://www.bugzilla.org/"><img src="skins/contrib/Wikimedia/images/bugzilla-badge.png" height="31" width="88" alt="Powered by Bugzilla" /></a></li>
			</ul>
			<div style="clear:both"></div>
		<div class="outro"></div>
		</div>
		<!-- /footer -->
	</body>
</html>